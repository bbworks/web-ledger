{"version":3,"sources":["utilities/utilities.js","utilities/transactions.js","utilities/budgetsData.js","utilities/errorHandling.js","googleApi/utilities.js","googleApi/gapi.js","googleApi/authentication.js","api/transactions.js","api/budgetsData.js","api/accountsData.js","api/accountData.js","hooks/useConsoleLog.js","hooks/useScript.js","hooks/useBudgetCycleTransactions.js","components/Logo/index.js","components/GoogleApiSignInButton/index.js","components/SignInView/index.js","components/GoogleApiUserButton/index.js","components/DashboardHeader/index.js","components/DashboardTop/index.js","utilities/dashboard.js","components/DashboardInsight/index.js","components/DashboardInsights/index.js","components/DashboardShowcase/index.js","components/DashboardContent/index.js","components/DashboardView/index.js","components/BudgetGraphStatusIcon/index.js","components/BudgetGraph/index.js","components/BudgetsView/index.js","components/TransactionsImportForm/index.js","components/TransactionsTableHeaders/index.js","components/TagBadge/index.js","components/TransactionsTableTransaction/index.js","components/TransactionsTableTransactions/index.js","components/TransactionsTableBody/index.js","components/TransactionsTable/index.js","components/TransactionsData/index.js","components/InputDropdown/InputDropdown.js","components/InputDropdown/index.js","components/TransactionDetailModalInput/index.js","components/TransactionDetailModal/index.js","components/TransactionsImportDuplicatesModalDuplicateCheckbox/index.js","components/TransactionsImportDuplicatesModal/index.js","components/TransactionsView/index.js","components/SettingsView/index.js","components/FooterNavbar/index.js","components/App/index.js","reportWebVitals.js","index.js"],"names":["isFalsy","value","nullCoalesce","arguments","Error","reduce","accumulator","convertNumberToCurrency","Number","toFixed","toString","replace","p0","split","reverse","join","getSumByProp","array","prop","Array","isArray","sum","item","isNaN","areObjectsEqual","a","b","typeofA","aValues","Object","entries","bValues","length","i","aKey","aValue","bKey","bValue","convertDateStringToDate","dateString","dateStringFormat","yearFormatRegEx","RegExp","monthFormatRegEx","dayFormatRegEx","getDatePartByFormat","datePartFormatRegex","getDatePartCallback","isMatch","matchAll","matchStartingIndex","index","matchedFormat","matchEndingIndex","substring","Date","yearString","yearFormat","getFullYear","monthString","monthFormat","importTransactions","transactionsData","dataType","map","transactionLine","match","console","warn","trim","TransactionDate","Description","IsNegativeAmount","Amount","PostedDate","Card","Type","DescriptionDisplay","Category","Notes","Tags","filter","transaction","csvData","csv","delimiter","line","headers","splice","lineObj","forEach","convertCSVToJSON","flat","Charges","Payments","Debit","Credit","type","keys","includes","transactionDate","err","formatTransactionDisplay","toLocaleDateString","description","isTransactionDuplicate","potentialDuplicate","transactions","find","getBudgetAmountSpentFromTransactions","budgetName","isCreditCardPaymentTransaction","isIncomeTransaction","check","throwException","exception","errorMsg","message","name","number","fileName","lineNumber","columnNumber","stack","error","exceptionMsg","key","window","alert","getHeadersFromJSON","JSON","convertSheetsArraysToJSON","data","obj","convertJSONToSheetsArray","object","header","getDynamicPropertyByArray","startingObject","dotSeparatedProperties","property","convertColumnNumberToColumnLetter","columnLettersArray","letter","Math","floor","push","convertColumnLetterToColumnNumber","columnLetters","columnLetter","indexOf","convertArrayToA1Notation","rowsColumnsArray","startingCell","startingColumnLetter","startingRow","startingColumnIndex","rows","columns","rowNumber","SPREADSHEET_ID","callGoogleApiFunction","googleApi","resourceType","method","optionsParam","pageToken","leftoverIds","params","options","part","undefined","id","maxResults","Promise","resolve","reject","resource","gapi","client","response","log","result","nextPageToken","items","mine","values","getSheetsSpreadsheetValues","sheetName","range","r","spreadsheetId","updateSheetsSpreadsheetValues","valuesJSON","valueInputOption","includeValuesInResponse","responseValueRenderOption","scopes","discoveryDocs","initAuthorization","loginCallback","logoutCallback","creds","info","parse","localStorage","getItem","clientId","prompt","setItem","stringify","fetchAuthCredentials","loadGoogleApis","load","initializeGoogleApis","init","scope","then","auth2","getAuthInstance","isSignedIn","listen","updateSigninStatus","get","catch","signInInfo","getProfileInformation","signIn","signOut","profile","currentUser","getBasicProfile","getId","getName","firstName","getGivenName","lastName","getFamilyName","imageUrl","getImageUrl","emailAddress","getEmail","getTransactions","updateTransactions","getBudgetsData","getAccountsData","getAccountData","useConsoleLog","args","useEffect","slice","useScript","src","useState","isLoaded","setIsLoaded","script","document","createElement","async","option","addEventListener","event","body","appendChild","removeChild","useBudgetCycleTransactions","budgetCycle","getBudgetCycleTransactions","getMonth","budgetCycleTransactions","setBudgetCycleTransactions","Logo","className","href","GoogleApiSigninButton","onClick","SignInView","GoogleApiUserButton","signedInUser","data-bs-toggle","aria-expanded","aria-labelledby","DashboardHeader","DashboardTop","date","accountsData","accountData","Balance","total","sort","LastUpdated","record","CreditScore","getMonthFromNumber","getCurrentYear","DashboardInsight","insight","iconClass","title","text","DashboardInsights","budgetsData","insights","setInsights","personalSpendingBudgetData","budgetData","Name","personalSpendingBudgetLeft","previousInsights","bill","amountSpent","abs","amount","runInsights","DashboardShowcase","DashboardContent","DashboardView","setFooterNavbar","route","useLocation","pathname","BudgetGraphStatusIcon","iconText","iconColor","budget","overBudget","BudgetGraph","isExpenseBudget","style","color","backgroundColor","width","left","right","BudgetsView","currentBudgetCycleTransactions","TransactionsImportForm","onSubmitProp","onSubmit","onFileInputChangeProp","onFileInputChange","isOpen","setIsOpen","preventDefault","transactionsDataArray","all","target","files","file","fileContent","wasOpen","transactionImportInput","querySelector","scrapedTransactionsData","accept","multiple","onChange","TransactionsTableHeaders","TagBadge","tag","TransactionsTableTransaction","onTransactionEditButtonClick","transactionDisplay","setTransactionDisplay","TransactionsTableTransactions","TransactionsTableBody","totalAmount","setTotalAmount","TransactionsTable","TransactionsData","isDescendantOf","element","potentialAncestor","parentElement","isDescendantOfDropdown","classList","contains","dropdownMasterEventListener","dropdown","eventListeners","dropdownItem","dropdownInput","dropdownList","dropdownListItems","querySelectorAll","previousSelectedValue","unFilterDropdownItems","dropdownListItem","remove","innerHTML","innerText","setDropdownItemsSelection","selectedDropdownListItem","resetDropdownItemsSelection","add","setDropdownSelection","checkDropdownListSelectionScroll","newlySelectedDropdownListItemRect","getBoundingClientRect","dropdownListViewport","topIsBelowNotAboveViewportTop","top","bottomIsAboveNotBelowViewportBottom","bottom","scroll","scrollTop","height","dropdownIsOpen","openDropdown","checkIfClickedOrFocusedOutsideOfDropdown","dropdownListItemOnMouseEnter","closeDropdown","removeEventListener","regEx","filterDropdownItems","keyCode","currentSelectedDropdownListItem","dropdownWasOpen","upOrDown","wrapAround","currentSelectedDropdownListItemIndex","newlySelectedDropdownListItem","listenerObj","callEventListeners","InputDropdown","initialValue","placeholder","onKeyDown","onChangeProp","setValue","autoComplete","TransactionDetailModalInput","transactionDetail","tabIndex","onBlur","onTagBadgeClick","tagType","disabled","TransactionDetailModal","buttonsOptions","onClose","setPostedDate","setTransactionDate","setCard","setAmount","setDescription","setCategory","setType","setNotes","setTags","transactionDetails","setState","onTransactionDetailInputContainerClick","transactionDetailInput","focus","onTransactionDetailInputContainerBlur","onTransactionDetailInputKeyDown","nextOrPrevious","shiftKey","inputsArray","Set","nextInput","t","Modal","show","onHide","Header","Title","transactionModalForm","input","updatedTransaction","Body","onTransactionDetailInputChange","Footer","buttonObj","TransactionsImportDuplicatesModalDuplicateCheckbox","duplicateData","checked","confirmed","updatedDuplicateData","htmlFor","duplicate","TransactionsImportDuplicatesModal","newTransactions","duplicates","duplicatesData","setDuplicatesData","onTransactionsImportDuplicatesModalDuplicateCheckboxChange","oldDuplicateData","newDuplicateData","previousDuplicatesData","newDuplicatesData","data-bs-dismiss","confirmedDuplicates","filteredNewTransactions","newTransaction","TransactionsView","transactionsImportDuplicatesModalNewTransactions","transactionsImportDuplicatesModalDuplicates","isTransactionsImportDuplicatesModalOpen","onTransactionsImportDuplicatesModalClose","onTransactionsImportDuplicatesModalSubmit","onTransactionsImportFormSubmit","onTransactionsImportFormFileInputChange","onTransactionDetailModalSubmitProp","onTransactionDetailModalSubmit","transactionDetailModalTransaction","setTransactionDetailModalTransaction","isTransactionDetailModalOpen","setIsTransactionDetailModalOpen","closeTransactionDetailModal","cancelButton","okButton","SettingsView","FooterNavbar","active","footerNavbar","useRef","activePath","process","navItems","current","activeItem","navItem","getAttribute","setActiveItem","ref","to","App","setTransactions","setBudgetsData","setAccountsData","setAccountData","setTransactionsImportDuplicatesModalNewTransactions","setTransactionsImportDuplicatesModalDuplicates","setIsTransactionsImportDuplicatesModalOpen","setSignedInUser","gapiLoaded","onSignInChange","setTransactionsWrapper","setTransactionsHandler","previousTransactions","callback","oldTransaction","transactionsArray","typeCheckTransactions","categorizedTransactionData","categorizeTransactionByDescription","importTransactionsHandler","openTransactionsImportDuplicatesModal","checkTransactionsForDuplicates","closeTransactionsImportDuplicatesModal","basename","path","exact","updateTransactionHandler","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ddb8a7de.chunk.js","sourcesContent":["export const isFalsy = function(value) {\r\n  return value !== 0 && (!value || value == false);\r\n};\r\n\r\nexport const nullCoalesce = function(value) {\r\n  if(isFalsy(arguments)) throw new Error(\"Function cannot accept 0 parameters.\");\r\n  return [...arguments].reduce((accumulator, value)=>accumulator = (isFalsy(accumulator) && !isFalsy(value) ? value : accumulator), null);\r\n};\r\n\r\nexport const convertNumberToCurrency = function(value) {\r\n  return Number(value)\r\n    .toFixed(2)\r\n    .toString()\r\n    .replace(/\\d{4,}/, (p0)=>p0.split('').reverse().join('').replace(/(\\d{3})(?=\\d)/g, \"$1,\").split('').reverse().join('')) //add commas\r\n    .replace(/(\\d)/, \"$$$1\") //add $\r\n};\r\n\r\nexport const convertCSVToJSON = function(csv, delimiter = \",\") {\r\n  //Initialize variables\r\n  const csvData = csv\r\n    //Break apart by new line\r\n    .split(/(?:\\r\\n|\\r|\\n)/)\r\n    //Begin breaking apart each line by the delimiter\r\n    .map(line=>(!line ? null : line.split(delimiter)))\r\n    //Remove the empty lines\r\n    .filter(line=>line);\r\n\r\n  //Get the headers\r\n  const headers = csvData.splice(0,1)[0];\r\n\r\n  //Get the data\r\n  const obj = csvData.map(line=>{\r\n    const lineObj = {};\r\n    line.forEach((value, i)=>{\r\n      lineObj[headers[i]] = value;\r\n    })\r\n    return lineObj;\r\n  });\r\n\r\n  return obj;\r\n};\r\n\r\nexport const getSumByProp = (array, prop)=>{\r\n  //Make sure the provided object is an array\r\n  if (!Array.isArray(array)) {\r\n    //If its not even a single object, return null\r\n    if(!typeof array === \"object\") return null;\r\n\r\n    //Otherwise, wrap the object in an array for processing\r\n    array = [array]\r\n  }\r\n\r\n  return Number(array.reduce((sum, item)=>{\r\n    //If this an object, use the property\r\n    if (typeof item === \"object\") {\r\n      if (!Number.isNaN(item[prop])) return sum+=item[prop];\r\n    }\r\n\r\n    //Otherwise, if a number, use the item directly\r\n    if (!Number.isNaN(item)) return sum+=item;\r\n  }, 0)) || null;\r\n};\r\n\r\nexport const areObjectsEqual = (a,b)=>{\r\n  //## typeof values\r\n  //\"undefined\"\r\n  //\"boolean\"\r\n  //\"number\"\r\n  //\"bigint\"\r\n  //\"string\"\r\n  //\"symbol\"\r\n  //\"function\" (non-primitive)\r\n  //\"object\"  (non-primitive) //includes null\r\n\r\n  //\r\n  if (a === null) {\r\n    if (b === null) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  //First, if not the same type, exit\r\n  const typeofA = typeof a;\r\n  const typeofB = typeof b;\r\n  if (typeofA !== typeofB) return false;\r\n\r\n  //If these are objects, recurse into them\r\n  if (typeofA === \"object\") {\r\n    const aValues = Object.entries(a);\r\n    const bValues = Object.entries(b);\r\n\r\n    //Short-circuit if the number of properties aren't the same\r\n    if(aValues.length !== bValues.length) return false;\r\n\r\n    for(let i = 0; i < aValues.length; i++) {\r\n      const [aKey, aValue] = aValues[i];\r\n      const [bKey, bValue] = bValues[i];\r\n      if(aKey !== bKey) return false;\r\n      if (!areObjectsEqual(aValue, bValue)) return false;\r\n    }\r\n\r\n    //If the objects properties/arrays values are all the same, return true\r\n    return true;\r\n  }\r\n\r\n  //Otherwise, compare the values\r\n  return a === b;\r\n};\r\n\r\nexport const convertDateStringToDate = (dateString, dateStringFormat)=>{\r\n  //Declare variables\r\n  const yearSymbol = \"y\";\r\n  const monthSymbol = \"M\";\r\n  const daySymbol = \"d\";\r\n\r\n  const yearFormatRegEx = new RegExp(`(${yearSymbol}{1,4})`, \"g\");\r\n  const monthFormatRegEx = new RegExp(`(${monthSymbol}{1,4})`, \"g\");\r\n  const dayFormatRegEx = new RegExp(`(${daySymbol}{1,2})`, \"g\");\r\n\r\n  const getDatePartByFormat = (dateString, dateStringFormat, datePartFormatRegex, getDatePartCallback)=>{\r\n    //Match against the provided format\r\n    const isMatch = [...dateStringFormat.matchAll(datePartFormatRegex)];\r\n\r\n    //If none were found, or more than one match is found, throw\r\n    if (!isMatch || isMatch.length > 1) throw new Error(`Error: Format \"${dateStringFormat}\" matched RegExp ${datePartFormatRegex.toString()} ${(isMatch ? isMatch.length : 0)} time${(isMatch ? \"s\" : \"\")}.`);\r\n\r\n    const matchStartingIndex = isMatch[0].index;\r\n    const matchedFormat = isMatch[0][1];\r\n    const matchEndingIndex = matchedFormat.length + matchStartingIndex;\r\n    const matchedString = dateString.substring(matchStartingIndex, matchEndingIndex);\r\n\r\n    //Return back the month index based on the format\r\n    return getDatePartCallback(matchedString, matchedFormat);\r\n  };\r\n\r\n  const getYearByFormat = (yearString, yearFormat)=>{\r\n    if (Number.isNaN(yearString)) return null;\r\n\r\n    if (yearFormat === \"yy\") return Number((new Date()).getFullYear().toString().substring(0,2)+yearString);\r\n    if (yearFormat === \"yyyy\") return Number(yearString);\r\n\r\n    return null;\r\n  };\r\n\r\n  const getMonthIndexByFormat = (monthString, monthFormat)=>{\r\n    if (monthFormat === \"M\") {\r\n      if (monthString === \"1\") return 0;\r\n      if (monthString === \"2\") return 1;\r\n      if (monthString === \"3\") return 2;\r\n      if (monthString === \"4\") return 3;\r\n      if (monthString === \"5\") return 4;\r\n      if (monthString === \"6\") return 5;\r\n      if (monthString === \"7\") return 6;\r\n      if (monthString === \"8\") return 7;\r\n      if (monthString === \"9\") return 8;\r\n      if (monthString === \"10\") return 9;\r\n      if (monthString === \"11\") return 10;\r\n      if (monthString === \"12\") return 11;\r\n    }\r\n    if (monthFormat === \"MM\") {\r\n      if (monthString === \"01\") return 0;\r\n      if (monthString === \"02\") return 1;\r\n      if (monthString === \"03\") return 2;\r\n      if (monthString === \"04\") return 3;\r\n      if (monthString === \"05\") return 4;\r\n      if (monthString === \"06\") return 5;\r\n      if (monthString === \"07\") return 6;\r\n      if (monthString === \"08\") return 7;\r\n      if (monthString === \"09\") return 8;\r\n      if (monthString === \"10\") return 9;\r\n      if (monthString === \"11\") return 10;\r\n      if (monthString === \"12\") return 11;\r\n    }\r\n    if (monthFormat === \"MMM\") {\r\n      if (monthString === \"Jan\") return 0;\r\n      if (monthString === \"Feb\") return 1;\r\n      if (monthString === \"Mar\") return 2;\r\n      if (monthString === \"Apr\") return 3;\r\n      if (monthString === \"May\") return 4;\r\n      if (monthString === \"Jun\") return 5;\r\n      if (monthString === \"Jul\") return 6;\r\n      if (monthString === \"Aug\") return 7;\r\n      if (monthString === \"Sep\") return 8;\r\n      if (monthString === \"Oct\") return 9;\r\n      if (monthString === \"Nov\") return 10;\r\n      if (monthString === \"Dec\") return 11;\r\n    }\r\n    if (monthFormat === \"MMMM\") {\r\n      if (monthString === \"January\") return 0;\r\n      if (monthString === \"February\") return 1;\r\n      if (monthString === \"March\") return 2;\r\n      if (monthString === \"April\") return 3;\r\n      if (monthString === \"May\") return 4;\r\n      if (monthString === \"June\") return 5;\r\n      if (monthString === \"July\") return 6;\r\n      if (monthString === \"August\") return 7;\r\n      if (monthString === \"September\") return 8;\r\n      if (monthString === \"October\") return 9;\r\n      if (monthString === \"November\") return 10;\r\n      if (monthString === \"December\") return 11;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  const getDayByFormat = (monthString, monthFormat)=>{\r\n    if (Number.isNaN(monthString) || Number(monthString) < 1 || Number(monthString) > 31) return null;\r\n\r\n    return Number(monthString);\r\n\r\n    return null;\r\n  };\r\n\r\n  return new Date(\r\n    getDatePartByFormat(dateString, dateStringFormat, yearFormatRegEx, getYearByFormat),\r\n    getDatePartByFormat(dateString, dateStringFormat, monthFormatRegEx, getMonthIndexByFormat),\r\n    getDatePartByFormat(dateString, dateStringFormat, dayFormatRegEx, getDayByFormat)\r\n  );\r\n};\r\n","import {isFalsy, nullCoalesce, convertNumberToCurrency, convertCSVToJSON, convertDateStringToDate, areObjectsEqual, getBudgetAmountSpentFromTransactions, getMonthFromNumber, getCurrentYear, getBillingCycleFromDate} from './utilities.js';\r\n\r\n//Declare private functions\r\nconst getTransactionDefaultDescriptionDisplay = function(description) {\r\n  if (!description) return null;\r\n\r\n  return `*${\r\n    description\r\n      //.replace(/([\\w\\'&]+)/g, p1=>p1[0].toUpperCase() + p1.substring(1).toLowerCase()) /* set Pascal casing between words */\r\n  }`;\r\n};\r\n\r\n// const filterTransactions = function (transactions) {\r\n//   return transactions.map(transaction=>(\r\n//     {\r\n//       ...transaction,\r\n//       display: (transaction.display.Description && transaction.display.Description.toUpperCase() === \"PAYMENT - THANK YOU ATLANTA GA\" ? null : transaction.display),\r\n//     }\r\n//   ));\r\n// };\r\n\r\n\r\n//Declare public functions\r\nexport const typeCheckTransactions = function (transactions) {\r\n  return transactions.map(transaction=>(\r\n    {\r\n      ...transaction,\r\n      PostedDate: transaction.PostedDate && new Date(transaction.PostedDate),\r\n      TransactionDate: transaction.TransactionDate && new Date(transaction.TransactionDate),\r\n      Type: (transaction.Type ? transaction.Type : null),\r\n      Category: (transaction.Category ? transaction.Category : null),\r\n      Description: (transaction.Description ? transaction.Description : null),\r\n      Category: (transaction.Category ? transaction.Category : null),\r\n      Amount: (isNaN(transaction.Amount) ? Number(transaction.Amount.replace(/(\\$|,)/g, \"\")) : Number(transaction.Amount)),\r\n      Tags: (!isFalsy(transaction.Tags) ? transaction.Tags : []),\r\n\r\n    }\r\n  ));\r\n};\r\n\r\nexport const categorizeTransactionByDescription = function(transaction) {\r\n  const {DescriptionDisplay, Description, Tags, Category, Notes} = transaction;\r\n\r\n  //Skip the transaction if there is no Description\r\n  if (!Description) return transaction;\r\n\r\n  //Define a base for categorized transaction data\r\n  let categorizedTransactionData = {};\r\n\r\n  //Bills\r\n       if (Description.match(/Spectrum 855-707-7328 SC/i))  categorizedTransactionData = {Category: \"Spectrum Internet\", DescriptionDisplay: \"Charge to CCD *3991\", Notes: null};\r\n  else if (Description.match(/Simplisafe 888-957-4675 Ma/i))  categorizedTransactionData = {Category: \"SimpliSafe (for mom)\", DescriptionDisplay: \"Charge to CCD *3991\", Notes: null};\r\n  else if (Description.match(/SDC\\*Laurens Electric C Laurens SC/i))  categorizedTransactionData = {Category: \"Laurens Electric ProTec Security\", DescriptionDisplay: \"Charge to CCD *3991\", Notes: null};\r\n  else if (Description.match(/SJWD Water District 8649492805 SC/i))  categorizedTransactionData = {Category: \"SJWD Water District\", DescriptionDisplay: \"Charge to CCD *3991\", Notes: null};\r\n  else if (Description.match(/State Farm Insurance 8009566310 Il/i))  categorizedTransactionData = {Category: \"State Farm auto insurance\", DescriptionDisplay: \"Charge to CCD *3991\", Notes: null};\r\n  else if (Description.match(/Spotify USA(?: New York NY)?/i))  categorizedTransactionData = {Category: \"Spotify Premium subscription\", DescriptionDisplay: \"Charge to CCD *3991\", Notes: null};\r\n  else if (Description.match(/Netflix.Com Netflix.Com Ca/i))  categorizedTransactionData = {Category: \"Netflix Premium subscription\", DescriptionDisplay: \"Charge to CCD *3991\", Notes: null};\r\n  else if (Description.match(/Ddv \\*Discoveryplus 0123456789 TN/i))  categorizedTransactionData = {Category: \"Discovery Plus subscription\", DescriptionDisplay: \"Charge to CCD *3991\", Notes: null};\r\n  else if (Description.match(/(?:AT&T \\*Payment|ATT\\*BILL PAYMENT) 800-288-2020 TX/i))  categorizedTransactionData = {Category: \"AT&T Internet\", DescriptionDisplay: \"Charge to CCD *3991\", Notes: null};\r\n  else if (Description.match(/KIRBY SANITATION\\/C&J E 8648778887 SC/i))  categorizedTransactionData = {Category: \"Kirby Sanitation\", DescriptionDisplay: \"Charge to CCD *3991\", Notes: null};\r\n\r\n  //Recurring expenses\r\n\r\n  //Gas\r\n  else if (Description.match(/QT \\d+ (?:INSIDE|OUTSIDE|\\w+ \\w{2})/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"QuikTrip\", Notes: null};\r\n  else if (Description.match(/CIRCLE K # \\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"Circle K\", Notes: null};\r\n  else if (Description.match(/7-ELEVEN \\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"7-Eleven\", Notes: null};\r\n  else if (Description.match(/SPINX #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"Spinx\", Notes: null};\r\n  else if (Description.match(/LOVE S TRAVEL \\d+ [\\w ]+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"Love's\", Notes: null};\r\n  else if (Description.match(/SHELL OIL [\\d\\w]+ [\\w ]+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"Shell\", Notes: null};\r\n\r\n  //Groceies & Necessities\r\n  else if (Description.match(/Walmart Grocery [\\d-]+ Ar/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Walmart Supercenter\", Notes: \"grocery pickup\"};\r\n  else if (Description.match(/(?:Wal-Mart|WM Supercenter) #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Walmart Supercenter\", Notes: \"grocery pickup\"};\r\n  else if (Description.match(/Target #?\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Target\", Notes: null};\r\n  else if (Description.match(/Ingles Markets #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Ingles\", Notes: null};\r\n  else if (Description.match(/Publix #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Publix\", Notes: \"grocery pickup\"};\r\n  else if (Description.match(/(?:Sams ?Club #8142 Spartanburg SC|Sams Club #8142 864-574-3480 SC)/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Sam's Club\", Notes: null};\r\n\r\n  else if (Description.match(/Walgreens #\\d+/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Walgreens\", Notes: null};\r\n\r\n  //Family Outings\r\n  else if (Description.match(/McDonald's \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"McDonald's\", Notes: null};\r\n  else if (Description.match(/Burger King #\\d+(?: \\w+ \\w+ \\w{2})?/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Burger King\", Notes: null};\r\n  else if (Description.match(/PDQ \\d+ (OLO )?Greenville SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"PDQ\", Notes: null};\r\n  else if (Description.match(/Chick-Fil-A #\\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Chick-fil-A\", Notes: null};\r\n  else if (Description.match(/Sonic Drive In #\\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Sonic Drive-In\", Notes: null};\r\n  else if (Description.match(/Bojangles \\d+ \\w+/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Bojangles\", Notes: null};\r\n  else if (Description.match(/Cook Out [\\w ]+(?: \\w+ \\w{2})?/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Cook Out\", Notes: null};\r\n  else if (Description.match(/Wendys #\\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Wendy's\", Notes: null};\r\n  else if (Description.match(/KFC [\\w\\d]+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"KFC\", Notes: null};\r\n  else if (Description.match(/CKE\\*TACO DOG SPARTANBU SPARTANBURG SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Taco Dog\", Notes: null};\r\n  else if (Description.match(/WAFFLE HOUSE \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Waffle House\", Notes: null};\r\n  else if (Description.match(/Chili's \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Chili's\", Notes: null};\r\n  else if (Description.match(/Sweet Basil Thai Cusin Greenville SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Sweet Basil Thai Cusine\", Notes: null};\r\n  else if (Description.match(/Paisanos Italian Resta/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Paisanos Italian Restaurant\", Notes: null};\r\n  else if (Description.match(/Panda Hibachi Duncan SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Panda Hibachi\", Notes: null};\r\n  else if (Description.match(/(?:Chipotle \\d+ \\w+ \\w{2}|Chipotle Online 1800\\d{6} CA)/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Chipotle\", Notes: null};\r\n  else if (Description.match(/TST\\* WILLY TACO - HUB SPARTANBURG SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Willy Taco\", Notes: null};\r\n  else if (Description.match(/El Tejano Mexican Rest/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"El Tejano\", Notes: null};\r\n  else if (Description.match(/La Fogata Mexican Rest Simpsonville Sc/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"La Fogata\", Notes: null};\r\n  else if (Description.match(/El Molcajete Duncan Sc/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"El Molcajete\", Notes: null};\r\n  else if (Description.match(/Pizza Hut \\d+ \\d+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Pizza Hut\", Notes: null};\r\n  else if (Description.match(/Tutti Frutti Spartanburg SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Tutti Frutti\", Notes: null};\r\n  else if (Description.match(/KRISPY KREME \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Krispy Kreme\", Notes: null};\r\n\r\n  else if (Description.match(/Taco Casa #\\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Taco Casa\", Notes: null};\r\n  else if (Description.match(/Krystal [\\d\\w]+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Krystal\", Notes: null};\r\n  else if (Description.match(/Checkers Drive In \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Checkers\", Notes: null};\r\n\r\n  //Church\r\n  else if (Description.match(/Brookwood Church Donat Simpsonville Sc/i))  categorizedTransactionData = {Category: \"Church\", DescriptionDisplay: \"Brookwood Church\", Notes: \"online giving\"};\r\n\r\n  //Personal Spending\r\n  else if (Description.match(/HARBOR FREIGHT TOOLS \\d \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Personal Spending\", DescriptionDisplay: \"Harbor Freight\", Notes: null};\r\n\r\n\r\n  //Other\r\n  else if (Description.match(/Dollartree \\w+ \\w{2}/i))  categorizedTransactionData = {Category: null, DescriptionDisplay: \"Dollar Tree\", Notes: null};\r\n  else if (Description.match(/[\\w\\* ]+ amzn.com\\/billwa/i))  categorizedTransactionData = {Category: null, DescriptionDisplay: \"Amazon\", Notes: null};\r\n  else if (Description.match(/SPARTANBURGCO TREAS 8645962603 SC/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Spartanburg County Treasury\", Notes: null};\r\n\r\n  //Final categorizedTransactionData\r\n  categorizedTransactionData = {\r\n    //only add a category/displayed description/notes, based on the description, if one is not already present\r\n    Category: nullCoalesce(Category, categorizedTransactionData.Category),\r\n    DescriptionDisplay: nullCoalesce(DescriptionDisplay, categorizedTransactionData.DescriptionDisplay),\r\n    Notes: nullCoalesce(Notes, categorizedTransactionData.Notes),\r\n  };\r\n\r\n  //Return the transaction with updated categorization data\r\n  return {\r\n    ...transaction,\r\n    ...categorizedTransactionData\r\n  };\r\n};\r\n\r\nexport const importTransactions = function(transactionsData, dataType) {\r\n  try {\r\n    //if this is scraped from online app\r\n    if (dataType === \"scraped\") {\r\n      //Spilt the string of transactions into an array\r\n      return transactionsData\r\n        .split(/(?:\\r\\n|\\r|\\n)/)\r\n        .map(transactionLine=>{\r\n          if (!transactionLine) return null;\r\n\r\n          //Determine if this matches a transaction line\r\n          const isMatch = transactionLine.match(/(\\d{2}\\/\\d{2}\\/\\d{2})\\t\\t([^\\t]+)\\t(-?)\\$([\\d,]+\\.\\d{2})/);\r\n          if (!isMatch) {\r\n            console.warn(`Unable to read transaction.\\r\\n${transactionLine}`);\r\n            return null;\r\n          }\r\n\r\n          //Save and trim the matched data\r\n          const [fullMatch, TransactionDate, Description, IsNegativeAmount, Amount] = [...isMatch].map(match=>(match ? match.trim() : match));\r\n\r\n          //Return the new transaction object\r\n          return {\r\n            PostedDate: null,\r\n            TransactionDate: convertDateStringToDate(TransactionDate, \"MM/dd/yy\"),\r\n            Card: null,\r\n            Type: null,\r\n            Description,\r\n            DescriptionDisplay: null,\r\n            Amount: Number(`${IsNegativeAmount}${Amount}`.replace(\",\",\"\")),\r\n            Category: null,\r\n            Notes: null,\r\n            Tags: [],\r\n          };\r\n        })\r\n        //Filter out anything that didn't become a transaction\r\n        .filter(transaction=>transaction !== null)\r\n        //Bring in transactions in ascending TransactionDate\r\n        .reverse();\r\n    }\r\n\r\n    //Otherwise, this is CSV or JSON data\r\n\r\n    //If CSV data, convert it to JSON first\r\n    if (dataType === \"csv\") transactionsData = transactionsData.map(csvData=>convertCSVToJSON(csvData)).flat();\r\n\r\n    //For each CSV file, convert the contents to JSON\r\n    return transactionsData.map(transaction=>{\r\n      const Date = (transaction.Date ? transaction.Date.trim() : null);\r\n      const TransactionDate = (transaction.TransactionDate ? transaction.TransactionDate.trim() : null);\r\n      const PostedDate = (transaction.PostedDate ? transaction.PostedDate.trim() : null);\r\n      const Description = (transaction.Description ? transaction.Description.trim() : null);\r\n      const Card = (transaction[\"Card No.\"] ? transaction[\"Card No.\"].trim() : null);\r\n      const Type = (transaction.Type ? transaction.Type.trim() : null);\r\n      const Charges = (transaction.Charges ? transaction.Charges.trim() : null);\r\n      const Payments = (transaction.Payments ? transaction.Payments.trim() : null);\r\n      const Debit = (transaction.Debit ? transaction.Debit.trim() : null);\r\n      const Credit = (transaction.Credit ? transaction.Credit.trim() : null);\r\n\r\n      //Validate calculated values\r\n      const type = (\r\n        Object.keys(transaction).includes(\"Credit\") && Object.keys(transaction).includes(\"Debit\") ?\r\n        //Checking/Savings account\r\n        nullCoalesce(Type, (Credit && (Number(Credit) || Credit !== \"0\") ? \"Credit\" : (Debit && (Number(Debit) || Debit !== \"0\") ? \"Debit\" : null))) : (\r\n          Object.keys(transaction).includes(\"Charges\") && Object.keys(transaction).includes(\"Payments\") ?\r\n          //Credit Card account\r\n          nullCoalesce(Type, (Charges && (Number(Charges) || Charges !== \"0\") ? \"Charges\" : (Payments && (Number(Payments) || Payments !== \"0\") ? \"Payments\" : null))) :\r\n          null\r\n        )\r\n      );\r\n      const transactionDate = convertDateStringToDate(nullCoalesce(TransactionDate, Date), \"MM/dd/yyyy\");\r\n      if (isFalsy(type) || isFalsy(transactionDate)) throw new Error(`Unable to read transaction.\\r\\n${transaction}`);\r\n\r\n      return {\r\n        PostedDate: (!isFalsy(PostedDate) ? convertDateStringToDate(PostedDate, \"MM/dd/yyyy\") : null),\r\n        TransactionDate: transactionDate,\r\n        Card: (Card ? `*${Card}` : null),\r\n        Type: type,\r\n        Description,\r\n        DescriptionDisplay: null,\r\n        Amount: Number(`${([\"Charges\",\"Debit\"].includes(type) ? \"-\" : \"\")}${transaction[type]}`),\r\n        Category: null,\r\n        Notes: null,\r\n        Tags: [],\r\n      };\r\n    });\r\n  }\r\n  catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const formatTransactionDisplay = function(transaction) {\r\n  return {\r\n    ...transaction,\r\n    PostedDate: (transaction.PostedDate ? new Date(transaction.PostedDate).toLocaleDateString().toString() : \"\"),\r\n    TransactionDate: (transaction.TransactionDate ? new Date(transaction.TransactionDate).toLocaleDateString().toString() : \"\"),\r\n    Card: transaction.Card || \"\",\r\n    Type: transaction.Type || \"\",\r\n    Description: nullCoalesce(transaction.DescriptionDisplay, getTransactionDefaultDescriptionDisplay(transaction.Description)) || \"\",\r\n    Amount: convertNumberToCurrency(transaction.Amount) || \"\",\r\n    Category: transaction.Category || \"\",\r\n    Notes: transaction.Notes || \"\",\r\n  };\r\n};\r\n\r\nexport const isTransactionDuplicate = (potentialDuplicate, transactions)=>{\r\n  return transactions.find(transaction=>\r\n    areObjectsEqual({\r\n      TransactionDate: transaction.TransactionDate,\r\n      Description: transaction.Description,\r\n      Amount: transaction.Amount,\r\n    }, {\r\n      TransactionDate: potentialDuplicate.TransactionDate,\r\n      Description: potentialDuplicate.Description,\r\n      Amount: potentialDuplicate.Amount,\r\n    }\r\n  ));\r\n};\r\n","import {getSumByProp} from './utilities.js';\r\n\r\nexport const isCreditCardPaymentTransaction = transaction=>{\r\n  return transaction.Description.match(/PAYMENT - THANK YOU ATLANTA GA/i);\r\n};\r\n\r\nexport const isIncomeTransaction = transaction=>{\r\n  return transaction.Description.match(/ELECTRONIC\\/ACH CREDIT INFOR US , INC\\. PAYROLL 3203469219/i);\r\n};\r\n\r\nexport const getBudgetAmountSpentFromTransactions = (budgetName, transactions)=>{\r\n  const check = transaction=>{\r\n    return (\r\n      //For the Miscellaneous budget, include non-income transactions with no category\r\n      budgetName === \"Miscellaneous\" ?\r\n      [budgetName, null].includes(transaction.Category) && !isCreditCardPaymentTransaction(transaction) && !isIncomeTransaction(transaction) :\r\n      transaction.Category === budgetName\r\n    )\r\n  };\r\n  return getSumByProp(transactions.filter(transaction=>check(transaction)), \"Amount\");\r\n};\r\n","export const throwException = err =>{\r\n  //Build an exception to throw\r\n  let exception = {};\r\n  let errorMsg = null;\r\n\r\n  //If this is a Javascript exception\r\n  if (err instanceof Error) {\r\n    errorMsg = err.message;\r\n\r\n    exception.name = err.name\r\n    if (err.description === 0 || err.description) exception.description = err.description;\r\n    if (err.number === 0 || err.number) exception.number = err.number;\r\n    if (err.fileName === 0 || err.fileName) exception.fileName = err.fileName;\r\n    if (err.lineNumber === 0 || err.lineNumber) exception.lineNumber = err.lineNumber;\r\n    if (err.columnNumber === 0 || err.columnNumber) exception.columnNumber = err.columnNumber;\r\n    if (err.stack === 0 || err.stack) exception.stack = err.stack;\r\n  }\r\n  else if (typeof err === \"object\") {\r\n    if (err.message) {\r\n      errorMsg = err.message;\r\n      delete err.message;\r\n    }\r\n    exception = {\r\n      ...exception,\r\n      ...err,\r\n    }\r\n  }\r\n  else if (typeof err === \"string\") {\r\n    errorMsg = err;\r\n  }\r\n\r\n  //Log the original error, for investigation\r\n  console.error(err);\r\n\r\n  //Send a prettified version of the error to the screen\r\n  const exceptionMsg = `${errorMsg}\\r\\n${Object.entries(exception).length ? Object.entries(exception).map(([key, value])=>`  + ${key}: ${value}\\r\\n`).join(\"\") : ''}\\r\\nThe application failed.`;\r\n  window.alert(exceptionMsg);\r\n\r\n  //Throw the original error\r\n  throw err;\r\n}\r\n","//Private Functions\r\nconst getHeadersFromJSON = JSON=>{\r\n  if (!JSON instanceof Array) JSON = [JSON];\r\n  return JSON.reduce((headers, transaction)=>\r\n    [\r\n      ...headers,\r\n      ...Object.keys(transaction).filter(key=>!headers.includes(key))\r\n    ]\r\n  , []);\r\n};\r\n\r\n//Public functions\r\nexport const convertSheetsArraysToJSON = (data, delimiter=\",\")=>{\r\n  if (!data) return null;\r\n\r\n  //Get the object keys\r\n  const keys = data.splice(0,1)[0];\r\n\r\n  //Return the data\r\n  return data.map(line=>\r\n    line.reduce((obj, value, i)=>\r\n      ({\r\n        ...obj,\r\n        [keys[i]]: value,\r\n      })\r\n  , {})\r\n  );\r\n};\r\n\r\nexport const convertJSONToSheetsArray = (JSON, delimiter=\",\")=>{\r\n  if (!JSON) return null;\r\n\r\n  const headers = getHeadersFromJSON(JSON);\r\n\r\n  return [\r\n    headers,\r\n    ...JSON.map(object=>\r\n      headers.map(header=>(Array.isArray(object[header]) ? object[header].join(\",\") : object[header]))\r\n    )\r\n  ];\r\n};\r\n\r\nexport const getDynamicPropertyByArray = (startingObject, dotSeparatedProperties)=>{\r\n  if (!(typeof dotSeparatedProperties === \"string\")) return null;\r\n  if(!dotSeparatedProperties) return startingObject;\r\n  if (!dotSeparatedProperties.includes(\".\")) return startingObject[dotSeparatedProperties];\r\n\r\n  let object = startingObject;\r\n  for(let property of dotSeparatedProperties.split(\".\")) {\r\n    if (!property) continue;\r\n    object = object[property];\r\n  }\r\n  return object;\r\n};\r\n\r\nexport const convertColumnNumberToColumnLetter = columnNumber=>{\r\n  const NUM_OF_LETTERS = 26;\r\n  const columnLettersArray = [];\r\n\r\n  //Decrement the column number by 1 (1-based, not 0-based)\r\n  columnNumber--;\r\n\r\n  for(;columnNumber >= 0;columnNumber=(columnNumber/NUM_OF_LETTERS)-1) {\r\n    const index = Math.floor(columnNumber % NUM_OF_LETTERS);\r\n    const letter = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"[index];\r\n    columnLettersArray.push(letter);\r\n  }\r\n\r\n  //Return back the \"reversed\" column letters\r\n  return columnLettersArray.reverse().join(\"\");\r\n};\r\n\r\nexport const convertColumnLetterToColumnNumber = columnLetters=>{\r\n  const NUM_OF_LETTERS = 26;\r\n\r\n  const columnNumber = [...columnLetters].reduce((number,columnLetter,i)=>{\r\n    const index = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".indexOf(columnLetter);\r\n\r\n    //Increment the column number by 1 (1-based, not 0-based)\r\n    return number += (index+1) * (NUM_OF_LETTERS**i);\r\n  }, 0);\r\n\r\n  //Return back the \"reversed\" column letters\r\n  return columnNumber;\r\n};\r\n\r\nexport const convertArrayToA1Notation = (rowsColumnsArray, startingCell=\"A1\")=>{\r\n  const startingColumnLetter = startingCell.match(/(^[A-Z]+)/)[1];\r\n  const startingRow = Number(startingCell.match(/(\\d)/)[1]);\r\n  const startingColumnIndex = convertColumnLetterToColumnNumber(startingColumnLetter);\r\n\r\n  const [rows, columns] = rowsColumnsArray;\r\n  const columnLetter = convertColumnNumberToColumnLetter(startingColumnIndex+columns-1);\r\n  const rowNumber = startingRow+rows-1;\r\n  return `${startingCell}:${columnLetter}${rowNumber}`;\r\n};\r\n","import {convertSheetsArraysToJSON, convertJSONToSheetsArray, getDynamicPropertyByArray, convertColumnNumberToColumnLetter, convertColumnLetterToColumnNumber, convertArrayToA1Notation} from './utilities.js'\r\n\r\nconst SPREADSHEET_ID = \"1k_qus-eG4bBOnqVZ2oSCuY3988wDJHUth9M6M-6BBeA\";\r\n\r\nexport const callGoogleApiFunction = (googleApi, resourceType, method, optionsParam, pageToken)=>{\r\n  //Declare variables\r\n  let leftoverIds = null;\r\n  const listIdChunkLength = 50;\r\n  let params = [];\r\n  let options = optionsParam;\r\n\r\n  //Build the request options\r\n  if (googleApi === \"youtube\") {\r\n    options = {\r\n      ...optionsParam,\r\n      part: [\r\n        \"snippet\",\r\n        \"contentDetails\",\r\n        \"status\",\r\n      ],\r\n    };\r\n  }\r\n\r\n  //Check that, if provided SOMETHING as an id,\r\n  // it wasn't falsy\r\n  if (\r\n    options.id !== undefined &&  (\r\n      options.id === null ||\r\n      options.id.length === 0\r\n    )\r\n  ) return null;\r\n\r\n  //If this was a \"list\" call, add extra options\r\n  if (method === \"list\") {\r\n    //Set the maximum amount of results per call\r\n    options.maxResults = 50;\r\n\r\n    //Only set the pageToken option if we're provided one\r\n    if (pageToken) options.pageToken = pageToken;\r\n\r\n    //Check that no more than 50 ids are searched per call;\r\n    // Otherwise, query the first 50, and save the rest for\r\n    // a follow-up call\r\n    if (options.id && options.id instanceof Array && options.id.length > 50) {\r\n      leftoverIds = options.id.splice(listIdChunkLength, options.id.length);\r\n    }\r\n  }\r\n\r\n  //If more parameters were found in options, move them over\r\n  if (options.params) {\r\n    params = (options.params instanceof Array ? options.params : [options.params]);\r\n    delete options.params;\r\n  }\r\n\r\n  //Return a Promise to the Google API\r\n  return new Promise(async (resolve,reject)=>{\r\n    try {\r\n      //Get the resource object\r\n      const resource = getDynamicPropertyByArray(window.gapi.client[googleApi], resourceType);\r\n\r\n      //Make the resource method call\r\n      const response = await resource[method](options, ...params);\r\n      console.log(response);\r\n\r\n      //If a \"list\" query was performed\r\n      if (method === \"list\") {\r\n        //If there are more results, recurse using the nextPageToken\r\n        if (response.result.nextPageToken) return resolve([...response.result.items, ...await callGoogleApiFunction(googleApi, resourceType, method, options, response.result.nextPageToken)]);\r\n\r\n        //If more than 50 ids were provided,\r\n        // move to the next set of ids\r\n        if (leftoverIds) return resolve([...response.result.items, ...await callGoogleApiFunction(googleApi, resourceType, method, {...options, id: leftoverIds})]);\r\n\r\n        //If a single id was provided instead of an arary,\r\n        // respond with the single resource using the first item of\r\n        // response.result.items, instead of the array of items\r\n        if ((options.id && !(options.id instanceof Array)) || (resourceType === \"channels\" && options.mine === true)) return resolve(response.result.items[0]);\r\n\r\n        //Otherrwise, return the entire array of items\r\n        return resolve([...response.result.items]);\r\n      }\r\n\r\n      if (resourceType === \"spreadsheets.values\" && method === \"get\") {\r\n        //Return the values\r\n        return resolve(convertSheetsArraysToJSON(response.result.values));\r\n      }\r\n\r\n      //If an \"update\" or \"insert\" query was performed\r\n      if (method === \"update\" || method === \"insert\") return resolve(response.result);\r\n\r\n      //If a \"delete\" or some other query was performed\r\n      return resolve(response);\r\n    }\r\n    catch (errResponse) {\r\n      return reject(errResponse.result.error);\r\n    }\r\n  });\r\n};\r\n\r\n//Declare our specific functions\r\nexport const getSheetsSpreadsheet = async ()=>{\r\n  return callGoogleApiFunction(\"sheets\", \"spreadsheets\", \"get\", {spreadsheetId: SPREADSHEET_ID});\r\n};\r\n\r\nexport const getSheetsSpreadsheetValues = async (sheetName, range)=>{\r\n  if (!range) range = convertArrayToA1Notation([1000,26]); //A1:AA1000\r\n  if (typeof range === \"string\") range = [range]; //convert to an array of ranges if only one specified\r\n  range = range.map(r=>`'${sheetName}'!${range}`); //Add the sheet name to the range\r\n\r\n  return callGoogleApiFunction(\"sheets\", \"spreadsheets.values\", \"get\", {spreadsheetId: SPREADSHEET_ID, range});\r\n};\r\n\r\nexport const updateSheetsSpreadsheetValues = async (sheetName, valuesJSON, range)=>{\r\n  if (!range) range = convertArrayToA1Notation([1000,26]); //A1:Z1000\r\n  if (typeof range === \"string\") range = [range]; //convert to an array of ranges if only one specified\r\n  range = range.map(r=>`'${sheetName}'!${range}`); //Add the sheet name to the range\r\n\r\n  return callGoogleApiFunction(\"sheets\", \"spreadsheets.values\", \"update\", {\r\n      spreadsheetId: SPREADSHEET_ID,\r\n      range,\r\n      valueInputOption: \"USER_ENTERED\",\r\n      includeValuesInResponse: true,\r\n      responseValueRenderOption: \"FORMATTED_VALUE\",\r\n      resource: {\r\n        values: convertJSONToSheetsArray(valuesJSON),\r\n      }\r\n    });\r\n};\r\n","import {throwException} from './../utilities';\r\n\r\nconst scopes = [\r\n  //\"https://www.googleapis.com/auth/drive\",  //See, edit, create, and delete all or your drive files\r\n  //\"https://www.googleapis.com/auth/drive.file\",  //See, edit, create, and delete only the specific Google Drive files you use with this app\r\n  \"https://www.googleapis.com/auth/spreadsheets\",  //See, edit, create, all your Google sheets spreadsheets\r\n];\r\nconst discoveryDocs = [\"https://sheets.googleapis.com/$discovery/rest?version=v4\"];\r\n\r\n//create helper function to retrieve authorization credentials stored outside of version control\r\nconst fetchAuthCredentials = ()=>{\r\n  console.info(\"Fetching authorization credentials...\");\r\n\r\n  try {\r\n    //Get & return the credentials from localStorage\r\n    const creds = JSON.parse(localStorage.getItem(\"creds\"));\r\n    if (creds && creds.clientId) return creds;\r\n\r\n    //If credentials weren't found, prompt the user for the credentials\r\n    const clientId = window.prompt(\"Failed to get authorization credentials.\\r\\nPlease enter the client ID\", \"client_id\");\r\n    if (clientId) {\r\n      const creds = JSON.parse(localStorage.getItem(\"creds\"));\r\n      localStorage.setItem(\"creds\", JSON.stringify({\r\n        ...creds,\r\n        clientId,\r\n      }));\r\n      return {clientId};\r\n    }\r\n    throw new Error(\"Failed to get authorization credentials.\");\r\n  }\r\n  catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\n//Load the Google Client, OAuth2.0 libraries\r\nexport const initAuthorization = (loginCallback, logoutCallback)=>{\r\n  try {\r\n    //Attempt to get the credentials\r\n    const creds = fetchAuthCredentials();\r\n\r\n    //Load the Google APIs\r\n    loadGoogleApis(creds, loginCallback, logoutCallback)\r\n  }\r\n  catch (err) {\r\n    throwException(err);\r\n  }\r\n};\r\n\r\nconst loadGoogleApis = (creds, loginCallback, logoutCallback)=>{\r\n  console.info(\"Loading Google Client, OAuth2.0 APIs...\");\r\n  window.gapi.load(\"client:auth2\", ()=>{initializeGoogleApis(creds, loginCallback, logoutCallback)});\r\n};\r\n\r\n//Initialize Google Client library (which simultaneously initializes Google OAuth2.0 library) and set up sign in listeners\r\nconst initializeGoogleApis = async (creds, loginCallback, logoutCallback)=>{\r\n  console.info(\"Loaded Google Client, OAuth2.0 APIs.\");\r\n  console.info(\"Initializing Google Client API...\");\r\n  const {clientId} = creds;\r\n\r\n  //Attempt to initialize the Google API\r\n  window.gapi.client.init({\r\n    clientId: clientId,\r\n    scope: scopes.join(\" \"), //space delimited\r\n    discoveryDocs: discoveryDocs,\r\n  })\r\n  .then(()=>{\r\n    console.info(\"Initialized Google Client API.\");\r\n\r\n    //Listen for sign in state changes\r\n    window.gapi.auth2.getAuthInstance().isSignedIn.listen(\r\n      isSignedIn => updateSigninStatus(isSignedIn, loginCallback, logoutCallback)\r\n    );\r\n\r\n    //Handle initial sign in state\r\n    updateSigninStatus(window.gapi.auth2.getAuthInstance().isSignedIn.get(), loginCallback, logoutCallback);\r\n  })\r\n  .catch(err=>{\r\n    throwException(err);\r\n  });\r\n};\r\n\r\n//Update UI sign in state changes\r\nconst updateSigninStatus = (isSignedIn, loginCallback, logoutCallback)=>{\r\n  console.info(\"Updating sign in status...\");\r\n  if (isSignedIn) {\r\n    // authorizeButton.style.display = \"none\";\r\n    // signoutButton.style.display = \"block\";\r\n    // signoutButton.removeAttribute(\"disabled\");\r\n\r\n    //Get profile information\r\n    const signInInfo = getProfileInformation();\r\n\r\n    //Run the callback functions\r\n    if (loginCallback) loginCallback(signInInfo);\r\n  }\r\n  else {\r\n    // authorizeButton.style.display = \"block\";\r\n    // signoutButton.style.display = \"none\";\r\n\r\n    //Run the callback functions\r\n    if (logoutCallback) logoutCallback(null);\r\n  }\r\n  console.info(\"Updated sign in status.\");\r\n};\r\n\r\nexport const signIn = ()=>{\r\n  window.gapi.auth2.getAuthInstance().signIn();\r\n};\r\n\r\nexport const signOut = ()=>{\r\n  window.gapi.auth2.getAuthInstance().signOut();\r\n};\r\n\r\nconst getProfileInformation = ()=>{\r\n  console.info(\"Getting profile info...\");\r\n  const profile = window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile();\r\n  if (!profile) return null;\r\n  return {\r\n    id: profile.getId(),\r\n    name: profile.getName(),\r\n    firstName: profile.getGivenName(),\r\n    lastName: profile.getFamilyName(),\r\n    imageUrl: profile.getImageUrl(),\r\n    emailAddress: profile.getEmail(),\r\n  };\r\n};\r\n","import {getSheetsSpreadsheetValues, updateSheetsSpreadsheetValues} from './../googleApi';\r\nimport {throwException} from './../utilities';\r\n\r\nexport const getTransactions = async ()=>{\r\n  try {\r\n    return await getSheetsSpreadsheetValues(\"Transactions Data\");\r\n  }\r\n  catch (err) {\r\n    throwException(err);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const insertTransactions = async ()=>{\r\n  try {\r\n    return;\r\n  }\r\n  catch (err) {\r\n    throwException(err);\r\n    return;\r\n  }\r\n};\r\n\r\nexport const updateTransactions = async transactions=>{\r\n  try {\r\n    return await updateSheetsSpreadsheetValues(\"Transactions Data\", transactions);\r\n  }\r\n  catch (err) {\r\n    throwException(err);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const deleteTransactions = async ()=>{\r\n  try {\r\n    return;\r\n  }\r\n  catch (err) {\r\n    throwException(err);\r\n    return;\r\n  }\r\n};\r\n","import {getSheetsSpreadsheetValues} from './../googleApi';\r\nimport {throwException} from './../utilities';\r\n\r\nexport const getBudgetsData = async ()=>{\r\n  try {\r\n    return await getSheetsSpreadsheetValues(\"Budgets Data\");\r\n  }\r\n  catch (err) {\r\n    throwException(err);\r\n    return [];\r\n  }\r\n};\r\n","import {getSheetsSpreadsheetValues} from './../googleApi';\r\nimport {throwException} from './../utilities';\r\n\r\nexport const getAccountsData = async ()=>{\r\n  try {\r\n    return await getSheetsSpreadsheetValues(\"Accounts Data\");\r\n  }\r\n  catch (err) {\r\n    throwException(err);\r\n    return [];\r\n  }\r\n};\r\n","import {getSheetsSpreadsheetValues} from './../googleApi';\r\nimport {throwException} from './../utilities';\r\n\r\nexport const getAccountData = async ()=>{\r\n  try {\r\n    return await getSheetsSpreadsheetValues(\"Account Data\");\r\n  }\r\n  catch (err) {\r\n    throwException(err);\r\n    return [];\r\n  }\r\n};\r\n","import {useEffect} from 'react';\r\n\r\nconst useConsoleLog = (object, ...args)=>{\r\n  return useEffect(()=>console.log(args[0], object, ...args.slice(1)), [object])\r\n};\r\n\r\nexport default useConsoleLog;\r\n","import {useState, useEffect} from 'react';\r\n\r\nconst useScript = (src, optionsParam)=>{\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  useEffect(()=>{\r\n    new Promise((resolve, reject)=>{\r\n      //Create default options\r\n      const defaultOptions = {\r\n        async: true,\r\n      };\r\n\r\n      //Create the script tag that will be attached to the DOM\r\n      const script = document.createElement(\"script\");\r\n\r\n      //Combine the options, overwriting the defaults\r\n      const options = {\r\n        ...defaultOptions,\r\n        ...optionsParam,\r\n      };\r\n\r\n      //Attach the options to the script tag\r\n      Object.entries(options).forEach(([option, value])=>script[option] = value);\r\n\r\n      //Attach the src to the script tag\r\n      script.src = src;\r\n\r\n      const onLoad = event=>{\r\n        setIsLoaded(true)\r\n        return resolve(event);\r\n      };\r\n\r\n      const onError = event=>{\r\n        return reject(event);\r\n      };\r\n\r\n      //Create onload & onerror callbacks\r\n      script.addEventListener(\"load\", onLoad)\r\n      script.addEventListener(\"error\", onError);\r\n\r\n      document.body.appendChild(script);\r\n\r\n      return ()=>{\r\n        document.body.removeChild(script);\r\n        setIsLoaded(false);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return isLoaded;\r\n};\r\n\r\nexport default useScript;\r\n","import {useState, useEffect} from 'react';\r\n\r\nconst useBudgetCycleTransactions = (transactions, budgetCycle)=>{\r\n  //Declare functions\r\n  const getBudgetCycleTransactions = (transactions, budgetCycle)=>{\r\n    if (!transactions.length || !budgetCycle) return [];\r\n    return transactions.filter(({TransactionDate})=>TransactionDate.getMonth() === budgetCycle.getMonth() && TransactionDate.getFullYear() === budgetCycle.getFullYear());\r\n  }\r\n\r\n  //Initialize state\r\n  const [budgetCycleTransactions, setBudgetCycleTransactions] = useState(getBudgetCycleTransactions(transactions, budgetCycle));\r\n\r\n  //Whenever transactions or budgetCycle changes,\r\n  // update state\r\n  useEffect(()=>\r\n    setBudgetCycleTransactions(getBudgetCycleTransactions(transactions, budgetCycle))\r\n  , [transactions, budgetCycle]);\r\n\r\n  //Return the state\r\n  return budgetCycleTransactions;\r\n};\r\n\r\nexport default useBudgetCycleTransactions;\r\n","import './index.scss';\r\n\r\nconst Logo = ()=>{\r\n  return (\r\n    <a className=\"navbar-brand d-flex align-items-center\" href=\"/\">\r\n      <i className=\"dashboard-header-logo fas fa-sliders-h text-primary fs-3\"></i>\r\n      <h1 className=\"display-5 ms-2\">ldgr</h1>\r\n    </a>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import {signIn} from './../../googleApi'\r\n\r\nimport './index.scss';\r\n\r\nconst GoogleApiSigninButton = ()=>{\r\n  return (\r\n    <button className=\"btn btn-primary\" type=\"button\" onClick={signIn}>Sign in with Google</button>\r\n  );\r\n};\r\n\r\nexport default GoogleApiSigninButton;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport Logo from './../Logo';\r\nimport GoogleApiSignInButton from './../GoogleApiSignInButton';\r\n\r\nimport './index.scss';\r\n\r\nconst SignInView = ()=>{\r\n  return (\r\n    <div className=\"view signin-view container-fluid py-2 mb-0\">\r\n      <Logo />\r\n      <GoogleApiSignInButton />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignInView;\r\n","import {signOut} from './../../googleApi';\r\n\r\nimport './index.scss';\r\n\r\nconst GoogleApiUserButton = ({ signedInUser })=>{\r\n  return (\r\n    <div className=\"dropdown\">\r\n      <button className=\"user-button btn bg-light\" type=\"button\" id=\"user-button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n        <img className=\"user-button-image\" src={signedInUser.imageUrl} />\r\n        <span className=\"user-button-name\">{signedInUser.firstName}</span>\r\n      </button>\r\n      <ul className=\"dropdown-menu\" aria-labelledby=\"user-button\">\r\n        <li><a className=\"dropdown-item\" onClick={signOut}>Sign out</a></li>\r\n      </ul>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default GoogleApiUserButton;\r\n","import Logo from './../Logo';\r\nimport GoogleApiUserButton from './../GoogleApiUserButton';\r\n\r\nimport './index.scss';\r\n\r\nconst DashboardHeader = ({ signedInUser })=>{\r\n  return (\r\n    <header className=\"dashboard-header navbar-text\">\r\n      <div className=\"container d-flex justify-content-between\">\r\n        <Logo />\r\n        <div className=\"d-flex justify-content-center align-items-center\">\r\n          <GoogleApiUserButton signedInUser={signedInUser}/>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default DashboardHeader;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport {convertNumberToCurrency, getBudgetCycleString} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst DashboardTop = ({ accountsData, accountData, budgetCycle })=>{\r\n  useEffect(()=>console.log(\"Accounts data:\", accountsData), [accountsData]);\r\n\r\n  return (\r\n    <div className=\"dashboard-top\">\r\n      <div className=\"dashboard-account-overview container-fluid py-2 px-3\">\r\n        <div className=\"container-fluid text-end text-muted my-2\">\r\n          Last Updated:&nbsp;\r\n          <span className=\"dashboard-accounts-total d-inline\">6/29/2021</span>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"dashboard-accounts-total-container col text-center fw-bold h4 d-flex flex-column border-end border-2\">\r\n            Total in Accounts:\r\n            <span className=\"dashboard-accounts-total\">{convertNumberToCurrency(accountsData.length && accountsData[0].Balance ? accountsData.reduce((total,accountData)=>total+=Number(accountData.Balance), 0) : 0)}</span>\r\n          </div>\r\n          <div className=\"dashboard-credit-score-container col text-center fw-bold h4 d-flex flex-column\">\r\n            Credit Score:\r\n            <span className=\"dashboard-credit-score\">{(accountData.length ? accountData.sort((a,b)=>a.LastUpdated+b.LastUpdated)/*sort descending*/.filter(record=>record.CreditScore)[0].CreditScore /*most recent LastUpdated*/ : \"--\")}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"dashboard-month-dropdown dropdown\">\r\n        <button id=\"dashboardMonthDropdown\" className=\"btn dropdown-toggle container-fluid\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n          <strong className=\"dashboard-month-dropdown-month h2 d-block mb-0\">\r\n            {getBudgetCycleString(budgetCycle)}\r\n          </strong>\r\n          <em className=\"dashboard-month-dropdown-month-description d-block text-muted h6\">(current)</em>\r\n        </button>\r\n        <ul className=\"dropdown-menu container-fluid \">\r\n          <li><a href=\"#\" className=\"dropdown-item\">June 2021</a></li>\r\n          <li><a href=\"#\" className=\"dropdown-item\">May 2021</a></li>\r\n          <li><a href=\"#\" className=\"dropdown-item\">April 2021</a></li>\r\n          <li><a href=\"#\" className=\"dropdown-item\">March 2021</a></li>\r\n          <li><a href=\"#\" className=\"dropdown-item\">February 2021</a></li>\r\n          <li><a href=\"#\" className=\"dropdown-item\">January 2021</a></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardTop;\r\n","export const getMonthFromNumber = number=>{\r\n  switch (number) {\r\n    case 0:\r\n      return \"January\";\r\n      break;\r\n    case 1:\r\n      return \"February\";\r\n      break;\r\n    case 2:\r\n      return \"March\";\r\n      break;\r\n    case 3:\r\n      return \"April\";\r\n      break;\r\n    case 4:\r\n      return \"May\";\r\n      break;\r\n    case 5:\r\n      return \"June\";\r\n      break;\r\n    case 6:\r\n      return \"July\";\r\n      break;\r\n    case 7:\r\n      return \"August\";\r\n      break;\r\n    case 8:\r\n      return \"September\";\r\n      break;\r\n    case 9:\r\n      return \"October\";\r\n      break;\r\n    case 10:\r\n      return \"November\";\r\n      break;\r\n    case 11:\r\n      return \"December\";\r\n      break;\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const getCurrentYear = (date)=>{\r\n  return date.getFullYear();\r\n};\r\n\r\nexport const getBudgetCycleFromDate = date=>{\r\n  return new Date(date.getFullYear(), date.getMonth());\r\n};\r\n\r\nexport const getBudgetCycleString = date=>{\r\n  return `${getMonthFromNumber(date.getMonth())} ${getCurrentYear(date)}`;\r\n};\r\n","import './index.scss';\r\n\r\nconst DashboardInsight = ({ insight })=>{\r\n  let iconClass = insight.iconClass;\r\n  if (!iconClass) {\r\n    if (insight.type === \"primary\") {\r\n      iconClass = \"fas fa-xs fa-info-circle\";\r\n    }\r\n    else if (insight.type === \"success\") {\r\n      iconClass = \"fas fa-xs fa-check-circle\";\r\n    }\r\n    else if (insight.type === \"warning\") {\r\n      iconClass = \"fas fa-xs fa-exclamation-triangle\";\r\n    }\r\n    else if (insight.type === \"danger\") {\r\n      iconClass = \"fas fa-xs fa-times-circle\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={`dashboard-insight alert alert-${insight.type}`}>\r\n      <div>\r\n        <i className={\"fas fa-sliders-h me-1\"}></i>\r\n        <h3 className=\"d-inline-block\">{insight.title}</h3>\r\n      </div>\r\n      <i className={`${iconClass} me-1`}></i>\r\n      <span>{insight.text}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardInsight;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport DashboardInsight from './../DashboardInsight';\r\nimport {convertNumberToCurrency, getBudgetAmountSpentFromTransactions} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst DashboardInsights = ({ transactions, budgetsData })=>{\r\n  const [insights, setInsights] = useState([]);\r\n\r\n  const runInsights = ()=>{\r\n    if (!transactions.length || !budgetsData.length) return;\r\n\r\n    //First, remove all insights\r\n    setInsights([]);\r\n\r\n    /* Check if there is money left in the \"Personal Spending\" budget */\r\n    const personalSpendingBudgetData = budgetsData.find(budgetData=>budgetData.Name===\"Personal Spending\");\r\n    const personalSpendingBudgetLeft = getBudgetAmountSpentFromTransactions(\"Personal Spending\", transactions) - personalSpendingBudgetData.Amount;\r\n    if (personalSpendingBudgetLeft > 0) {\r\n      const insight = {\r\n        type: \"primary\",\r\n        title: \"Insights\",\r\n        text: `You have ${convertNumberToCurrency(personalSpendingBudgetLeft)} left in \\\"Personal Spending\\\".`\r\n      };\r\n      setInsights(previousInsights=>[...previousInsights, insight]);\r\n    }\r\n\r\n    /* Check if we spent more than last month */\r\n    //const currentBudgetSpent = transactions.reduce((total,i)=>total+=i.amount);\r\n    //const lastBudgetSpent = transactions.reduce((total,i)=>total+=i.amount);\r\n    //const budgetCycleDifference = lastBudgetSpent-currentBudgetSpent;\r\n    // if (budgetCycleDifference > 0) {\r\n    //   const insight = {\r\n    //     type: \"danger\",\r\n    //     iconClass: \"fas fa-sliders-h\",\r\n    //     title: \"Insights\",\r\n    //     text: `You've spent ${convertNumberToCurrency(budgetCycleDifference)} more than last month.`\r\n    //   };\r\n    //   setInsights([...insights, insight]);\r\n    // }\r\n\r\n    /* Check if a bill has gone up */\r\n    const bills = budgetsData.filter(budgetData=>budgetData.type===\"bill\");\r\n    bills.forEach(bill=>{\r\n      const amountSpent = getBudgetAmountSpentFromTransactions(bill.name, transactions)\r\n      if (!amountSpent) return;\r\n      if (Math.abs(amountSpent) > Math.abs(bill.amount)) {\r\n        const insight = {\r\n          type: \"warning\",\r\n          title: \"Insights\",\r\n          text: `Bill \"${bill.name}\" has gone up ${convertNumberToCurrency(Math.abs(amountSpent)-Math.abs(bill.amount))}.`\r\n        };\r\n        setInsights(previousInsights=>[...previousInsights, insight]);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(()=>{\r\n    runInsights();\r\n  }, [transactions, budgetsData]);\r\n\r\n  return (\r\n    <div className=\"dashboard-insights container mt-5\">\r\n      <h2 className=\"text-center mb-4\">Insights</h2>\r\n      {insights.map((insight,i)=>(\r\n        <DashboardInsight key={i} insight={insight} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardInsights;\r\n","import './index.scss';\r\n\r\nconst DashboardShowcase = ()=>{\r\n  return (\r\n    <div className=\"dashboard-showcase container d-flex flex-column justify-content-center align-items-center bg-primary text-light my-3 mx-auto\">\r\n      <i className=\"fas fa-check-circle fa-2x mb-4\"></i>\r\n      <h3 className=\"fw-bold h2\">All good!</h3>\r\n      <span className=\"h6\">You are on track for this month.</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardShowcase;\r\n","import DashboardInsights from './../DashboardInsights';\r\nimport DashboardShowcase from './../DashboardShowcase';\r\n\r\nimport './index.scss';\r\n\r\nconst DashboardContent = ({ transactions, budgetsData })=>{\r\n  return (\r\n    <div className=\"dashboard-content container-fluid overflow-auto\">\r\n      <DashboardShowcase transactions={transactions} budgetsData={budgetsData} />\r\n      <DashboardInsights transactions={transactions} budgetsData={budgetsData} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardContent;\r\n","import {useEffect} from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\n\r\nimport './index.scss';\r\n\r\nimport DashboardHeader from './../DashboardHeader';\r\nimport DashboardTop from './../DashboardTop';\r\nimport DashboardContent from './../DashboardContent';\r\n\r\nconst DashboardView = ({ signedInUser, transactions, accountsData, accountData, budgetsData, budgetCycle, setFooterNavbar })=>{\r\n  //Send the route to the footer navbar\r\n  const route = useLocation().pathname;\r\n  useEffect(()=>{\r\n    setFooterNavbar(route);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"view dashboard-view d-flex flex-column\">\r\n      <DashboardHeader signedInUser={signedInUser} />\r\n      <main className=\"main flex-grow-1\">\r\n        <DashboardTop accountsData={accountsData} accountData={accountData} budgetCycle={budgetCycle} />\r\n        <DashboardContent transactions={transactions} budgetsData={budgetsData} />\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardView;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport {convertNumberToCurrency} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst BudgetGraphStatusIcon = ({ budget, overBudget })=> {\r\n  let iconClass;\r\n  let iconText;\r\n  let iconColor;\r\n\r\n  if (budget.Type === \"bill\") {\r\n    if (budget.amountSpent) {\r\n      if (!overBudget) {\r\n        iconClass = \"fas fa-check-circle\";\r\n        iconText = \"Paid\";\r\n        iconColor = \"success\";\r\n      }\r\n      else {\r\n        iconClass = \"fas fa-times-circle\";\r\n        iconText = \"Overpaid\";\r\n        iconColor = \"danger\";\r\n      }\r\n    }\r\n    else {\r\n      iconClass = \"\";\r\n      iconText = \"Pending\";\r\n      iconColor = \"secondary\";\r\n    }\r\n  }\r\n\r\n  if (budget.Type === \"bill\") {\r\n    return (\r\n      <div className={`budget-graph-status-icon-container d-inline-block badge rounded-pill text-${iconColor} bg-light ms-1 border border-${iconColor}`}>\r\n        <i className={`budget-graph-status-icon fas fa-xs ${iconClass} me-1`}></i>\r\n        <span>{iconText}</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default BudgetGraphStatusIcon;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport {convertNumberToCurrency} from './../../utilities';\r\n\r\nimport BudgetGraphStatusIcon from './../BudgetGraphStatusIcon';\r\n\r\nimport './index.scss';\r\n\r\nconst BudgetGraph = ({ budget })=>{\r\n  const isExpenseBudget = budget.Amount <= 0\r\n  const overBudget = (isExpenseBudget ? budget.amountSpent < budget.Amount : budget.amountSpent > budget.Amount);\r\n\r\n  return (\r\n    <div className=\"budget-graph-container my-4\">\r\n      <h5 className=\"budget-graph-title d-inline-block\">{budget.Name}</h5>\r\n      <BudgetGraphStatusIcon budget={budget} overBudget={overBudget} />\r\n      <div className=\"budget-graph-bar-outer\">\r\n        <h6 className=\"budget-graph-bar-stats\" style={\r\n          {\r\n            color: (!overBudget\r\n              ? \"black\" //\"rgb(245,245,245)\"\r\n              : \"red\"\r\n            ),\r\n          }\r\n        }>\r\n          {convertNumberToCurrency(Math.abs(budget.amountSpent))} of {convertNumberToCurrency(Math.abs(budget.Amount))} spent\r\n        </h6>\r\n        <h6 className=\"budget-graph-bar-remaining text-muted\" >\r\n          {convertNumberToCurrency(budget.Amount - budget.amountSpent)} {(overBudget ? \"overspent\" : \"remaining\")}\r\n        </h6>\r\n        <div className=\"budget-graph-bar-inner\" style={\r\n          {\r\n            backgroundColor: (!isExpenseBudget ? \"green\" :  (overBudget ? \"red\" : budget.color)),\r\n            width: (overBudget\r\n              ? `calc(100% * ${(budget.amountSpent - budget.Amount)/budget.Amount})`\r\n              : `calc(100% * ${budget.amountSpent/budget.Amount})`\r\n            ),\r\n            left: (overBudget\r\n              ? \"unset\"\r\n              : 0\r\n            ),\r\n            right: (overBudget\r\n              ? 0\r\n              : \"unset\"\r\n            ),\r\n          }\r\n        }></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BudgetGraph;\r\n","import {useEffect} from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\n\r\nimport BudgetGraph from './../BudgetGraph';\r\n\r\nimport {getBudgetAmountSpentFromTransactions} from './../../utilities';\r\n\r\nimport {useBudgetCycleTransactions} from './../../hooks';\r\n\r\nimport './index.scss';\r\n\r\nconst BudgetsView = ({ transactions, budgetsData, budgetCycle, setFooterNavbar })=>{\r\n  //Send the route to the footer navbar\r\n  const route = useLocation().pathname;\r\n  useEffect(()=>{\r\n    setFooterNavbar(route);\r\n  }, []);\r\n\r\n  const currentBudgetCycleTransactions = useBudgetCycleTransactions(transactions, budgetCycle);\r\n\r\n  return (\r\n    <div className=\"view budgets-view container-fluid py-2\">\r\n      <div className=\"budget-graphs container\">\r\n        <h2 className=\"budgets-title text-center fw-bold\">Month Overview</h2>\r\n\r\n        {\r\n          (\r\n            !budgetsData ?\r\n            '' :\r\n            budgetsData.map(budgetData=>{\r\n              const {Name, Amount, Type} = budgetData;\r\n              return <BudgetGraph key={Name} budget={{...budgetData, color: \"#2196f3\", amountSpent: getBudgetAmountSpentFromTransactions(Name, currentBudgetCycleTransactions)}}/>\r\n            })\r\n          )\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BudgetsView;\r\n","import {useState} from 'react';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionsImportForm = ({ onSubmit:onSubmitProp, onFileInputChange:onFileInputChangeProp })=>{\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggleOnClick = event=>{\r\n    setIsOpen(wasOpen=>!wasOpen);\r\n  };\r\n\r\n  const onSubmit = event=>{\r\n    //Prevent form submission\r\n    event.preventDefault();\r\n\r\n    const transactionImportInput = event.target.querySelector(\"#transaction-import-input\");\r\n\r\n    //Get the transactions data\r\n    const scrapedTransactionsData = transactionImportInput.value;\r\n\r\n    //Reset the input\r\n    transactionImportInput.value = '';\r\n\r\n    //Re-close the form\r\n    setIsOpen(false);\r\n\r\n    //Send it to the parent\r\n    onSubmitProp(scrapedTransactionsData);\r\n  };\r\n\r\n  const onFileInputChange = async event=>{\r\n    //Prevent default behavior\r\n    event.preventDefault();\r\n\r\n    //Get the transactions data\r\n    const transactionsDataArray = [];\r\n    await Promise.all(  //Promise.all handles an array of Promises\r\n      [...event.target.files].map(async file=>{\r\n        const fileContent = await file.text();\r\n        transactionsDataArray.push(fileContent);\r\n      })\r\n    );\r\n\r\n    //Reset the file input\r\n    event.target.value = \"\";\r\n\r\n    //Re-close the form\r\n    setIsOpen(false);\r\n\r\n    //Call the parent handler\r\n    onFileInputChangeProp(transactionsDataArray);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"d-flex justify-content-end\">\r\n        <button className=\"transaction-import-form-toggle btn btn-dark\" type=\"button\" onClick={toggleOnClick}>Import Transactions</button>\r\n      </div>\r\n      {(\r\n        !isOpen ? null :\r\n        <form id=\"transaction-import-form\" className=\"transaction-import-form mb-4\" onSubmit={onSubmit}>\r\n          <div>\r\n            <label className=\"form-label\">Transactions</label>\r\n            <div className=\"input-group mb-2\">\r\n              <textarea id=\"transaction-import-input\" className=\"transaction-import-input form-control\" rows=\"1\"></textarea>\r\n              <button className=\"btn btn-primary input-group-text\" type=\"submit\">Import</button>\r\n            </div>\r\n            <p className=\"form-text\">Paste transactions data for parsing.</p>\r\n            <div>\r\n              <label className=\"form-label\">Or, import a comma-separated values (*.csv) file.</label>\r\n              <input id=\"transaction-import-form-input-file\" className=\"form-control\" type=\"file\" accept=\".csv\" multiple onChange={onFileInputChange} />\r\n            </div>\r\n            <div id=\"transaction-import-form-status\"></div>\r\n          </div>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionsImportForm;\r\n","import './index.scss';\r\n\r\nconst TransactionsTableHeaders = ()=>{\r\n  const headers = [\r\n    \"Transaction Date\",\r\n    \"Card\",\r\n    \"Category\",\r\n    \"Description\",\r\n    \"Notes\",\r\n    \"Amount\",\r\n    \"Tags\",\r\n    \"\"\r\n  ];\r\n\r\n  return (\r\n    <thead>\r\n      <tr>\r\n        {headers.map(header=><th key={header}>{header}</th>)}\r\n      </tr>\r\n    </thead>\r\n  );\r\n};\r\n\r\nexport default TransactionsTableHeaders;\r\n","import './index.scss';\r\n\r\nconst TagBadge = ({ tag, onClick })=>{\r\n  return (\r\n    <span key={tag} className=\"tag-badge badge rounded-pill\" onClick={onClick}>{tag}</span>\r\n  );\r\n};\r\n\r\nexport default TagBadge;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport TagBadge from './../TagBadge';\r\n\r\nimport {nullCoalesce, formatTransactionDisplay} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionsTableTransaction = ({ transaction, onTransactionEditButtonClick })=>{\r\n  const [transactionDisplay, setTransactionDisplay] = useState({\r\n    PostedDate: \"\",\r\n    TransactionDate: \"\",\r\n    Card: \"\",\r\n    Type: \"\",\r\n    Description: \"\",\r\n    Amount: \"\",\r\n    Category: \"\",\r\n    Notes: \"\",\r\n    Tags: [],\r\n  });\r\n\r\n  useEffect(()=>setTransactionDisplay(formatTransactionDisplay(transaction)), [transaction]);\r\n\r\n  return (\r\n    <tr className=\"transaction\">\r\n      <td>{transactionDisplay.TransactionDate}</td>\r\n      <td>{transactionDisplay.Card}</td>\r\n      <td>{transactionDisplay.Category}</td>\r\n      <td>{transactionDisplay.Description}</td>\r\n      <td>{transactionDisplay.Notes}</td>\r\n      <td>{transactionDisplay.Amount}</td>\r\n      <td>{transactionDisplay.Tags.map(tag=><TagBadge key={tag} tag={tag} />)}</td>\r\n      <td><button className=\"transaction-edit-button btn\" type=\"button\" onClick={()=>onTransactionEditButtonClick(transaction)}><i className=\"transaction-edit-button-icon fas fa-edit\"></i></button></td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default TransactionsTableTransaction;\r\n","import TransactionsTableTransaction from './../TransactionsTableTransaction';\r\nimport './index.scss';\r\n\r\nconst TransactionsTableTransactions = ({ transactions, onTransactionEditButtonClick })=>{\r\n  if(!(transactions && transactions.length)) return null;\r\n  return (\r\n    <>\r\n      {transactions.map((transaction, i)=><TransactionsTableTransaction key={i} transaction={transaction} onTransactionEditButtonClick={onTransactionEditButtonClick} />)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TransactionsTableTransactions;\r\n","import {useState, useEffect} from 'react';\r\nimport TransactionsTableTransactions from './../TransactionsTableTransactions';\r\nimport {convertNumberToCurrency, getSumByProp} from './../../utilities';\r\nimport './index.scss';\r\n\r\nconst TransactionsTableBody = ({ transactions, onTransactionEditButtonClick })=>{\r\n  const calculatePaymentAmountTotal = ()=>{\r\n    return convertNumberToCurrency(\r\n      getSumByProp(\r\n        transactions.filter(transaction=>transaction.Type !== \"Payments\")\r\n        , \"Amount\"\r\n      )\r\n    )\r\n  };\r\n\r\n  const [totalAmount, setTotalAmount] = useState(\"\");\r\n\r\n  useEffect(()=>{\r\n    if (!transactions.length) return;\r\n    setTotalAmount(calculatePaymentAmountTotal());\r\n  }, [transactions]);\r\n\r\n  return (\r\n    <tbody>\r\n      <TransactionsTableTransactions transactions={transactions} onTransactionEditButtonClick={onTransactionEditButtonClick} />\r\n      <tr className=\"total\">\r\n        <td></td>\r\n        <td></td>\r\n        <td></td>\r\n        <td></td>\r\n        <td></td>\r\n        <td>{(totalAmount ? totalAmount : \"\")}</td>\r\n        <td></td>\r\n        <td></td>\r\n      </tr>\r\n    </tbody>\r\n  );\r\n};\r\n\r\nexport default TransactionsTableBody;\r\n","import TransactionsTableHeaders from './../TransactionsTableHeaders';\r\nimport TransactionsTableBody from './../TransactionsTableBody';\r\nimport './index.scss';\r\n\r\nconst TransactionsTable = ({ transactions, onTransactionEditButtonClick })=>{\r\n  if (!transactions.length) return null;\r\n  return (\r\n    <div className=\"transaction-table-container\">\r\n      <table className=\"table table-striped table-hover mb-0\">\r\n        <TransactionsTableHeaders />\r\n        <TransactionsTableBody transactions={transactions} onTransactionEditButtonClick={onTransactionEditButtonClick} />\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionsTable;\r\n","import TransactionsTable from './../TransactionsTable';\r\nimport './index.scss';\r\n\r\nconst TransactionsData = ({ transactions, onTransactionEditButtonClick })=>{\r\n  return (\r\n    <div className=\"transaction-data\">\r\n      <h2 className=\"h2\">Transactions</h2>\r\n      <TransactionsTable transactions={transactions} onTransactionEditButtonClick={onTransactionEditButtonClick} />\r\n      <div className=\"transaction-count text-end mb-4 mr-2\">\r\n        <small><em>{(transactions && transactions.length ? transactions.length : 0)} transactions</em></small>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionsData;\r\n","// ## FEATUERS\r\n// - Dropdown list opens when:\r\n//    * click anywhere inside\r\n//    * when the .input-dropdown-input receives input\r\n//    * when the \"Up\" or \"Down\" keys are pressed with the .input-dropdown-input focused\r\n// - Dropdown list closes when:\r\n//    * a selection is clicked or chosen with the \"Enter\" key\r\n//    * a click occurs outside of the dropdown\r\n//    * another element is focused on\r\n//    * the \"Esc\" key is pressed\r\n// - Dropdown list items can be selected by:\r\n//    * clicking on a list item using\r\n//    * using the \"Up\" and \"Down\" keys along with the \"Enter\" key (when .input-dropdown-input focused)\r\n// - Dropdown list items can be filtered/highlighted by inputting into .input-dropdown-input\r\n// ## DESIGN\r\n// - Dropdown input takes 100% of dropdown width\r\n// - Dropdown list height maxes out and scrolls afterward\r\n// - Dropdown list will scroll as selection moves\r\n// - Dropdown list will only move the selection if the dropdown list was already open--if the dropdown list was opened using the \"Up\" or \"Down\" key, the selection will remain on the current value\r\n\r\n\r\n(()=>{\r\nconst isDescendantOf = (element, potentialAncestor) => {\r\n  if (\r\n    element &&\r\n    potentialAncestor &&\r\n    element !== potentialAncestor\r\n  ) return isDescendantOf(element.parentElement, potentialAncestor);\r\n\r\n  return element != null &&\r\n    potentialAncestor != null &&\r\n    element === potentialAncestor;\r\n};\r\n\r\nconst isDescendantOfDropdown = element => {\r\n  if (\r\n    !element.classList.contains(\"input-dropdown\") &&\r\n    element.parentElement\r\n  ) return isDescendantOfDropdown(element.parentElement);\r\n\r\n  if (element.classList.contains(\"input-dropdown\")) return element;\r\n\r\n  return false;\r\n};\r\n\r\n//Create master dropdown closure to hold all dropdown state per event\r\nconst dropdownMasterEventListener = event=>{\r\n  const dropdown = isDescendantOfDropdown(event.target);\r\n\r\n  //Exit if not clicked inside a dropdown\r\n  if (!dropdown) return;\r\n\r\n  //Declare variables\r\n  const eventListeners = [];\r\n  const dropdownItem = event.target.classList.contains(\"input-dropdown-list-item\") && event.target;\r\n  const dropdownInput = dropdown.querySelector(\".input-dropdown-input\");\r\n  const dropdownList = dropdown.querySelector(\".input-dropdown-list\");\r\n  const dropdownListItems = [...dropdown.querySelectorAll(\".input-dropdown-list-item\")];\r\n  const previousSelectedValue = dropdownInput.value;\r\n\r\n\r\n  //Declare functions\r\n  const callEventListeners = event=>{\r\n    eventListeners.filter(listenerObj=>listenerObj[0]===event.type).forEach(listenerObj=>listenerObj[1](event));\r\n  };\r\n\r\n  const filterDropdownItems = value=>{\r\n    //Declare variables\r\n    const regEx = new RegExp(`(${value})`, \"i\");\r\n\r\n    //If no value was passed, exit\r\n    if(!value) return;\r\n\r\n    //Add .hidden to unmatched items\r\n    dropdownListItems.filter(dropdownListItem=>!dropdownListItem.innerText.match(regEx)).forEach(dropdownListItem=>dropdownListItem.classList.add(\"hidden\"));\r\n\r\n    //Add a highlight to matched text in unfiltered items\r\n   dropdownListItems.filter(dropdownListItem=>dropdownListItem.innerText.match(regEx)).forEach(dropdownListItem=>dropdownListItem.innerHTML = dropdownListItem.innerHTML.replace(regEx, `<mark class=\"dropdown-selected-highlight\">$1</mark>`));\r\n  };\r\n\r\n  const unFilterDropdownItems = ()=> dropdownListItems.forEach(dropdownListItem=>{\r\n    dropdownListItem.classList.remove(\"hidden\");\r\n    dropdownListItem.innerHTML = dropdownListItem.innerText;\r\n  });\r\n\r\n  const setDropdownItemsSelection = selectedDropdownListItem=>{\r\n    resetDropdownItemsSelection();\r\n    if(!selectedDropdownListItem) return;\r\n    selectedDropdownListItem.classList.add(\"selected\");\r\n  };\r\n\r\n  const resetDropdownItemsSelection = ()=> dropdownListItems.forEach(dropdownListItem=>dropdownListItem.classList.remove(\"selected\"));\r\n\r\n  const setDropdownSelection = value=>{\r\n    const dropdownInput = dropdown.querySelector(\".input-dropdown-input\");\r\n    if (!dropdownInput) throw new Error();\r\n    dropdownInput.value = value;\r\n    unFilterDropdownItems();\r\n  };\r\n\r\n  const clearDropdownSelection = event=>{\r\n    dropdownInput.value = previousSelectedValue;\r\n  };\r\n\r\n  const checkDropdownListSelectionScroll = ()=>{\r\n    //Delare variables\r\n    const selectedDropdownListItem = dropdownList.querySelector(\".input-dropdown-list-item.selected\");\r\n\r\n    //IF there is no selected item, exit\r\n    if(!selectedDropdownListItem) return;\r\n\r\n    const newlySelectedDropdownListItemRect = selectedDropdownListItem.getBoundingClientRect();\r\n    const dropdownListViewport = dropdownList.getBoundingClientRect();\r\n    const topIsBelowNotAboveViewportTop = newlySelectedDropdownListItemRect.top >= dropdownListViewport.top;\r\n    const bottomIsAboveNotBelowViewportBottom = newlySelectedDropdownListItemRect.bottom <= dropdownListViewport.bottom;\r\n\r\n    //Shift the view of the dropdown list (via scroll), if necessary\r\n\r\n    //If the top is above the viewport, attempt to scroll the viewport to the top of the selection (or to the bottom scrollable area, if selection is at the bottom)\r\n    if (!topIsBelowNotAboveViewportTop) {\r\n      dropdownList.scroll({top: dropdownList.scrollTop + (newlySelectedDropdownListItemRect.top - dropdownListViewport.top)})\r\n    }\r\n    //Or, if the bottom is below the viewport, scroll the viewport down 1 height unit until we can see the selection bottom\r\n    else if (!bottomIsAboveNotBelowViewportBottom) {\r\n      dropdownList.scroll({top: dropdownList.scrollTop + (newlySelectedDropdownListItemRect.height * (Math.floor((newlySelectedDropdownListItemRect.bottom - dropdownListViewport.bottom)/newlySelectedDropdownListItemRect.height)+1))})\r\n    }\r\n  };\r\n\r\n  const addTemporaryEventListeners = ()=>{\r\n    document.addEventListener(\"click\", checkIfClickedOrFocusedOutsideOfDropdown);\r\n    document.addEventListener(\"focus\", checkIfClickedOrFocusedOutsideOfDropdown);\r\n\r\n    dropdownListItems.forEach(dropdownListItem=>dropdownListItem.addEventListener(\"mouseenter\", dropdownListItemOnMouseEnter));\r\n  };\r\n\r\n  const removeTemporaryEventListeners = ()=>{\r\n    document.removeEventListener(\"click\", checkIfClickedOrFocusedOutsideOfDropdown);\r\n    document.removeEventListener(\"focus\", checkIfClickedOrFocusedOutsideOfDropdown);\r\n    //dropdownListItems.forEach(dropdownListItem=>dropdownListItem.removeEventListener(\"mouseenter\", setDropdownSelection));\r\n    //dropdownList.removeEventListener(\"mouseleave\", dropdownListOnMouseLeave);\r\n     dropdownListItems.forEach(dropdownListItem=>dropdownListItem.removeEventListener(\"mouseenter\", dropdownListItemOnMouseEnter));\r\n  };\r\n\r\n  const dropdownIsOpen = ()=>dropdown.classList.contains(\"open\");\r\n\r\n  const openDropdown = ()=>{\r\n    if (dropdownIsOpen()) return;\r\n\r\n    //Open dropdown\r\n    dropdown.classList.add(\"open\");\r\n\r\n    //Set a selected value that matches the current input value, if applicable\r\n    setDropdownItemsSelection(dropdownListItems.filter(dropdownListItem=>dropdownListItem.innerText === dropdownInput.value)[0]);\r\n\r\n    //Add necessary event listeners to dropdown components\r\n    addTemporaryEventListeners();\r\n  };\r\n\r\n  const closeDropdown = ()=>{\r\n    if (!dropdownIsOpen) return;\r\n\r\n    //Remove event listeners\r\n    removeTemporaryEventListeners();\r\n\r\n    //Close the dropdown\r\n    dropdown.classList.remove(\"open\");\r\n  };\r\n\r\n  const checkIfClickedOrFocusedOutsideOfDropdown = event=>{\r\n    //If we click outside of the dropdown or its children, close it\r\n    if (!isDescendantOf(event.target, dropdown)) closeDropdown();\r\n  };\r\n\r\n\r\n  //Declare event listeners\r\n  const dropdownListItemOnMouseEnter = event=>{\r\n    const dropdownListItems = [...dropdown.querySelectorAll(\".input-dropdown-list-item\")];\r\n    const selectedDropdownListItem = event.target;\r\n    setDropdownItemsSelection(selectedDropdownListItem);\r\n  };\r\n\r\n  const dropdownInputOnInput = event=>{\r\n\r\n    //Declare variables\r\n    const value = event.target.value;\r\n\r\n    //Assure the dropdown is open\r\n    openDropdown();\r\n\r\n    //Start by resetting all list items to visible\r\n    unFilterDropdownItems();\r\n\r\n    //Now, filter items that don't match and highlight unfiltered matched text\r\n    filterDropdownItems(value);\r\n\r\n    //Set the selected value to the first option\r\n    setDropdownItemsSelection(dropdown.querySelector(\".input-dropdown-list-item:not(.hidden)\"));\r\n\r\n    //Make sure the selected value is within visibility\r\n    checkDropdownListSelectionScroll();\r\n  };\r\n\r\n  const dropdownOnKeyDown = event=>{\r\n    if (\r\n      event.keyCode === 38 /* Up */ ||\r\n      event.keyCode === 40 /* Down */ ||\r\n      event.keyCode === 36 /* Home */ ||\r\n      event.keyCode === 35 /* End */\r\n    ) {\r\n      event.preventDefault();\r\n\r\n      //Declare variables\r\n      const dropdownListItems = [...dropdown.querySelectorAll(\".input-dropdown-list-item:not(.hidden)\")];\r\n\r\n      //Assure the dropdown is open if we pressed the \"Up\" or \"Down\" arrow\r\n      const dropdownWasOpen = dropdownIsOpen();\r\n      if (event.keyCode === 38 /* Up */ || event.keyCode === 40 /* Down */) openDropdown();\r\n\r\n      //Select the next or previous dropdown list item based on the key pressed, only if the dropdown was already open\r\n      if (dropdownWasOpen) {\r\n        if (event.keyCode === 38 /* Up */ || event.keyCode === 40 /* Down */) {\r\n          const upOrDown = (event.keyCode === 38 ? -1 : 1);\r\n          const wrapAround = (event.keyCode === 38 ? dropdownListItems.length : -1);\r\n\r\n          const currentSelectedDropdownListItem = dropdown.querySelector(\".input-dropdown-list-item.selected\");\r\n          const currentSelectedDropdownListItemIndex = (dropdownListItems.indexOf(currentSelectedDropdownListItem) === -1 ? wrapAround : dropdownListItems.indexOf(currentSelectedDropdownListItem));\r\n          const newlySelectedDropdownListItem = dropdownListItems[(currentSelectedDropdownListItemIndex+upOrDown+dropdownListItems.length)%dropdownListItems.length];\r\n          setDropdownItemsSelection(newlySelectedDropdownListItem);\r\n        }\r\n        else if (event.keyCode === 36 /* Home */ || event.keyCode === 35 /* End */) {\r\n          const firstOrLastIndex = (event.keyCode === 36 ? 0 : dropdownListItems.length-1);\r\n          const newlySelectedDropdownListItem = dropdownListItems[firstOrLastIndex];\r\n          setDropdownItemsSelection(newlySelectedDropdownListItem);\r\n        }\r\n      }\r\n\r\n      //Check the scroll on the dropdown list to assure the newly selected item is visible\r\n      checkDropdownListSelectionScroll();\r\n\r\n      return;\r\n    }\r\n\r\n    if (event.keyCode === 13 /* Enter */) {\r\n      event.preventDefault();\r\n\r\n      //Declare variables\r\n      const dropdownListItems = [...dropdown.querySelectorAll(\".input-dropdown-list-item\")];\r\n\r\n      const currentSelectedDropdownListItem = dropdownListItems.filter(dropdownListItem=>dropdownListItem.classList.contains(\"selected\"))[0];\r\n      if (!currentSelectedDropdownListItem) return;\r\n      setDropdownSelection(currentSelectedDropdownListItem.innerText);\r\n      closeDropdown();\r\n      return;\r\n    }\r\n\r\n    if (event.keyCode === 27 /* Esc */) {\r\n      event.preventDefault();\r\n\r\n      //Declare variables\r\n      unFilterDropdownItems();\r\n      resetDropdownItemsSelection();\r\n      clearDropdownSelection();\r\n      closeDropdown();\r\n      return;\r\n    }\r\n  };\r\n\r\n  const dropdownOnClick = event=>{\r\n    //If a dropdown item was clicked, select it\r\n    if (dropdownItem) {\r\n      closeDropdown();\r\n      setDropdownSelection(event.target.innerText);\r\n      return;\r\n    }\r\n\r\n    //If the dropdown was clicked and not already open, open it\r\n    openDropdown();\r\n\r\n    //Attach permanent event listeners\r\n    //dropdownInput.oninput = dropdownInputOnInput; //onInput event listener to filter the dropdownListItems on typing\r\n    //dropdown.onkeydown = dropdownOnKeyDown; /* possible with div.[tabindex=0] */\r\n\r\n    //Also add onMouseover event listeners on the dropdown items\r\n    //dropdownListItems.forEach(dropdownListItem=>dropdownListItem.addEventListener(\"mouseenter\", setDropdownSelection));\r\n    //dropdownList.addEventListener(\"mouseleave\", dropdownListOnMouseLeave);\r\n  };\r\n\r\n  // const dropdownListOnMouseLeave = event=>{\r\n  //   if (!dropdown.classList.contains(\"open\")) return;\r\n  //   clearDropdownSelection(event);\r\n  // };\r\n\r\n  //Save event listeners\r\n  eventListeners.push([\"click\", dropdownOnClick]);\r\n  eventListeners.push([\"input\", dropdownInputOnInput]);\r\n  eventListeners.push([\"keydown\", dropdownOnKeyDown]);\r\n\r\n  callEventListeners(event);\r\n};\r\n\r\ndocument.addEventListener(\"click\", dropdownMasterEventListener /* dropdownOnClick */);\r\ndocument.addEventListener(\"input\", dropdownMasterEventListener /* dropdownInputOnInput */);\r\ndocument.addEventListener(\"keydown\", dropdownMasterEventListener /* dropdownOnKeyDown */);\r\n})();\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport './InputDropdown.js';\r\nimport './InputDropdown.css';\r\nimport './index.scss';\r\n\r\nconst InputDropdown = ({ name, value: initialValue, items, placeholder, onKeyDown, onChange: onChangeProp })=>{\r\n  const [value, setValue] = useState(initialValue);\r\n\r\n  //Update the dropdown value whenever a new one is passed\r\n  useEffect(()=>setValue(initialValue), [initialValue]);\r\n\r\n  const onChange = event=>{\r\n    setValue(event.target.value); //handle dropdown onChange\r\n    onChangeProp(event); //handle ancestor-passed onChange prop\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"input-dropdown\">\r\n      <input className=\"input-dropdown-input transaction-modal-input\" name={name} value={value} placeholder={placeholder} onChange={onChange} onKeyDown={onKeyDown} autoComplete=\"off\"/>\r\n      <div className=\"input-dropdown-chevron-container\">\r\n          <i className=\"input-dropdown-chevron\"></i>\r\n        </div>\r\n      <ul className=\"input-dropdown-list\">\r\n        {items.map(item=><li key={item} className=\"input-dropdown-list-item\">{item}</li>)}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InputDropdown;\r\n","import TagBadge from './../TagBadge';\r\nimport InputDropdown from './../InputDropdown';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionDetailModalInput = ({ transactionDetail, tabIndex, onClick, onBlur, onChange, onKeyDown, onTagBadgeClick })=>{\r\n  const categories = [\r\n    \"\",\r\n    \"Savings\",\r\n    \"Gas\",\r\n    \"Church\",\r\n    \"Groceries/Necessities\",\r\n    \"LoveInAction\",\r\n    \"Family Outings\",\r\n    \"Personal Spending\",\r\n    \"Miscellaneous\",\r\n    \"Sharonview mortgage & escrow\",\r\n    \"HOA dues\",\r\n    \"Duke Energy\",\r\n    \"SJWD Water District\",\r\n    \"Piedmont Natural Gas\",\r\n    \"Kirby Sanitation\",\r\n    \"Laurens Electric ProTec Security\",\r\n    \"SimpliSafe (for mom)\",\r\n    \"AT&T Internet\",\r\n    \"State Farm auto insurance\",\r\n    \"AT&T phone bill\",\r\n    \"Spotify Premium subscription\",\r\n    \"Netflix Premium subscription\",\r\n    \"Discovery Plus subscription\",\r\n    \"YMCA membership\",\r\n  ];\r\n\r\n  return (\r\n    <div key={`${transactionDetail.name}-container`} onClick={onClick} onBlur={onBlur}>\r\n      {(\r\n        transactionDetail.name === \"Tags\" ?\r\n        (\r\n          <div className=\"transaction-modal-input-tags-container form-control\">\r\n            <input className=\"transaction-modal-input-tags-hidden form-control\" type=\"hidden\" name=\"Tags\" value={transactionDetail.value.join(\",\")} />\r\n            <div className=\"transaction-modal-input-tags-badge-container\">\r\n              {transactionDetail.value.map(tag=><TagBadge key={tag} tag={tag} onClick={event=>onTagBadgeClick(tag)} />)}\r\n            </div>\r\n            <transactionDetail.tag className=\"transaction-modal-input transaction-modal-input-tags form-control\" type={transactionDetail.tagType} placeholder={transactionDetail.placeholder} tabIndex={tabIndex} onKeyDown={onKeyDown}></transactionDetail.tag>\r\n          </div>\r\n        ) : (\r\n        transactionDetail.name === \"Category\" ?\r\n          <InputDropdown name={transactionDetail.name} value={transactionDetail.value} items={categories} placeholder={transactionDetail.placeholder} disabled tabIndex={tabIndex} onKeyDown={onKeyDown} onChange={onChange}/>\r\n        :\r\n          <transactionDetail.tag className=\"transaction-modal-input transaction-modal-input-text form-control\" name={transactionDetail.name} value={transactionDetail.value} type={transactionDetail.tagType} placeholder={transactionDetail.placeholder} tabIndex={tabIndex} disabled onKeyDown={onKeyDown} onChange={onChange}>{transactionDetail.tag !== \"input\" ? transactionDetail.value : null}</transactionDetail.tag>\r\n      )\r\n    )}\r\n    </div> //disabled inputs don't fire events; wrap in something that will fire an event\r\n  );\r\n};\r\n\r\nexport default TransactionDetailModalInput;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport TransactionDetailModalInput from './../TransactionDetailModalInput';\r\n\r\nimport {nullCoalesce, formatTransactionDisplay} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionDetailModal = ({ transaction, buttonsOptions, isOpen, onClose, onSubmit })=>{\r\n  const [PostedDate, setPostedDate] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [TransactionDate, setTransactionDate] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [Card, setCard] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [Amount, setAmount] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [Description, setDescription] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [Category, setCategory] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [Type, setType] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [Notes, setNotes] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [Tags, setTags] = useState([]);\r\n\r\n  useEffect(()=>{\r\n    if(!transaction) return;\r\n\r\n    console.log(\"Updating TransactionDetailModal state based on updated prop \\\"transaction\\\".\", transaction, PostedDate, TransactionDate, Card, Amount, Description, Category, Notes, Type, Tags)\r\n    const transactionDisplay = formatTransactionDisplay(transaction);\r\n    setPostedDate(transactionDisplay.PostedDate);\r\n    setTransactionDate(transactionDisplay.TransactionDate);\r\n    setCard(transactionDisplay.Card);\r\n    setAmount(transactionDisplay.Amount);\r\n    setDescription(nullCoalesce(transactionDisplay.DescriptionDisplay, transactionDisplay.Description));\r\n    setCategory(transactionDisplay.Category);\r\n    setNotes(transactionDisplay.Notes);\r\n    setType(transactionDisplay.Type);\r\n    setTags(transactionDisplay.Tags);\r\n  }, [transaction]);\r\n\r\n  const transactionDetails = [\r\n    {name: \"PostedDate\", placeholder: \"PostedDate\", value: PostedDate, tag: \"input\", tagType: \"text\", setState: setPostedDate},\r\n    {name: \"TransactionDate\", placeholder: \"TransactionDate\", value: TransactionDate, tag: \"input\", tagType: \"text\", setState: setTransactionDate},\r\n    {name: \"Card\", placeholder: \"Card\", value: Card, tag: \"input\", tagType: \"text\", setState: setCard},\r\n    {name: \"Amount\", placeholder: \"Amount\", value: Amount, tag: \"input\", tagType: \"text\", setState: setAmount},\r\n    {name: \"Description\", placeholder: \"Description\", value: Description, tag: \"input\", tagType: \"text\", setState: setDescription},\r\n    {name: \"Category\", placeholder: \"Select a category...\", value: Category, tag: \"input\", tagType: \"text\", setState: setCategory},\r\n    {name: \"Type\", placeholder: \"Type\", value: Type, tag: \"input\", tagType: \"text\", setState: setType},\r\n    {name: \"Notes\", placeholder: \"Notes\", value: Notes, tag: \"textarea\", tagType: null, setState: setNotes},\r\n    {name: \"Tags\", placeholder: \"Tags\", value: Tags, tag: \"input\", tagType: \"text\", setState: setTags},\r\n  ];\r\n\r\n  const onTransactionDetailInputContainerClick = event=>{\r\n    const transactionDetailInput = event.target;\r\n    transactionDetailInput.disabled = false;\r\n    transactionDetailInput.focus();\r\n  };\r\n\r\n  const onTransactionDetailInputContainerBlur = event=>{\r\n    const transactionDetailInput = event.target;\r\n    transactionDetailInput.disabled = true;\r\n  };\r\n\r\n  const onTransactionDetailInputChange = (event, transactionDetail)=>{\r\n    transactionDetail.setState(event.target.value)\r\n  };\r\n\r\n  const onTransactionDetailInputKeyDown = event=>{\r\n    const transactionDetailInput = event.target;\r\n    if (event.keyCode === 9 /* Tab */) {\r\n      event.preventDefault();\r\n      const nextOrPrevious = (event.shiftKey === true ? -1 : 1);\r\n      const inputsArray = [...new Set([...document.querySelector(\".transaction-modal-form\").querySelectorAll(\".transaction-modal-input\"), ...document.querySelector(\".transaction-modal-form\").querySelectorAll(\"[tabIndex]\")])];\r\n      const nextInput = inputsArray[(inputsArray.indexOf(transactionDetailInput)+nextOrPrevious+inputsArray.length)%inputsArray.length];\r\n      if (nextInput) {\r\n        nextInput.disabled = false;\r\n        nextInput.focus();\r\n      }\r\n      return;\r\n    }\r\n    if (event.key === \"Enter\") {\r\n      event.preventDefault();\r\n\r\n      if (transactionDetailInput.classList.contains(\"transaction-modal-input-tags\")) {\r\n        setTags([...Tags, transactionDetailInput.value]);\r\n\r\n        //Reset the input\r\n        transactionDetailInput.value = '';\r\n\r\n        return;\r\n      }\r\n\r\n      transactionDetailInput.disabled = true;\r\n      return;\r\n    }\r\n  };\r\n\r\n  const transactionModalFormOnSubmit = event=>{\r\n    const transactionModalForm = event.target;\r\n\r\n    //Prevent the form from submitting\r\n    event.preventDefault();\r\n\r\n    //Aggregate the form data into an object\r\n    const data = [...transactionModalForm.querySelectorAll(\"[name]\")].reduce((accumulator,input)=>{\r\n      const obj = {};\r\n      let {name, value} = input;\r\n      value = (name === \"Tags\" ? (value ? value.split(/\\s*,\\s*/) : []) : value);\r\n\r\n      obj[name] = (value instanceof Array && value.length === 0 ? [] : nullCoalesce(value));\r\n      return accumulator = {...accumulator, ...obj};\r\n    }, {});\r\n    console.log(\"Data submitted from TransactionDetailModal\", data);\r\n\r\n    //Update the transaction with the new form data\r\n    const updatedTransaction = {\r\n      ...transaction, //previous transaction data\r\n      ...data, //new transaction data from the form\r\n      Description: transaction.Description, //make sure to never change the actual Description\r\n      DescriptionDisplay: (data.Description === formatTransactionDisplay(transaction).DescriptionDisplay ? null : data.Description), //if the description from the form exactly matches the default description format, then there was no description display created; otherwise, the user wants to save that description display\r\n    };\r\n\r\n    console.log(\"Updated transaction submitted from TransactionDetailModal\", updatedTransaction);\r\n\r\n    onSubmit(updatedTransaction);\r\n  };\r\n\r\n  const onTagBadgeClick = tag=>{\r\n    setTags(Tags.filter(t=>t!==tag));\r\n  };\r\n\r\n  return (\r\n    <Modal id=\"transaction-modal\" show={isOpen} onHide={onClose}>\r\n      <Modal.Header>\r\n        <Modal.Title className=\"modal-title\">Transaction Detail</Modal.Title>\r\n        <button className=\"btn-close\" type=\"button\" onClick={onClose}></button>\r\n      </Modal.Header>\r\n      <form className=\"transaction-modal-form\" onSubmit={transactionModalFormOnSubmit}>\r\n        <Modal.Body>\r\n          {transactionDetails.map((transactionDetail, i)=>(\r\n            <TransactionDetailModalInput key={transactionDetail.name} transactionDetail={transactionDetail} tabIndex={i+1} onClick={onTransactionDetailInputContainerClick} onBlur={onTransactionDetailInputContainerBlur} onChange={(event)=>onTransactionDetailInputChange(event, transactionDetail)} onKeyDown={onTransactionDetailInputKeyDown} onTagBadgeClick={onTagBadgeClick} />\r\n          ))}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          {Object.entries(buttonsOptions).map((buttonObj, i)=>(\r\n            <button key={buttonObj[0]} className={`btn ${(buttonObj[0] === \"okButton\" ? \"btn-primary\" : (buttonObj[0] === \"cancelButton\" ? \"btn-secondary\" : ''))}`} type={(buttonObj[0] === \"okButton\" ? \"submit\" : \"button\")} {...(buttonObj[0] === \"cancelButton\" ? {\"data-bs-dismiss\": \"modal\"} : '')} tabIndex={transactionDetails.length+i+1} onKeyDown={onTransactionDetailInputKeyDown} {...(buttonObj[0] === \"cancelButton\" ? {onClick: onClose} : '')} >{buttonObj[1]}</button>\r\n          ))}\r\n        </Modal.Footer>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default TransactionDetailModal;\r\n","import {useState} from 'react';\r\n\r\nimport {convertNumberToCurrency} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionsImportDuplicatesModalDuplicateCheckbox = ({ id, duplicateData, onChange:onChangeProp })=>{\r\n  const onChange = event=>{\r\n    const isChecked = event.target.checked;\r\n\r\n    //Update the duplicate's confirmation state in the parent\r\n    const updatedDuplicateData = {\r\n      ...duplicateData,\r\n      confirmed: !duplicateData.confirmed,\r\n    };\r\n\r\n    onChangeProp(duplicateData, updatedDuplicateData);\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-check\">\r\n      <input className=\"form-check-input\" type=\"checkbox\" id={id} checked={duplicateData.confirmed} onChange={onChange}/>\r\n      <label className=\"form-check-label\" htmlFor={id}>\r\n        {`${(duplicateData.duplicate.TransactionDate).toLocaleDateString()} ${convertNumberToCurrency(duplicateData.duplicate.Amount)} ${duplicateData.duplicate.Description}`}\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionsImportDuplicatesModalDuplicateCheckbox;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport TransactionsImportDuplicatesModalDuplicateCheckbox from './../TransactionsImportDuplicatesModalDuplicateCheckbox';\r\nimport {areObjectsEqual, isTransactionDuplicate} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionsImportDuplicatesModal = ({ newTransactions, duplicates, isOpen, onClose, onSubmit:onSubmitProp })=>{\r\n  const [duplicatesData, setDuplicatesData] = useState(duplicates.map(duplicate=>({duplicate, confirmed: true})));\r\n\r\n  useEffect(()=>{\r\n    console.log(\"Updating duplicates data from duplicates: \", duplicates);\r\n    setDuplicatesData(duplicates.map(duplicate=>({duplicate, confirmed: true})));\r\n  }, [duplicates]);\r\n\r\n  useEffect(()=>console.log(\"Duplicates data: \", duplicates), [duplicatesData]);\r\n\r\n  const onSubmit = event=>{\r\n    //Prevent the form from submitting\r\n    event.preventDefault();\r\n\r\n    //Get the checked duplicates\r\n    const confirmedDuplicates = duplicatesData.filter(duplicateData=>duplicateData.confirmed).map(duplicateData=>duplicateData.duplicate);\r\n\r\n    console.log(\"Duplicates confirmed from TransactionsImportDuplicatesModal\", confirmedDuplicates);\r\n\r\n    //Remove the true duplicates\r\n    const filteredNewTransactions = newTransactions.filter(newTransaction=>!isTransactionDuplicate(newTransaction, confirmedDuplicates));\r\n\r\n    onSubmitProp(filteredNewTransactions);\r\n  };\r\n\r\n  const onTransactionsImportDuplicatesModalDuplicateCheckboxChange = (oldDuplicateData, newDuplicateData)=>{\r\n    setDuplicatesData(previousDuplicatesData=>{\r\n      const newDuplicatesData = [...previousDuplicatesData];\r\n      const oldDuplicateDataIndex = previousDuplicatesData.indexOf(oldDuplicateData);\r\n      newDuplicatesData[oldDuplicateDataIndex] = newDuplicateData;\r\n      return newDuplicatesData;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal id=\"transaction-import-duplicate-modal\" show={isOpen} onHide={onClose}>\r\n      <Modal.Header>\r\n        <Modal.Title className=\"modal-title\">Duplicate transactions</Modal.Title>\r\n        <button className=\"btn-close\" type=\"button\" data-bs-dismiss=\"modal\" onClick={onClose}></button>\r\n      </Modal.Header>\r\n      <form className=\"transaction-import-duplicate-form\" onSubmit={onSubmit}>\r\n        <Modal.Body>\r\n          <p>{duplicates.length} possible duplicate transactions were found. Please confirm which are duplicates.</p>\r\n          <div className=\"overflow-auto\">\r\n            {\r\n              duplicatesData.map((duplicateData, i)=>(\r\n                <TransactionsImportDuplicatesModalDuplicateCheckbox key={i} id={i} duplicateData={duplicateData} onChange={onTransactionsImportDuplicatesModalDuplicateCheckboxChange} />\r\n              ))\r\n            }\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <button className=\"btn btn-secondary\" type=\"button\" tabIndex=\"1\" onClick={onClose}>Cancel import</button>\r\n          <button className=\"btn btn-primary\" type=\"submit\" tabIndex=\"2\">Confirm</button>\r\n        </Modal.Footer>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default TransactionsImportDuplicatesModal;\r\n","import {useState, useEffect} from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\n\r\nimport TransactionsImportForm from './../TransactionsImportForm';\r\nimport TransactionsData from './../TransactionsData';\r\nimport TransactionDetailModal from './../TransactionDetailModal';\r\nimport TransactionsImportDuplicatesModal from './../TransactionsImportDuplicatesModal';\r\n\r\nimport {useBudgetCycleTransactions} from './../../hooks';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionsView = ({ transactions, budgetCycle, transactionsImportDuplicatesModalNewTransactions, transactionsImportDuplicatesModalDuplicates, isTransactionsImportDuplicatesModalOpen, onTransactionsImportDuplicatesModalClose, onTransactionsImportDuplicatesModalSubmit, onTransactionsImportFormSubmit, onTransactionsImportFormFileInputChange, onTransactionDetailModalSubmit:onTransactionDetailModalSubmitProp, setFooterNavbar })=>{\r\n  //Send the route to the footer navbar\r\n  const route = useLocation().pathname;\r\n  useEffect(()=>{\r\n    setFooterNavbar(route);\r\n  }, []);\r\n\r\n  const [transactionDetailModalTransaction, setTransactionDetailModalTransaction] = useState(null);\r\n  const [isTransactionDetailModalOpen, setIsTransactionDetailModalOpen] = useState(false);\r\n  const currentBudgetCycleTransactions = useBudgetCycleTransactions(transactions, budgetCycle);\r\n\r\n  const openTransactionDetailModal = ()=>{\r\n    setIsTransactionDetailModalOpen(true);\r\n  };\r\n\r\n  const closeTransactionDetailModal = ()=>{\r\n    setIsTransactionDetailModalOpen(false);\r\n  };\r\n\r\n  const onTransactionEditButtonClick = transaction=>{\r\n    setTransactionDetailModalTransaction(transaction);\r\n    openTransactionDetailModal();\r\n  };\r\n\r\n  const onTransactionDetailModalSubmit = (updatedTransaction)=>{\r\n    onTransactionDetailModalSubmitProp(transactionDetailModalTransaction, updatedTransaction);\r\n    closeTransactionDetailModal();\r\n  };\r\n\r\n  return (\r\n    <div className=\"view transactions-view\">\r\n      <div className=\"container-fluid\">\r\n        <h1 className=\"display-1\">Ledger</h1>\r\n        <TransactionsImportForm onSubmit={onTransactionsImportFormSubmit} onFileInputChange={onTransactionsImportFormFileInputChange} />\r\n        <TransactionsData transactions={currentBudgetCycleTransactions} onTransactionEditButtonClick={onTransactionEditButtonClick} />\r\n      </div>\r\n      <TransactionDetailModal transaction={transactionDetailModalTransaction} buttonsOptions={{cancelButton: \"Cancel\", okButton: \"Save\"}} isOpen={isTransactionDetailModalOpen} onClose={closeTransactionDetailModal} onSubmit={onTransactionDetailModalSubmit} />\r\n      <TransactionsImportDuplicatesModal newTransactions={transactionsImportDuplicatesModalNewTransactions} duplicates={transactionsImportDuplicatesModalDuplicates} isOpen={isTransactionsImportDuplicatesModalOpen} onClose={onTransactionsImportDuplicatesModalClose} onSubmit={onTransactionsImportDuplicatesModalSubmit} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionsView;\r\n","import {useEffect} from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\n\r\nimport './index.scss';\r\n\r\nconst SettingsView = ({ setFooterNavbar })=>{\r\n  //Send the route to the footer navbar\r\n  const route = useLocation().pathname;\r\n  useEffect(()=>{\r\n    setFooterNavbar(route);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"view settings-view container-fluid py-2\"></div>\r\n  );\r\n};\r\n\r\nexport default SettingsView;\r\n","import {useEffect, useRef} from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport './index.scss';\r\n\r\nconst FooterNavbar = ({ active })=>{\r\n  const footerNavbar = useRef(null);\r\n\r\n  const setActiveItem = (active, footerNavbar)=>{\r\n    if (!active) return;\r\n    const activePath = (process.env.NODE_ENV === \"production\" ? process.env.PUBLIC_URL : '')+(active === \"/\" ? \"/dashboard\" : active);\r\n    const navItems = [...footerNavbar.current.querySelectorAll(\".footer-nav-item\")];\r\n    const activeItem = navItems.find(navItem=>navItem.getAttribute(\"href\") === activePath);\r\n    navItems.forEach(navItem=>navItem.classList.remove(\"active\"));\r\n    if (activeItem) activeItem.classList.add(\"active\");\r\n  };\r\n\r\n  useEffect(()=>{\r\n    setActiveItem(active, footerNavbar)\r\n  }, [active]);\r\n\r\n  return (\r\n    <footer className=\"footer fixed-bottom\" ref={footerNavbar}>\r\n      <nav className=\"footer-nav nav nav-pills nav-justified\">\r\n        <Link className=\"footer-nav-item nav-link d-flex flex-column\" to=\"/dashboard\"><i className=\"footer-nav-item-icon fas fa-home pb-1\"></i>Dashboard</Link>\r\n        <Link className=\"footer-nav-item nav-link d-flex flex-column\" to=\"/budgets\"><i className=\"footer-nav-item-icon far fa-clipboard pb-1\"></i>Budgets</Link>\r\n        <Link className=\"footer-nav-item nav-link d-flex flex-column\" to=\"/transactions\"><i className=\"footer-nav-item-icon fas fa-list pb-1\"></i>Transactions</Link>\r\n        <Link className=\"footer-nav-item nav-link d-flex flex-column\" to=\"/settings\"><i className=\"footer-nav-item-icon fas fa-cogs pb-1\"></i>Settings</Link>\r\n      </nav>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default FooterNavbar;\r\n","import {useState, useEffect} from 'react';\nimport {BrowserRouter as Router, Switch, Route, Link} from 'react-router-dom';\n\nimport {isFalsy, nullCoalesce, convertNumberToCurrency, convertCSVToJSON, getMonthFromNumber, getCurrentYear, getBudgetCycleFromDate, getBudgetCycleString, areObjectsEqual, typeCheckTransactions, isTransactionDuplicate, categorizeTransactionByDescription, importTransactions} from './../../utilities';\nimport {initAuthorization} from './../../googleApi';\nimport {getTransactions, updateTransactions, getBudgetsData, getAccountsData, getAccountData} from './../../api';\nimport {useScript, useConsoleLog} from './../../hooks';\n\nimport SignInView from './../SignInView';\nimport DashboardView from './../DashboardView';\nimport BudgetsView from './../BudgetsView';\nimport TransactionsView from './../TransactionsView';\nimport SettingsView from './../SettingsView';\nimport FooterNavbar from './../FooterNavbar';\n\nimport './main.css';\nimport './index.scss';\n\nconst App = () => {\n  //Set application state\n  const spreadsheetData = JSON.parse(localStorage.getItem(\"spreadsheet-data\")) || {};\n\n  const [transactions, setTransactions] = useState([]);\n  const [budgetsData, setBudgetsData] = useState([]);\n  const [accountsData, setAccountsData] = useState([]);\n  const [accountData, setAccountData] = useState({});\n\n  const [footerNavbar, setFooterNavbar] = useState(null);\n  const [budgetCycle, setBudgetCycle] = useState(getBudgetCycleFromDate(new Date()));\n  const [transactionsImportDuplicatesModalNewTransactions, setTransactionsImportDuplicatesModalNewTransactions] = useState([]);\n  const [transactionsImportDuplicatesModalDuplicates, setTransactionsImportDuplicatesModalDuplicates] = useState([]);\n  const [isTransactionsImportDuplicatesModalOpen, setIsTransactionsImportDuplicatesModalOpen] = useState(false);\n  const [signedInUser, setSignedInUser] = useState(undefined);\n  const [currentBudgetCycleTransactions, setCurrentBudgetCycleTransactions] = useState(null);\n\n  //Log data\n  useConsoleLog(transactions, \"Transactions Data:\");\n  useConsoleLog(budgetsData, \"Budget Data:\");\n  useConsoleLog(accountsData, \"Accounts Data:\");\n  useConsoleLog(accountData, \"Account Data:\");\n  useConsoleLog(signedInUser, \"signedInUser:\");\n  useConsoleLog(currentBudgetCycleTransactions, \"currentBudgetCycleTransactions:\");\n\n  //Load the Google API\n  const gapiLoaded = useScript(\"https://apis.google.com/js/api.js\");\n\n  //When the app starts, load the Google API\n  useEffect(async()=>{\n    if(!gapiLoaded) return;\n    initAuthorization(onSignInChange, onSignInChange);\n  }, [gapiLoaded]);\n\n  //Whenever the transactions are updated, save them off as well\n  useEffect(()=>{\n    if (!transactions.length) return;\n    updateTransactions(transactions);\n  }, [transactions]);\n\n  //Whenever the user gets logged in,\n  // attempt to query for data\n  useEffect(async ()=>{\n    if (!signedInUser) return;\n    setTransactionsWrapper(await getTransactions());\n    setBudgetsData(await getBudgetsData());\n    setAccountsData(await getAccountsData());\n    setAccountData(await getAccountData());\n  }, [signedInUser]);\n\n  //Create state handlers\n  const checkTransactionsForDuplicates = (previousTransactions, newTransactions)=>{\n    if(!previousTransactions.length) return newTransactions;\n\n    //Look for possible duplicate transactions,\n    // and confirm if they are duplicates (shouldn't be added),\n    // or not duplicates (should be added)\n    const duplicates = [];\n    newTransactions.forEach(newTransaction=>{\n      const duplicate = isTransactionDuplicate(newTransaction, previousTransactions);\n      if (duplicate) {\n        duplicates.push(duplicate);\n      }\n    });\n\n    //If there were no duplicates, append the new transactions\n    if (!duplicates.length) return [...previousTransactions, ...newTransactions];\n\n    //Otherwise, ask user to confirm true duplicates,\n    // and just return the previous data for now\n    console.log(\"Duplicates: \", duplicates);\n    setTransactionsImportDuplicatesModalNewTransactions(newTransactions);\n    setTransactionsImportDuplicatesModalDuplicates(duplicates);\n    openTransactionsImportDuplicatesModal();\n\n    return previousTransactions;\n  };\n\n  const setTransactionsHandler = (previousTransactions, newTransactions, callback, oldTransaction)=>{\n    //If there are no new transactions, short-circuit\n    if (isFalsy(newTransactions)) return previousTransactions;\n\n    //Check that we have an array of transactions\n    let transactionsArray = newTransactions;\n    if (!(newTransactions instanceof Array)) transactionsArray = [newTransactions];\n\n    //Type check transactions data to convert from strings to the correct type\n    const typeCheckedTransactions = typeCheckTransactions(transactionsArray);\n\n    //Assign category & notes from description\n    const transactions = typeCheckedTransactions.map(transaction=>categorizeTransactionByDescription(transaction));\n\n    //Return the data manipulation callback result, sorted\n    if (callback) return callback(previousTransactions, transactions, oldTransaction)\n      .sort((a,b)=>b.TransactionDate-a.TransactionDate);\n\n    //Otherwise, just return the transactions, sorted\n    return transactions.sort((a,b)=>b.TransactionDate-a.TransactionDate);\n  };\n\n  const setTransactionsWrapper = newTransactions=>{\n    //Import new transactions\n    setTransactions(previousTransactions=>{\n      //Run through transaction normalization\n      return setTransactionsHandler(previousTransactions, newTransactions);\n    });\n  };\n\n  const importTransactionsHandler = newTransactions=>{\n    //Import new transactions\n    setTransactions(previousTransactions=>{\n      const callback = (previousTransactions, newTransactions)=>{\n        //Check for duplicates, and return depending if any were found\n        return checkTransactionsForDuplicates(previousTransactions, newTransactions);\n      };\n\n      //Run through transaction normalization\n      return setTransactionsHandler(previousTransactions, newTransactions, callback);\n    });\n  };\n\n  const updateTransactionHandler = (oldTransaction, newTransaction)=>{\n    //Update a single transaction\n    setTransactions(previousTransactions=>{\n      const callback = (previousTransactions, newTransactions, oldTransaction)=>{\n        //Get the single updated transaction wrapped in an array\n        const newTransaction = newTransactions[0];\n\n        //Update transactions with the new transaction\n        const transactions = [...previousTransactions]; //create deep copy\n        transactions[transactions.indexOf(oldTransaction)] = newTransaction;\n\n        return transactions;\n      };\n\n      //Run through transaction normalization\n      return setTransactionsHandler(previousTransactions, newTransaction, callback, oldTransaction);\n    });\n  };\n\n  const appendTransactionsHandler = newTransactions=>{\n    //Import new transactions\n    setTransactions(previousTransactions=>{\n      const callback = (previousTransactions, newTransactions)=>{\n        //Append the new transactions\n        return [...previousTransactions, ...newTransactions];\n      };\n\n      //Run through transaction normalization\n      return setTransactionsHandler(previousTransactions, newTransactions, callback);\n    });\n  };\n\n  //Create event listeners\n  const onTransactionsImportFormSubmit = scrapedTransactionsData=>{\n    //Import the scraped transactions data\n    const transactions = importTransactions(scrapedTransactionsData, \"scraped\");\n\n    //Set the new transactions data\n    importTransactionsHandler(transactions);\n  };\n\n  const onTransactionsImportFormFileInputChange = transactionsDataArray=>{\n    //Import the csv transactions data\n    const transactions = importTransactions(transactionsDataArray, \"csv\");\n\n    //Set the new transactions data\n    importTransactionsHandler(transactions);\n  };\n\n  const onTransactionDetailModalSubmit = (oldTransaction, updatedTransaction)=>{\n    updateTransactionHandler(oldTransaction, updatedTransaction);\n  };\n\n  const openTransactionsImportDuplicatesModal = ()=>{\n    setIsTransactionsImportDuplicatesModalOpen(true);\n  };\n\n  const closeTransactionsImportDuplicatesModal = ()=>{\n    setIsTransactionsImportDuplicatesModalOpen(false);\n  };\n\n  const onTransactionsImportDuplicatesModalSubmit = (filteredNewTransactions)=>{\n    //Update transactions with the new transaction\n    appendTransactionsHandler(filteredNewTransactions);\n\n    //Close the modal\n    closeTransactionsImportDuplicatesModal();\n  };\n\n  const onSignInChange = signInInfo=>{\n    setSignedInUser(signInInfo);\n  };\n\n  //Create a \"loading page\" while determining if the user is signed in\n  if (signedInUser === undefined) return (\n    <div className=\"App\">\n      <div className=\"container-fluid d-flex justify-content-center align-items-center min-vh-100\">\n        <i className=\"spinner fas fa-spinner fa-lg\"></i>\n      </div>\n    </div>\n  );\n\n  //If the user has not signed in, send them to the login page\n  if (!signedInUser) return (\n    <div className=\"App\">\n      <SignInView />\n    </div>\n  );\n\n  return (\n    <div className=\"App\">\n      <Router basename={(process.env.NODE_ENV === \"production\" ? process.env.PUBLIC_URL : null)}>\n        <Switch>\n          <Route path={[\"/dashboard\", \"/\"]} exact>\n            <DashboardView signedInUser={signedInUser} transactions={transactions} accountsData={accountsData} accountData={accountData} budgetsData={budgetsData} budgetCycle={budgetCycle} setFooterNavbar={setFooterNavbar} />\n          </Route>\n          <Route path=\"/budgets\" exact>\n            <BudgetsView transactions={transactions} budgetsData={budgetsData} budgetCycle={budgetCycle} setFooterNavbar={setFooterNavbar} />\n          </Route>\n          <Route path=\"/transactions\" exact>\n            <TransactionsView transactions={transactions} budgetCycle={budgetCycle} transactionsImportDuplicatesModalNewTransactions={transactionsImportDuplicatesModalNewTransactions} transactionsImportDuplicatesModalDuplicates={transactionsImportDuplicatesModalDuplicates} isTransactionsImportDuplicatesModalOpen={isTransactionsImportDuplicatesModalOpen} onTransactionsImportDuplicatesModalClose={closeTransactionsImportDuplicatesModal} onTransactionsImportDuplicatesModalSubmit={onTransactionsImportDuplicatesModalSubmit} onTransactionsImportFormSubmit={onTransactionsImportFormSubmit} onTransactionsImportFormFileInputChange={onTransactionsImportFormFileInputChange} onTransactionDetailModalSubmit={onTransactionDetailModalSubmit} setFooterNavbar={setFooterNavbar} />\n          </Route>\n          <Route path=\"/settings\" exact>\n            <SettingsView setFooterNavbar={setFooterNavbar} />\n          </Route>\n        </Switch>\n        <FooterNavbar active={footerNavbar} />\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}