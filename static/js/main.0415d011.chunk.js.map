{"version":3,"sources":["googleApi/utilities.js","googleApi/gapi.js","googleApi/authentication.js","utilities/transactions.js","utilities/utilities.js","utilities/budgetsData.js","utilities/budgetCycle.js","utilities/errorHandling.js","utilities/date.js","api/transactions.js","api/budgetsData.js","api/accountsData.js","api/accountData.js","hooks/useConsoleLog.js","hooks/useScript.js","hooks/useBudgetCycleTransactions.js","hooks/useBudgetCycleBudgets.js","components/Logo/index.js","components/GoogleApiSignInButton/index.js","components/SignInView/index.js","components/MonthPicker/index.js","components/DashboardBudgetCycleDropdown/index.js","components/DashboardTop/index.js","components/DashboardInsight/index.js","components/DashboardInsights/index.js","components/DashboardShowcase/index.js","components/DashboardView/index.js","components/BudgetGraphStatusIcon/index.js","components/BudgetGraph/index.js","components/BudgetsView/index.js","components/TransactionsImportForm/index.js","components/InputDropdown/index.js","components/TransactionsDataSearchForm/index.js","components/TransactionRowDateSeparator/index.js","components/TransactionRow/index.js","components/TransactionsData/index.js","components/TagBadge/index.js","components/TransactionDetailModalInput/index.js","components/TransactionDetailModal/index.js","components/TransactionDeleteModal/index.js","components/TransactionsImportDuplicatesModalDuplicateCheckbox/index.js","components/TransactionsImportDuplicatesModal/index.js","components/TransactionsImportConfirmedModal/index.js","components/TransactionsImportFormToggle/index.js","components/TransactionsView/index.js","components/SettingsInput/index.js","components/SettingsForm/index.js","components/SettingsView/index.js","components/FooterNavbar/index.js","components/SignInSettingsModal/index.js","components/GoogleApiUserButton/index.js","components/Header/index.js","components/App/index.js","utilities/accountsData.js","utilities/accountData.js","reportWebVitals.js","index.js"],"names":["getHeadersFromJSON","JSON","Array","reduce","headers","transaction","Object","keys","filter","key","includes","getSpreadsheetData","parse","localStorage","getItem","getSpreadsheetId","spreadsheetData","spreadsheetId","setSpreadsheetId","setItem","stringify","setSpreadsheetData","getCredentials","getClientId","creds","clientId","setClientId","credentials","newCreds","convertSheetsArraysToJSON","data","splice","map","line","obj","value","i","convertJSONToSheetsArray","object","header","isArray","join","getDynamicPropertyByArray","startingObject","dotSeparatedProperties","split","property","convertColumnNumberToColumnLetter","columnNumber","columnLettersArray","letter","Math","floor","push","reverse","convertColumnLetterToColumnNumber","columnLetters","number","columnLetter","indexOf","convertArrayToA1Notation","rowsColumnsArray","startingCell","startingColumnLetter","match","startingRow","Number","startingColumnIndex","rows","columns","rowNumber","parseGoogleSheetsNumber","potentialNumber","isNaN","parseGoogleSheetsDate","potentialDate","Date","getTime","callGoogleApiFunction","googleApi","resourceType","method","optionsParam","pageToken","leftoverIds","params","options","part","undefined","id","length","maxResults","Promise","resolve","reject","a","resource","window","gapi","client","response","console","log","result","nextPageToken","items","mine","values","error","getSheetsSpreadsheet","getSheetsSpreadsheetValues","sheetName","range","sheets","find","s","properties","title","gridProperties","rowCount","columnCount","r","updateSheetsSpreadsheetValues","valuesJSON","neededRowCount","neededColumnCount","maxCol","row","max","valueInputOption","includeValuesInResponse","responseValueRenderOption","scopes","discoveryDocs","initAuthorization","loginCallback","logoutCallback","info","CredentialsNotFoundError","Error","name","err","fetchAuthCredentials","loadGoogleApis","throwException","load","initializeGoogleApis","init","scope","then","auth2","getAuthInstance","isSignedIn","listen","updateSigninStatus","get","catch","signInInfo","getProfileInformation","signIn","signOut","profile","currentUser","getBasicProfile","getId","getName","firstName","getGivenName","lastName","getFamilyName","imageUrl","getImageUrl","emailAddress","getEmail","importTransactions","transactionsData","dataType","importDate","transactionDataLine","warn","transactions","newTransactionDataParts","isMatch","convertDateStringToDate","replace","newTransactionDataPart","isNewTransaction","newTransactionData","Description","TransactionDate","Amount","PostedDate","AccountNumber","Type","DescriptionDisplay","Category","Notes","Tags","BudgetCycle","IsAutoCategorized","IsUpdatedByUser","DateCreated","DateModified","getBudgetCycleFromDate","concat","csvData","convertCSVToJSON","flat","_Date","trim","TransactionType","amountRegEx","Charges","Payments","Debit","Credit","amountIsNegative","amount","type","transactionDate","nullCoalesce","isFalsy","entries","getTransactionDefaultDescriptionDisplay","formatTransactionDisplay","getBudgetCycleString","toLocaleDateString","timeZone","toString","convertNumberToCurrency","isTransactionDuplicate","potentialDuplicate","areObjectsEqual","toJSON","isTransactionAutoCategorizedOrUpdatedByUser","getTransactionsAmountTotal","total","arguments","accumulator","toFixed","p0","csv","delimiter","lineObj","forEach","getSumByProp","array","prop","sum","item","b","typeofA","aValues","bValues","aKey","aValue","bKey","bValue","isDescendantOf","element","potentialParent","parentElement","matchValueAgainstValue","matchedValue","escapedMatchedValue","RegExp","getBudgetAmountSpentFromTransactions","budgetName","isCreditCardPaymentTransaction","isIncomeTransaction","check","date","UTC","getUTCFullYear","getUTCMonth","ALL_TRANSACTIONS_BUDGET_CYCLE","string","getBudgetCycleFromBudgetCycleString","budgetCycleString","isAllTransactionsBudgetCycle","monthString","yearString","year","month","getNumberFromMonth","budgetCycle","getMonthFromNumber","getBudgetCycleDescription","todayBudgetCycle","fullYearDifference","monthDifference","abs","yearDifference","getAllBudgetCycles","Set","getBudgetCyclesFromTransactions","sort","epochTime","throwEx","alertWindow","exception","errorMsg","message","description","fileName","lineNumber","stack","exceptionMsg","alert","dateString","dateStringFormat","yearFormatRegEx","monthFormatRegEx","dayFormatRegEx","getDatePartByFormat","datePartFormatRegex","getDatePartCallback","matchAll","matchStartingIndex","index","matchedFormat","matchEndingIndex","substring","yearFormat","monthFormat","convertDateToFullLocaleDateString","getUTCDate","getTransactions","updateTransactions","getBudgetsData","getAccountsData","getAccountData","useConsoleLog","args","useEffect","slice","useScript","src","useState","isLoaded","setIsLoaded","script","document","createElement","async","option","addEventListener","event","body","appendChild","removeChild","isTransactionWithinBudgetCycle","useBudgetCycleTransactions","isPaymentTransaction","isTransferWithCorrespondingNegativeTransfer","transaction2","isIncome","getCurrentBudgetCycleIncomeTransactions","getCurrentBudgetCycleExpenseTransactions","isExpenseTransaction","getBudgetCycleTransactions","currentBudgetCycleTransactions","lastBudgetCycleIncomeTransactions","getLastBudgetCycleIncomeTransactions","currentBudgetCycleIncomeTransactions","currentBudgetCycleExpenseTransactions","budgetCycleTransactionsReturn","income","expenses","this","budgetCycleTransactions","setBudgetCycleTransactions","useBudgetCycleBudgets","budgetsData","getBudgetCycleBudgets","filteredBudgets","budgetCycleBudgets","setBudgetCycleBudgets","Logo","light","scrollIn","onLogoTextScrollIn","isLogoTextScrolledIn","setIsLogoTextScrolledIn","isLoadingAnimationComplete","setIsLoadingAnimationComplete","isLoadingAnimationCompleteTimeout","useRef","textScrollInTimeout","logoText","current","setTimeout","clearTimeout","className","to","ref","GoogleApiSigninButton","isReadyForSignIn","onClick","disabled","SignInView","MonthPicker","initialValue","onChangeProp","onChange","convertYearMonthToMonthDate","onToggle","convertMonthStringToMonthDate","isValidInitialDate","MIN_DATE","setUTCMonth","MAX_DATE","currentDate","startingValue","setValue","selectedYear","setSelectedYear","selectedMonth","setSelectedMonth","isInYearView","setIsInYearView","yearRangeMin","setYearRangeMin","isOpen","setIsOpen","setSelectedYearWrapper","ceil","previousSelectedYear","min","setYearRangeMinWrapper","previousYearRangeMin","isGrayedYear","onArrowClick","increment","target","getAttribute","datePart","newSelection","newValue","setValueWrapper","previousIsOpen","data-increment","fill","el","y","data-datepart","data-year","monthIndex","data-month","DashboardBudgetCycleDropdown","allBudgetCycles","squashed","arrowOnClick","allBudgetCyclesSorted","newBudgetCycle","data-bs-toggle","aria-expanded","epochTimeAttribute","data-budget-cycle","DashboardTop","accountData","accountsData","onBudgetCycleChange","currentBudgetCycleRemaining","t","getLastUpdatedDate","LastUpdated","record","CreditScore","DashboardInsight","insight","insightTypeIconClass","iconClass","text","DashboardInsights","insights","setInsights","all","budgetCycleBudgetsWithSpent","Spent","Name","incomeExpected","budgetData","incomeUnderEarned","previousInsights","budgetsOver","budgetDataWithSpent","personalSpendingBudget","personalSpendingBudgetLeft","overspentBillsWithSpent","budgetWithSpent","overspentBillWithSpent","bill","amountSpent","totalIncome","totalExpenses","remainingBillsToBePaid","leftoverPaidBillsMoney","remainingSavingsToBeSaved","remainingFlexibleSpendingMoney","savingsBudgetData","savingsBudgetLeft","runInsights","DashboardShowcase","budgetCycleStatuses","heading","test","isCurrentBudgetCycle","isPastBudgetCycle","isFutureBudgetCycle","getBudgetCycleStatus","status","budgetCycleStatus","setBudgetCycleStatus","DashboardView","signedInUser","setFooterNavbar","route","useLocation","pathname","BudgetGraphStatusIcon","iconText","iconColor","budget","overBudget","overEarned","BudgetGraph","isExpenseBudget","style","color","backgroundColor","width","left","right","BudgetsView","TransactionsImportForm","onSubmitProp","onSubmit","onFileInputChangeProp","onFileInputChange","scrapedTransactionsData","setScrapedTransactionsData","onTransactionsImportFormFileInputChange","preventDefault","transactionsDataFiles","files","transactionsDataArray","file","fileContent","scrapedTransactionsDataValue","scrapedText","accept","multiple","InputDropdown","props","initialItems","placeholder","tabIndex","inputDropdownInputRef","inputDropdownInputListeners","propName","propValue","matches","acc","filterListItems","searchFilter","setStartingValue","setSearchFilter","filteredListItems","setFilteredListItems","selectedListItem","setSelectedListItem","isInputDropdownOpen","setIsInputDropdownOpen","wasInputDropdownOpen","setWasInputDropdownOpen","inputDropdownListRef","inputDropdownRef","addInputDropdownListItemSelection","getInputDropdownListItemFilteredText","openInputDropdown","previouslyOpen","closeInputDropdown","onInputDropdownListItemMouseDown","innerText","isSelectedListItem","onInputDropdownListItemMouseMove","newSelectedListItem","newFilteredListItems","selectedListItemNode","querySelectorAll","selectedListItemNodeRect","getBoundingClientRect","inputDropdownListViewport","topIsBelowNotAboveViewportTop","top","bottomIsAboveNotBelowViewportBottom","bottom","scroll","scrollTop","checkInputDropdownListSelectionScroll","checkIfClickedOrFocusedOutsideOfDropdown","removeEventListener","inputDropdownInput","closest","onKeyDown","keyCode","newSelectedListItemIndex","upOrDown","wrapAround","onBlur","autoComplete","onInputDropdownInputChange","onFocus","onInputDropdownInputFocus","onMouseLeave","onMouseDown","onMouseMove","dangerouslySetInnerHTML","__html","TransactionsDataSearchForm","transactionProperties","searchFilters","onFilterClickProp","onFilterClick","search","setSearch","activeSearchSuggestion","setActiveSearchSuggestion","transactionsDataSearchFormInput","searchValue","escapedSearch","getUniqueTransactionsPropertiesValues","p","getSearchSuggestions","newSearch","focus","onInputDropdownInputKeyDown","searchKey","TransactionRowDateSeparator","count","TransactionRow","onTransactionEditButtonClickProp","onTransactionEditButtonClick","onTransactionDeleteButtonClickProp","onTransactionDeleteButtonClick","startingX","setStartingX","startingTouch","setstartingTouch","translateX","setTranslateX","stickyX","setStickyX","isBeingDragged","setIsBeingDragged","isFirstDrag","setIsFirstDrag","isScrollingNotDragging","setIsScrollingNotDragging","maxNecessaryDragX","isDragFeatureActive","transactionDisplay","setTransactionDisplay","formattedTransactionDisplay","onTouchMove","touch","touches","dragDistanceX","clientX","dragDistanceY","clientY","potentialNewTranslateX","setStickyXWrapper","transactionRow","onOutsideTouchStart","passive","transform","onTouchStart","onTouchEnd","TransactionsDataRows","currentDateRendered","filteredBudgetCycleTransactions","dateHeaderObject","Count","TransactionsData","filterTransactionsBySearchFilters","filterBudgetCycleTransactions","every","newlyFilteredBudgetCycleTransactions","defineProperty","getOwnPropertyDescriptor","setSearchFilters","setFilteredBudgetCycleTransactions","filteredRemainingTotal","searchObject","previousSearchFilters","removedSearchFilter","newSearchFilters","TagBadge","tag","TransactionDetailModalInput","transactionDetail","onKeyPress","onTagBadgeClick","tagType","onInputDropdownInputKeyPress","TransactionDetailModal","categories","types","buttonsOptions","onClose","setBudgetCycle","setPostedDate","setTransactionDate","setAccountNumber","setAmount","setDescription","setDescriptionDisplay","setCategory","setType","setNotes","setTags","transactionDetails","setState","onTransactionDetailInputKeyPress","transactionDetailInput","classList","contains","Modal","show","onHide","Header","Title","transactionModalForm","formattedTransaction","updatedTransaction","Body","onTransactionDetailInputChange","Footer","TransactionsImportDuplicatesModalDuplicateCheckbox","duplicateData","checked","confirmed","updatedDuplicateData","htmlFor","duplicate","TransactionsImportDuplicatesModal","newTransactions","duplicates","getDuplicatesDataFromDuplicates","duplicatesData","setDuplicatesData","onTransactionsImportDuplicatesModalDuplicateCheckboxChange","oldDuplicateData","newDuplicateData","previousDuplicatesData","newDuplicatesData","data-bs-dismiss","confirmedDuplicates","filteredNewTransactions","newTransaction","TransactionsImportConfirmedModal","longestTransactionDate","longestAmount","longestDescription","transactionDateString","amountString","descriptionString","transactionDateSpaces","amountSpaces","descriptionSpaces","TransactionsImportFormToggle","TransactionsView","transactionsImportDuplicatesModalNewTransactions","transactionsImportDuplicatesModalDuplicates","isTransactionsImportDuplicatesModalOpen","onTransactionsImportDuplicatesModalClose","onTransactionsImportDuplicatesModalSubmit","onTransactionsImportFormSubmitProp","onTransactionsImportFormSubmit","onTransactionsImportFormFileInputChangeProp","onTransactionDetailModalSubmitProp","onTransactionDetailModalSubmit","onTransactionDeleteModalSubmitProp","onTransactionDeleteModalSubmit","transactionsImportConfirmedModalTransactions","isTransactionsImportConfirmedModalOpen","closeTransactionsImportConfirmedModal","onTransactionsImportConfirmedModalSubmit","transactionCategories","transactionTypes","isTransactionImportFormOpen","setIsTransactionImportFormOpen","transactionDetailModalTransaction","setTransactionDetailModalTransaction","isTransactionDetailModalOpen","setIsTransactionDetailModalOpen","transactionDeleteModalTransaction","setTransactionDeleteModalTransaction","isTransactionDeleteModalOpen","setIsTransactionDeleteModalOpen","closeTransactionDetailModal","closeTransactionDeleteModal","wasOpen","deletedTransaction","SettingsInput","setting","setName","SettingsForm","settings","submittedSettings","SettingsView","FooterNavbar","active","footerNavbar","activePath","process","navItems","activeItem","navItem","remove","add","setActiveItem","SignInSettingsModal","role","GoogleApiUserButton","alt","aria-labelledby","App","setTransactions","setBudgetsData","setAccountsData","setAccountData","setTransactionsImportDuplicatesModalNewTransactions","setTransactionsImportDuplicatesModalDuplicates","setIsTransactionsImportDuplicatesModalOpen","setTransactionsImportConfirmedModalTransactions","setIsTransactionsImportConfirmedModalOpen","setSignedInUser","isSignInSettingsModalOpen","setIsSignInSettingsModalOpen","update","setAllBudgetCycles","gapiLoaded","saveSettings","savedSettings","settingName","settingValue","connectToGoogleAPI","onSignInChange","openSignInSettingsModal","setTransactionsHandler","previousTransactions","callback","oldTransaction","transactionsArray","typeCheckedTransactions","typeCheckTransactions","phrase","categorizedTransactionData","toLowerCase","word","toUpperCase","categorizeTransactionByDescription","setTransactionsWrapper","importTransactionsWrapper","openTransactionsImportDuplicatesModal","openTransactionsImportConfirmedModal","checkTransactionsForDuplicates","setBudgetsDataWrapper","newBudgetsData","previousBudgetsData","typeCheckBudgetsData","setAccountsDataWrapper","newAccountsData","previousAccountsData","Balance","typeCheckAccountsData","setAccountDataWrapper","newAccountData","previousAccountData","typeCheckAccountData","closeTransactionsImportDuplicatesModal","basename","path","exact","updateTransactionWrapper","deleteTransactionWrapper","confirmedTransactions","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"m8BACMA,EAAqB,SAAAC,GAEzB,OADKA,aAAgBC,QAAOD,EAAO,CAACA,IAC7BA,EAAKE,QAAO,SAACC,EAASC,GAAV,4BAEZD,GAFY,YAGZE,OAAOC,KAAKF,GAAaG,QAAO,SAAAC,GAAG,OAAGL,EAAQM,SAASD,UAE5D,KAISE,EAAqB,WAChC,OAAOV,KAAKW,MAAMC,aAAaC,QAAQ,sBAO5BC,EAAmB,WAC9B,IAAMC,EAAkBL,IACxB,OAAQK,EAAkBA,EAAgBC,cAAgB,MAG/CC,EAAmB,SAAAD,GAC9B,IAAMD,EAAkBL,KAAwB,GAKhD,OAfgC,SAAAK,GAChC,OAAOH,aAAaM,QAAQ,mBAAoBlB,KAAKmB,UAAUJ,IAcxDK,CAJiB,2BACnBL,GADmB,IAEtBC,oBAKSK,EAAiB,WAC5B,OAAOrB,KAAKW,MAAMC,aAAaC,QAAQ,WAO5BS,EAAc,WACzB,IAAMC,EAAQF,IACd,OAAQE,EAAQA,EAAMC,SAAW,MAGtBC,EAAc,SAAAD,GACzB,IAV4BE,EAUtBH,EAAQF,KAAoB,GAC5BM,EAAQ,2BACTJ,GADS,IAEZC,aAEF,OAf4BE,EAeNC,EAdff,aAAaM,QAAQ,QAASlB,KAAKmB,UAAUO,KAiBzCE,EAA4B,SAACC,GACxC,IAAKA,EAAM,OAAO,KAGlB,IAAMvB,EAAOuB,EAAKC,OAAO,EAAE,GAAG,GAG9B,OAAOD,EAAKE,KAAI,SAAAC,GAAI,OAClBA,EAAK9B,QAAO,SAAC+B,EAAKC,EAAOC,GAAb,mBAAC,eAENF,GAFK,kBAGP3B,EAAK6B,GACM,KAAVD,EACA,KACW,SAAVA,GAAqC,UAAVA,GAA4BA,MAG9D,QAISE,EAA2B,SAACpC,GACvC,IAAKA,EAAM,OAAO,KAElB,IAAMG,EAAUJ,EAAmBC,GAEnC,MAAM,CACJG,GADF,mBAEKH,EAAK+B,KAAI,SAAAM,GAAM,OAChBlC,EAAQ4B,KAAI,SAAAO,GAAM,OACG,OAAnBD,EAAOC,GACP,GACCrC,MAAMsC,QAAQF,EAAOC,IAAWD,EAAOC,GAAQE,KAAK,KAAOH,EAAOC,YAM9DG,EAA4B,SAACC,EAAgBC,GACxD,GAAwC,kBAA3BA,EAAsC,OAAO,KAC1D,IAAIA,EAAwB,OAAOD,EACnC,IAAKC,EAAuBlC,SAAS,KAAM,OAAOiC,EAAeC,GAEjE,IALiF,EAK7EN,EAASK,EALoE,cAM7DC,EAAuBC,MAAM,MANgC,IAMjF,IAAI,EAAJ,qBAAuD,CAAC,IAAhDC,EAA+C,QAChDA,IACLR,EAASA,EAAOQ,KAR+D,8BAUjF,OAAOR,GAGIS,EAAoC,SAAAC,GAC/C,IACMC,EAAqB,GAK3B,IAFAD,IAEKA,GAAgB,EAAEA,EAAcA,EANd,GAM2C,EAAG,CACnE,IACME,EAAS,6BADDC,KAAKC,MAAMJ,EAPJ,KASrBC,EAAmBI,KAAKH,GAI1B,OAAOD,EAAmBK,UAAUb,KAAK,KAG9Bc,EAAoC,SAAAC,GAW/C,OARqB,YAAIA,GAAerD,QAAO,SAACsD,EAAOC,EAAatB,GAIlE,OAAOqB,GAHO,6BAA6BE,QAAQD,GAG3B,GAAP,SANI,GAMyBtB,KAC7C,IAMQwB,EAA2B,SAACC,GAAuC,IAArBC,EAAoB,uDAAP,KAChEC,EAAuBD,EAAaE,MAAM,aAAa,GACvDC,EAAcC,OAAOJ,EAAaE,MAAM,QAAQ,IAChDG,EAAsBZ,EAAkCQ,GAE9D,cAAwBF,EAAxB,GAAOO,EAAP,KAAaC,EAAb,KACMX,EAAeX,EAAkCoB,EAAoBE,EAAQ,GAC7EC,EAAYL,EAAYG,EAAK,EACnC,MAAM,GAAN,OAAUN,EAAV,YAA0BJ,GAA1B,OAAyCY,IAG9BC,EAA0B,SAAApC,GACrC,IAAMqC,EAAkBN,OAAO/B,GAC/B,OAAQA,IAAUsC,MAAMD,GAAmBA,EAAkB,MAGlDE,EAAwB,SAAAzE,GACnC,IAAM0E,EAAgB,IAAIC,KAAK3E,GAC/B,OAAQA,IAASwE,MAAME,EAAcE,WAAaF,EAAgB,MC1JvDG,EAAwB,SAAxBA,EAAyBC,EAAWC,EAAcC,EAAQC,EAAcC,GAEnF,IAAIC,EAAc,KAEdC,EAAS,GACTC,EAAUJ,EAgBd,MAbkB,YAAdH,IACFO,EAAO,2BACFJ,GADE,IAELK,KAAM,CACJ,UACA,iBACA,kBAQWC,IAAfF,EAAQG,IACS,OAAfH,EAAQG,IACc,IAAtBH,EAAQG,GAAGC,QAKA,SAAXT,IAEFK,EAAQK,WAAa,GAGjBR,IAAWG,EAAQH,UAAYA,GAK/BG,EAAQG,IAAMH,EAAQG,cAAcvF,OAASoF,EAAQG,GAAGC,OAAS,KACnEN,EAAcE,EAAQG,GAAG1D,OArCH,GAqC6BuD,EAAQG,GAAGC,UAK9DJ,EAAQD,SACVA,EAAUC,EAAQD,kBAAkBnF,MAAQoF,EAAQD,OAAS,CAACC,EAAQD,eAC/DC,EAAQD,QAIV,IAAIO,QAAJ,uCAAY,WAAOC,EAAQC,GAAf,iBAAAC,EAAA,sEAGTC,EAAWtD,EAA0BuD,OAAOC,KAAKC,OAAOpB,GAAYC,GAH3D,SAMQgB,EAASf,GAAT,MAAAe,EAAQ,CAASV,GAAT,mBAAqBD,KANrC,UAMTe,EANS,OAOfC,QAAQC,IAAIF,GAGG,SAAXnB,EAVW,qBAYTmB,EAASG,OAAOC,cAZP,6BAY6BX,EAZ7B,yBAYyCO,EAASG,OAAOE,OAZzD,mBAYyE3B,EAAsBC,EAAWC,EAAcC,EAAQK,EAASc,EAASG,OAAOC,eAZzJ,mIAgBTpB,EAhBS,6BAgBWS,EAhBX,yBAgBuBO,EAASG,OAAOE,OAhBvC,oBAgBuD3B,EAAsBC,EAAWC,EAAcC,EAA1B,YAAC,eAAqCK,GAAtC,IAA+CG,GAAIL,KAhB/H,2IAqBRE,EAAQG,IAAQH,EAAQG,cAAcvF,SAA6B,aAAjB8E,IAAgD,IAAjBM,EAAQoB,MArBjF,0CAqBwGb,EAAQO,EAASG,OAAOE,MAAM,KArBtI,iCAwBNZ,EAAQ,YAAIO,EAASG,OAAOE,SAxBtB,WA2BM,wBAAjBzB,GAAqD,QAAXC,EA3B/B,0CA6BNY,EAAQhE,EAA0BuE,EAASG,OAAOI,UA7B5C,WAiCA,WAAX1B,GAAkC,WAAXA,EAjCZ,0CAiCwCY,EAAQO,EAASG,SAjCzD,iCAoCRV,EAAQO,IApCA,4DAuCRN,EAAO,MAAYS,OAAOK,QAvClB,0DAAZ,0DAzBE,MAsEEC,EAAoB,uCAAG,sBAAAd,EAAA,+EAC3BjB,EAAsB,SAAU,eAAgB,MAAO,CAAC7D,cAAeF,OAD5C,2CAAH,qDAIpB+F,EAA0B,uCAAG,WAAOC,EAAWC,GAAlB,mBAAAjB,EAAA,sEACDc,IADC,uBACuBN,OAAOU,OAAOC,MAAK,SAAAC,GAAC,OAAEA,EAAEC,WAAWC,QAAUN,KAAWK,WAAWE,eAA3HC,EADiC,EACjCA,SAAUC,EADuB,EACvBA,YACZR,IAAOA,EAAQpD,EAAyB,CAAC2D,EAAUC,KACnC,kBAAVR,IAAoBA,EAAQ,CAACA,IACxCA,EAAQA,EAAMhF,KAAI,SAAAyF,GAAC,iBAAMV,EAAN,aAAoBC,MAJC,kBAMjClC,EAAsB,SAAU,sBAAuB,MAAO,CAAC7D,cAAeF,IAAoBiG,WANjE,2CAAH,wDAS1BU,EAA6B,uCAAG,WAAOX,EAAWY,EAAYX,GAA9B,mBAAAjB,EAAA,6DACrCY,EAAStE,EAAyBsF,GAClCC,EAAiBjB,EAAOjB,OACxBmC,EAAoBlB,EAAOxG,QAAO,SAAC2H,EAAOC,GAAR,OAAuB5E,KAAK6E,IAAIF,EAAOC,EAAIrC,UAAS,GACvFsB,IAAOA,EAAQpD,EAAyB,CAACgE,EAAgBC,KACzC,kBAAVb,IAAoBA,EAAQ,CAACA,IACxCA,EAAQA,EAAMhF,KAAI,SAAAyF,GAAC,iBAAMV,EAAN,aAAoBC,MANI,kBAQpClC,EAAsB,SAAU,sBAAuB,SAAU,CACpE7D,cAAeF,IACfiG,QACAiB,iBAAkB,eAClBC,yBAAyB,EACzBC,0BAA2B,kBAC3BnC,SAAU,CACRW,OAAQA,MAf6B,2CAAH,0DC7GpCyB,EAAS,CAGb,gDAEIC,EAAgB,CAAC,4DAsBVC,EAAoB,SAACC,EAAeC,GAC/C,IAEE,IAAMhH,EAtBmB,WAC3B6E,QAAQoC,KAAK,yCAEb,IAEE,IAAMjH,EAAQvB,KAAKW,MAAMC,aAAaC,QAAQ,UAC9C,GAAIU,GAASA,EAAMC,SAAU,OAAOD,EAGpC,IAAMkH,EAA2B,IAAIC,MAAM,4CAE3C,MADAD,EAAyBE,KAAO,2BAC1BF,EAER,MAAOG,GACL,MAAMA,GAQQC,GAKd,OAFAC,EAAevH,EAAO+G,EAAeC,GAE9BhH,EAET,MAAOqH,GACL,OAAOG,GAAeH,KAIpBE,EAAiB,SAACvH,EAAO+G,EAAeC,GAC5C,IACEnC,QAAQoC,KAAK,2CACbxC,OAAOC,KAAK+C,KAAK,gBAAgB,WAAKC,EAAqB1H,EAAO+G,EAAeC,MAEnF,MAAOK,GACL,OAAOG,GAAeH,KAKpBK,EAAoB,uCAAG,WAAO1H,EAAO+G,EAAeC,GAA7B,eAAAzC,EAAA,sDAC3BM,QAAQoC,KAAK,wCACbpC,QAAQoC,KAAK,qCACNhH,EAAYD,EAAZC,SAGPwE,OAAOC,KAAKC,OAAOgD,KAAK,CACtB1H,SAAUA,EACV2H,MAAOhB,EAAO3F,KAAK,KACnB4F,cAAeA,IAEhBgB,MAAK,WACJhD,QAAQoC,KAAK,kCAGbxC,OAAOC,KAAKoD,MAAMC,kBAAkBC,WAAWC,QAC7C,SAAAD,GAAU,OAAIE,EAAmBF,EAAYjB,EAAeC,MAI9DkB,EAAmBzD,OAAOC,KAAKoD,MAAMC,kBAAkBC,WAAWG,MAAOpB,EAAeC,MAEzFoB,OAAM,SAAAf,GACL,OAAOG,GAAeH,MAvBG,2CAAH,0DA4BpBa,EAAqB,SAACF,EAAYjB,EAAeC,GAErD,GADAnC,QAAQoC,KAAK,8BACTe,EAAY,CAMd,IAAMK,EAAaC,IAGfvB,GAAeA,EAAcsB,QAO7BrB,GAAgBA,EAAe,MAErCnC,QAAQoC,KAAK,4BAGFsB,EAAM,uCAAG,sBAAAhE,EAAA,+EAEZE,OAAOC,KAAKoD,MAAMC,kBAAkBQ,SAFxB,+EAKXf,GAAe,EAAD,IAAM,GAAO,IALhB,wDAAH,qDASNgB,EAAO,uCAAG,sBAAAjE,EAAA,+EAEbE,OAAOC,KAAKoD,MAAMC,kBAAkBS,UAFvB,+EAKZhB,GAAe,EAAD,IAAM,GAAO,IALf,wDAAH,qDASdc,EAAwB,WAC5BzD,QAAQoC,KAAK,2BACb,IAAMwB,EAAUhE,OAAOC,KAAKoD,MAAMC,kBAAkBW,YAAYP,MAAMQ,kBACtE,OAAKF,EACE,CACLxE,GAAIwE,EAAQG,QACZxB,KAAMqB,EAAQI,UACdC,UAAWL,EAAQM,eACnBC,SAAUP,EAAQQ,gBAClBC,SAAUT,EAAQU,cAClBC,aAAcX,EAAQY,YAPH,MCjGVC,EAAqB,SAASC,EAAkBC,GAC3D,IAEE,IAAMC,EAAa,IAAIrG,KAGvB,MAAiB,YAAboG,EACKD,EAEJlI,MAAM,kBAENrC,QAAO,SAAA0K,GACN,SACGA,GACDA,EAAoBlH,MAAM,qEAC1BkH,EAAoBlH,MAAM,+BAC1BkH,EAAoBlH,MAAM,0BAE1BqC,QAAQ8E,KAAR,8CAAoDD,KAC7C,MAKV/K,QAAO,SAACiL,EAAcF,EAAqB9I,GAG1C,IAAMiJ,EAA0B,CAC9B,CACEzC,KAAM,cACN0C,QAASJ,EAAoBlH,MAAM,QACnC7B,MAAQ+I,EAAoBlH,MAAM,QAAUkH,EAAoBlH,MAAM,QAAQ,GAAK,MAErF,CACE4E,KAAM,kBACN0C,QAASJ,EAAoBlH,MAAM,yBACnC7B,MAAQ+I,EAAoBlH,MAAM,yBAA2BuH,GAAwBL,EAAoBlH,MAAM,yBAAyB,GAAI,cAAgB,MAE9J,CACE4E,KAAM,SACN0C,QAASJ,EAAoBlH,MAAM,yBACnC7B,MAAQ+I,EAAoBlH,MAAM,yBAA2BE,OAAO,GAAD,OAAIgH,EAAoBlH,MAAM,yBAAyB,IAAvD,OAA4DkH,EAAoBlH,MAAM,yBAAyB,GAAGwH,QAAQ,IAAI,MAAS,OAMxMC,EAAyBJ,EAAwBjJ,EAAEiJ,EAAwB3F,QAI3EgG,EAAmBtJ,EAAEiJ,EAAwB3F,SAAS,EAI5D,IAAI+F,EAAuBH,QAEzB,OADAjF,QAAQ8E,KAAR,8CAAoDD,IAC7CE,EAKT,IAAMO,EAAkB,aACtBC,YAAa,KACbC,gBAAiB,KACjBC,OAAQ,MACPL,EAAuB7C,KAAO6C,EAAuBtJ,OAKlD9B,EACHqL,EAED,CACEK,WAAY,KACZF,gBAAiBF,EAAmBE,gBACpCG,cAAe,KACfC,KAAM,KACNL,YAAaD,EAAmBC,YAChCM,mBAAoB,KACpBJ,OAAQH,EAAmBG,OAC3BK,SAAU,KACVC,MAAO,KACPC,KAAM,GACNC,YAAa,KACbC,mBAAmB,EACnBC,iBAAiB,EACjBC,YAAaxB,EACbyB,aAAczB,GAhBhBG,EAAaA,EAAa1F,OAAO,GAyBnC,MAHoC,oBAAhC+F,EAAuB7C,OAA4BvI,EAAYiM,YAAcK,GAAuBhB,EAAmBE,kBAGvHH,EAAyBN,EAAawB,OAAOvM,IAIjDA,EAAYoL,EAAuB7C,MAAQ6C,EAAuBtJ,MAC3DiJ,KACN,IAEF9H,WAMY,QAAb0H,IAAoBD,EAAmBA,EAAiB/I,KAAI,SAAA6K,GAAO,OAAEC,GAAiBD,MAAUE,QAG7FhC,EAAiB/I,KAAI,SAAA3B,GAC1B,IAAM2M,EAAS3M,EAAYuE,KAAOvE,EAAYuE,KAAKqI,OAAS,KACtDlB,EAAc1L,EAAY0L,WAAa1L,EAAY0L,WAAWkB,OAAS,KACvEpB,EAAmBxL,EAAYwL,gBAAkBxL,EAAYwL,gBAAgBoB,OAAS,KACtFjB,EAAiB3L,EAAY,YAAcA,EAAY,YAAY4M,OAAS,KAC5EC,EAAmB7M,EAAY,oBAAsBA,EAAY,oBAAoB4M,OAAS,KAC9FrB,EAAevL,EAAYuL,YAAcvL,EAAYuL,YAAYqB,OAAS,KAC1EnB,EAAUzL,EAAYyL,OAASzL,EAAYyL,OAAOmB,OAAS,KAO3DE,GANW9M,EAAY+M,SAAU/M,EAAY+M,QAAQH,OACzC5M,EAAYgN,UAAWhN,EAAYgN,SAASJ,OAC/C5M,EAAYiN,OAAQjN,EAAYiN,MAAML,OACrC5M,EAAYkN,QAASlN,EAAYkN,OAAON,OAGpCnB,EAAO9H,MAAM,uCAC3BwJ,EAAmBL,EAAY,IAAMA,EAAY,GACnDM,EAASvJ,OAAOsJ,EAAgB,WAAOL,EAAY,IAAOA,EAAY,IAEtEO,EAAOR,IAKRM,GAA6B,UAATE,GACrBF,GAA6B,WAATE,KAGpBD,IAAW,EACXC,EAAe,UAAPA,EAAiB,UAAoB,WAAPA,EAAkB,WAAa,MAGvE,IAAMC,EAAkBpC,GAAwBqC,EAAa/B,EAAiBmB,GAAQ,cACtF,GAAIa,EAAQH,IAASG,EAAQF,GAE3B,MADAtH,QAAQO,MAAMvG,GACR,IAAIsI,MAAJ,yCAA4CrI,OAAOwN,QAAQzN,GAAa2B,KAAI,mCAAEvB,EAAF,KAAM0B,EAAN,qBAAkB1B,EAAlB,YAAyB0B,MAASM,KAAK,QAI3H,MAAO,CACLsJ,WAAaA,EAAaR,GAAwBQ,EAAY,cAAgB,KAC9EF,gBAAiB8B,EACjB3B,cAAgBA,EAAa,WAAOA,GAAkB,KACtDC,KAAMyB,EACN9B,cACAM,mBAAoB,KACpBJ,OAAQ2B,EACRtB,SAAU,KACVC,MAAO,KACPC,KAAM,GACNC,YAAaK,GAAuBgB,GACpCpB,mBAAmB,EACnBC,iBAAiB,EACjBC,YAAaxB,EACbyB,aAAczB,OAIpB,MAAOpC,GACL,MAAMA,IAqPGkF,EAA0C,SAAS1N,GAC9D,OAAOuN,EAAavN,EAAY6L,mBAAb,WAAqC7L,EAAYuL,eAAkB,IAG3EoC,EAA2B,SAAS3N,GAC/C,OAAO,2BACFA,GADL,IAEEiM,YAAcjM,EAAYiM,YAAc2B,GAAqB5N,EAAYiM,aAAe,GACxFP,WAAa1L,EAAY0L,WAAa,IAAInH,KAAKvE,EAAY0L,YAAYmC,mBAAmB,QAAS,CAACC,SAAU,QAAQC,WAAa,GACnIvC,gBAAkBxL,EAAYwL,gBAAkB,IAAIjH,KAAKvE,EAAYwL,iBAAiBqC,mBAAmB,QAAS,CAACC,SAAU,QAAQC,WAAa,GAClJpC,cAAe3L,EAAY2L,eAAiB,GAC5CC,KAAM5L,EAAY4L,MAAQ,GAC1BL,YAAavL,EAAYuL,aAAe,GACxCM,mBAAoB7L,EAAY6L,oBAAsB,GACtDJ,OAAQuC,EAAwBhO,EAAYyL,SAAW,GACvDK,SAAU9L,EAAY8L,UAAY,GAClCC,MAAO/L,EAAY+L,OAAS,MAInBkC,EAAyB,SAACC,EAAoBnD,GACzD,OAAOA,EAAalE,MAAK,SAAA7G,GAAW,OAClCmO,GAAgB,CACd3C,gBAAiBxL,EAAYwL,gBAAgB4C,SAC7C7C,YAAavL,EAAYuL,YACzBE,OAAQzL,EAAYyL,QACnB,CACDD,gBAAiB0C,EAAmB1C,gBAAgB4C,SACpD7C,YAAa2C,EAAmB3C,YAChCE,OAAQyC,EAAmBzC,aAapB4C,EAA8C,SAAArO,GACzD,OAAyC,IAAlCA,EAAYkM,oBAA8D,IAAhClM,EAAYmM,iBAGlDmC,EAA6B,SAAAvD,GACxC,OAAOA,EAAajL,QAAO,SAACyO,EAAOvO,GAAR,OAAsBuO,EAAOvO,EAAYyL,SAAQ,IC/ejE+B,EAAU,SAAS1L,GAC9B,OAAiB,IAAVA,KAAiBA,GAAkB,GAATA,IAGtByL,EAAe,SAASzL,GACnC,GAAG0L,EAAQgB,WAAY,MAAM,IAAIlG,MAAM,wCACvC,OAAO,2BAAIkG,WAAW1O,QAAO,SAAC2O,EAAa3M,GAAd,OAAqC0L,EAAQiB,KAAiBjB,EAAQ1L,GAASA,EAAQ2M,IAAc,OAGvHT,EAA0B,SAASlM,GAC9C,OAAIsC,MAAMtC,GAAe,KAClB+B,OAAO/B,GACX4M,QAAQ,GACRX,WACA5C,QAAQ,UAAU,SAACwD,GAAD,OAAMA,EAAGnM,MAAM,IAAIS,UAAUb,KAAK,IAAI+I,QAAQ,iBAAkB,OAAO3I,MAAM,IAAIS,UAAUb,KAAK,OAClH+I,QAAQ,OAAQ,SAGRsB,GAAmB,SAASmC,GAAuB,IAAlBC,EAAiB,uDAAL,IAElDrC,EAAUoC,EAEbpM,MAAM,kBAENb,KAAI,SAAAC,GAAI,OAAIA,EAAcA,EAAKY,MAAMqM,GAAlB,QAEnB1O,QAAO,SAAAyB,GAAI,OAAEA,KAGV7B,EAAUyM,EAAQ9K,OAAO,EAAE,GAAG,GAG9BG,EAAM2K,EAAQ7K,KAAI,SAAAC,GACtB,IAAMkN,EAAU,GAIhB,OAHAlN,EAAKmN,SAAQ,SAACjN,EAAOC,GACnB+M,EAAQ/O,EAAQgC,IAAMD,KAEjBgN,KAGT,OAAOjN,GAGImN,GAAe,SAACC,EAAOC,GAUlC,OARKrP,MAAMsC,QAAQ8M,KAKjBA,EAAQ,CAACA,IAGJpL,OAAOoL,EAAMnP,QAAO,SAACqP,EAAKC,GAE/B,MAAoB,kBAATA,GACJvL,OAAOO,MAAMgL,EAAKF,IAIpBrL,OAAOO,MAAMgL,QAAlB,EAAgCD,EAAKC,EAJGD,EAAKC,EAAKF,KAKjD,KAAO,MAGCf,GAAkB,SAAlBA,EAAmBzI,EAAE2J,GAYhC,GAAU,OAAN3J,EACF,OAAU,OAAN2J,EAON,IAAMC,SAAiB5J,EAEvB,GAAI4J,WADmBD,EACE,OAAO,EAGhC,GAAgB,WAAZC,EAAsB,CACxB,IAAMC,EAAUtP,OAAOwN,QAAQ/H,GACzB8J,EAAUvP,OAAOwN,QAAQ4B,GAG/B,GAAGE,EAAQlK,SAAWmK,EAAQnK,OAAQ,OAAO,EAE7C,IAAI,IAAItD,EAAI,EAAGA,EAAIwN,EAAQlK,OAAQtD,IAAK,CACtC,kBAAuBwN,EAAQxN,GAA/B,GAAO0N,EAAP,KAAaC,EAAb,KACA,cAAuBF,EAAQzN,GAA/B,GAAO4N,EAAP,KAAaC,EAAb,KACA,GAAGH,IAASE,EAAM,OAAO,EACzB,IAAKxB,EAAgBuB,EAAQE,GAAS,OAAO,EAI/C,OAAO,EAIT,OAAOlK,IAAM2J,GAGFQ,GAAiB,SAAjBA,EAAkBC,EAASC,GACtC,OACED,EAAQE,eACRD,GACAD,EAAQE,gBAAkBD,EACnBF,EAAeC,EAAQE,cAAeD,GAEf,MAAzBD,EAAQE,eACM,MAAnBD,GACAD,EAAQE,gBAAkBD,GAGjBE,GAAyB,SAACnO,EAAOoO,GAEvCpO,IAAOA,EAAQ,IAChBA,aAAiByC,OAAMzC,EAAQA,EAAMsM,UACpChK,MAAMtC,KAAQA,EAAQA,EAAMiM,YAE5BmC,IAAcA,EAAe,IAC9BA,aAAwB3L,OAAM2L,EAAeA,EAAa9B,UACzDhK,MAAM8L,KAAeA,EAAeA,EAAanC,YAGtD,IAAMoC,EAAsBD,EAAa/E,QAAQ,2BAA4B,QAE7E,OAAOrJ,EAAM6B,MAAM,IAAIyM,OAAJ,WAAeD,EAAf,KAAuC,OC7H/CE,GAAuC,SAACC,EAAYvF,GAS/D,OAAOiE,GAAajE,EAAa5K,QAAO,SAAAH,GAAW,OARrC,SAAAA,GACZ,MAEiB,kBAAfsQ,EACA,CAACA,EAAY,MAAMjQ,SAASL,EAAY8L,YAbA,SAAA9L,GAC5C,OAAOA,EAAYuL,YAAY5H,MAAM,mCAYqB4M,CAA+BvQ,KATxD,SAAAA,GACjC,OAAOA,EAAYuL,YAAY5H,MAAM,+DAQqE6M,CAAoBxQ,GAC1HA,EAAY8L,WAAawE,EAGwBG,CAAMzQ,MAAe,WClB/DsM,GAAyB,SAAAoE,GACpC,OAAO,IAAInM,KAAKA,KAAKoM,IAAID,EAAKE,iBAAkBF,EAAKG,iBAGjDC,GAAgC,CACpCC,OAAQ,mBACRL,KAAMpE,GAAuB,IAAI/H,KAAK,UAG3ByM,GAAsC,SAAAC,GACjD,GAAIC,GAA6BD,GAAoB,OAAOH,GAA8BJ,KAE1F,MAA2CO,EAAkBtN,MAAM,iBAAnE,mBAAgBwN,GAAhB,WAA6BC,EAA7B,KACMC,EAAOxN,OAAOuN,GACdE,EAAQC,GAAmBJ,GAEjC,OAAO,IAAI5M,KAAKA,KAAKoM,IAAIU,EAAMC,KAGpB1D,GAAuB,SAAA4D,GAElC,OAAIN,GAA6BM,GAAqBV,GAA8BC,OAE9E,GAAN,OAAUU,GAAmBD,EAAYX,eAAzC,YAA2DW,EAAYZ,mBAG5Dc,GAA4B,SAACF,GAA8C,IAAjCG,EAAgC,uDAAd,IAAIpN,KAE3E,GAAI2M,GAA6BM,GAAc,OAAO,KAEtD,IAAMI,EAAqBD,EAAiBf,iBAAmBY,EAAYZ,iBACrEiB,EAAsC,GAAnBD,GAA0BD,EAAiBd,cAAgBW,EAAYX,eAChG,GAAIgB,IAAoB,GAAI,MAAM,GAAN,OAAU/O,KAAKgP,IAAIhP,KAAKC,MAAM8O,EAAgB,KAA9C,gBAAqG,IAA3C/O,KAAKgP,IAAIhP,KAAKC,MAAM8O,EAAgB,KAAS,GAAG,IAA1G,UAC5B,GAAIA,GAAmB,EAAG,MAAM,GAAN,OAAU/O,KAAKgP,IAAIhP,KAAKC,MAAM8O,IAA9B,iBAAgG,IAAxC/O,KAAKgP,IAAIhP,KAAKC,MAAM8O,IAAsB,GAAG,IAArG,UAC1B,IAAyB,IAArBA,EAAwB,MAAO,aACnC,GAAwB,IAApBA,EAAuB,MAAO,UAClC,GAAwB,IAApBA,EAAuB,MAAO,aAClC,GAAIA,EAAkB,GAAI,MAAM,GAAN,OAAUA,EAAV,iBAAoD,IAAlBA,EAAoB,GAAG,IAAzD,QAC1B,IAAME,EAAiBjP,KAAKC,MAAM8O,EAAgB,IAClD,MAAM,GAAN,OAAUE,EAAV,gBAAiD,IAAjBA,EAAmB,GAAG,IAAtD,SAGWC,GAAqB,SAAAjH,GAChC,IAAKA,EAAa1F,OAAQ,MAAO,GAEjC,IAAMsM,EAAmBrF,GAAuB,IAAI/H,MAEpD,OAAO,YACF,IAAI0N,IAAI,CACTnB,GAA8BJ,KAC9BiB,GAFS,mBHgbgC,SAAA5G,GAC7C,OAAO,YACF,IAAIkH,IACLlH,EAAapJ,KAAI,gBAAEsK,EAAF,EAAEA,YAAF,OAAiBK,GAAuBL,QAE3DtK,KAAI,SAAA+O,GAAI,OAAE,IAAInM,KAAKmM,MGlbdwB,CAAgCnH,KACnCpJ,KAAI,SAAA+O,GAAI,OAAEA,EAAKlM,eAEhB2N,MAAK,SAACzM,EAAE2J,GAAH,OAAOA,EAAE3J,KACd/D,KAAI,SAAAyQ,GAAS,OAAE,IAAI7N,KAAK6N,OAGhBlB,GAA+B,SAAAM,GAC1C,MAA2B,kBAAhBA,EAAiCA,IAAgBV,GAA8BC,OAEhFS,aAAuBjN,KAAeiN,EAAYhN,YAAcsM,GAA8BJ,KAAKlM,UAApE,MC/D9BmE,GAAiB,SAACH,GAAuC,IAAlC6J,IAAiC,yDAAnBC,IAAmB,yDAE/DC,EAAY,GACZC,EAAW,KAGXhK,aAAeF,OACjBkK,EAAWhK,EAAIiK,QAEfF,EAAUhK,KAAOC,EAAID,MACG,IAApBC,EAAIkK,aAAqBlK,EAAIkK,eAAaH,EAAUG,YAAclK,EAAIkK,cACvD,IAAflK,EAAIpF,QAAgBoF,EAAIpF,UAAQmP,EAAUnP,OAASoF,EAAIpF,SACtC,IAAjBoF,EAAImK,UAAkBnK,EAAImK,YAAUJ,EAAUI,SAAWnK,EAAImK,WAC1C,IAAnBnK,EAAIoK,YAAoBpK,EAAIoK,cAAYL,EAAUK,WAAapK,EAAIoK,aAC9C,IAArBpK,EAAI7F,cAAsB6F,EAAI7F,gBAAc4P,EAAU5P,aAAe6F,EAAI7F,eAC3D,IAAd6F,EAAIqK,OAAerK,EAAIqK,SAAON,EAAUM,MAAQrK,EAAIqK,QAElC,kBAARrK,GACVA,EAAIiK,UACND,EAAWhK,EAAIiK,eACRjK,EAAIiK,SAEbF,EAAS,2BACJA,GACA/J,IAGiB,kBAARA,IACdgK,EAAWhK,GAIbxC,QAAQO,MAAM,mBAAoBiC,GAGlC,IAAMsK,EAAY,UAAMN,EAAN,eAAqBvS,OAAOwN,QAAQ8E,GAAWlN,OAASpF,OAAOwN,QAAQ8E,GAAW5Q,KAAI,mCAAEvB,EAAF,KAAO0B,EAAP,yBAAuB1B,EAAvB,aAA+B0B,EAA/B,WAA4CM,KAAK,IAAM,GAA7I,+BAKlB,GAHIkQ,GAAa1M,OAAOmN,MAAMD,GAG1BT,EAAS,MAAM7J,GCxCRiJ,GAAqB,SAAArO,GAChC,OAAe,IAAXA,EAAqB,UACV,IAAXA,EAAqB,WACV,IAAXA,EAAqB,QACV,IAAXA,EAAqB,QACV,IAAXA,EAAqB,MACV,IAAXA,EAAqB,OACV,IAAXA,EAAqB,OACV,IAAXA,EAAqB,SACV,IAAXA,EAAqB,YACV,IAAXA,EAAqB,UACV,KAAXA,EAAsB,WACX,KAAXA,EAAsB,WACnB,MAGImO,GAAqB,SAAAD,GAChC,MAAc,YAAVA,EAA4B,EAClB,aAAVA,EAA6B,EACnB,UAAVA,EAA0B,EAChB,UAAVA,EAA0B,EAChB,QAAVA,EAAwB,EACd,SAAVA,EAAyB,EACf,SAAVA,EAAyB,EACf,WAAVA,EAA2B,EACjB,cAAVA,EAA8B,EACpB,YAAVA,EAA4B,EAClB,aAAVA,EAA6B,GACnB,aAAVA,EAA6B,GAC1B,MAGIpG,GAA0B,SAAC8H,EAAYC,GAElD,IAIMC,EAAkB,IAAI9C,OAAJ,WAJL,IAIK,UAAmC,KACrD+C,EAAmB,IAAI/C,OAAJ,WAJL,IAIK,UAAoC,KACvDgD,EAAiB,IAAIhD,OAAJ,WAJL,IAIK,UAAkC,KAEnDiD,EAAsB,SAACL,EAAYC,EAAkBK,EAAqBC,GAE9E,IAAMtI,EAAO,YAAOgI,EAAiBO,SAASF,IAG9C,IAAKrI,GAAWA,EAAQ5F,OAAS,EAAG,MAAM,IAAIiD,MAAJ,yBAA4B2K,EAA5B,4BAAgEK,EAAoBvF,WAApF,YAAmG9C,EAAUA,EAAQ5F,OAAS,EAA9H,gBAAyI4F,EAAU,IAAM,GAAzJ,MAE1C,IAAMwI,EAAqBxI,EAAQ,GAAGyI,MAChCC,EAAgB1I,EAAQ,GAAG,GAC3B2I,EAAmBD,EAActO,OAASoO,EAIhD,OAAOF,EAHeP,EAAWa,UAAUJ,EAAoBG,GAGrBD,IA+E5C,OAAO,IAAIpP,KACTA,KAAKoM,IACH0C,EAAoBL,EAAYC,EAAkBC,GA9E9B,SAAC9B,EAAY0C,GACnC,OAAIjQ,OAAOO,MAAMgN,GAAoB,KAElB,OAAf0C,EAA4BjQ,QAAQ,IAAIU,MAAQqM,iBAAiB7C,WAAW8F,UAAU,EAAE,GAAGzC,GAC5E,SAAf0C,EAA8BjQ,OAAOuN,GAElC,QAyELiC,EAAoBL,EAAYC,EAAkBE,GAtExB,SAAChC,EAAa4C,GAC1C,GAAoB,MAAhBA,EAAqB,CACvB,GAAoB,MAAhB5C,EAAqB,OAAO,EAChC,GAAoB,MAAhBA,EAAqB,OAAO,EAChC,GAAoB,MAAhBA,EAAqB,OAAO,EAChC,GAAoB,MAAhBA,EAAqB,OAAO,EAChC,GAAoB,MAAhBA,EAAqB,OAAO,EAChC,GAAoB,MAAhBA,EAAqB,OAAO,EAChC,GAAoB,MAAhBA,EAAqB,OAAO,EAChC,GAAoB,MAAhBA,EAAqB,OAAO,EAChC,GAAoB,MAAhBA,EAAqB,OAAO,EAChC,GAAoB,OAAhBA,EAAsB,OAAO,EACjC,GAAoB,OAAhBA,EAAsB,OAAO,GACjC,GAAoB,OAAhBA,EAAsB,OAAO,GAEnC,GAAoB,OAAhB4C,EAAsB,CACxB,GAAoB,OAAhB5C,EAAsB,OAAO,EACjC,GAAoB,OAAhBA,EAAsB,OAAO,EACjC,GAAoB,OAAhBA,EAAsB,OAAO,EACjC,GAAoB,OAAhBA,EAAsB,OAAO,EACjC,GAAoB,OAAhBA,EAAsB,OAAO,EACjC,GAAoB,OAAhBA,EAAsB,OAAO,EACjC,GAAoB,OAAhBA,EAAsB,OAAO,EACjC,GAAoB,OAAhBA,EAAsB,OAAO,EACjC,GAAoB,OAAhBA,EAAsB,OAAO,EACjC,GAAoB,OAAhBA,EAAsB,OAAO,EACjC,GAAoB,OAAhBA,EAAsB,OAAO,GACjC,GAAoB,OAAhBA,EAAsB,OAAO,GAEnC,GAAoB,QAAhB4C,EAAuB,CACzB,GAAoB,QAAhB5C,EAAuB,OAAO,EAClC,GAAoB,QAAhBA,EAAuB,OAAO,EAClC,GAAoB,QAAhBA,EAAuB,OAAO,EAClC,GAAoB,QAAhBA,EAAuB,OAAO,EAClC,GAAoB,QAAhBA,EAAuB,OAAO,EAClC,GAAoB,QAAhBA,EAAuB,OAAO,EAClC,GAAoB,QAAhBA,EAAuB,OAAO,EAClC,GAAoB,QAAhBA,EAAuB,OAAO,EAClC,GAAoB,QAAhBA,EAAuB,OAAO,EAClC,GAAoB,QAAhBA,EAAuB,OAAO,EAClC,GAAoB,QAAhBA,EAAuB,OAAO,GAClC,GAAoB,QAAhBA,EAAuB,OAAO,GAEpC,GAAoB,SAAhB4C,EAAwB,CAC1B,GAAoB,YAAhB5C,EAA2B,OAAO,EACtC,GAAoB,aAAhBA,EAA4B,OAAO,EACvC,GAAoB,UAAhBA,EAAyB,OAAO,EACpC,GAAoB,UAAhBA,EAAyB,OAAO,EACpC,GAAoB,QAAhBA,EAAuB,OAAO,EAClC,GAAoB,SAAhBA,EAAwB,OAAO,EACnC,GAAoB,SAAhBA,EAAwB,OAAO,EACnC,GAAoB,WAAhBA,EAA0B,OAAO,EACrC,GAAoB,cAAhBA,EAA6B,OAAO,EACxC,GAAoB,YAAhBA,EAA2B,OAAO,EACtC,GAAoB,aAAhBA,EAA4B,OAAO,GACvC,GAAoB,aAAhBA,EAA4B,OAAO,GAGzC,OAAO,QAaLkC,EAAoBL,EAAYC,EAAkBG,GAV/B,SAACjC,EAAa4C,GACnC,OAAIlQ,OAAOO,MAAM+M,IAAgBtN,OAAOsN,GAAe,GAAKtN,OAAOsN,GAAe,GAAW,KAEtFtN,OAAOsN,SAYL6C,GAAoC,SAAAtD,GAC/C,MAAM,GAAN,OAAUe,GAAmBf,EAAKG,eAAlC,YAAoDH,EAAKuD,aAAzD,aAA0EvD,EAAKE,mBC7IpEsD,GAAe,uCAAG,sBAAAxO,EAAA,+EAEde,EAA2B,qBAFb,+EAK3BkC,GAAe,EAAD,IAAM,GALO,kBAMpB,IANoB,yDAAH,qDAUfwL,GAAkB,uCAAG,WAAMpJ,GAAN,SAAArF,EAAA,+EAEjB2B,EAA8B,oBAAqB0D,GAFlC,+EAK9BpC,GAAe,EAAD,IAAM,GALU,kBAMvB,IANuB,yDAAH,sDCVlByL,GAAc,uCAAG,sBAAA1O,EAAA,+EAEbe,EAA2B,gBAFd,+EAK1BkC,GAAe,EAAD,IAAM,GALM,kBAMnB,IANmB,yDAAH,qDCAd0L,GAAe,uCAAG,sBAAA3O,EAAA,+EAEde,EAA2B,iBAFb,+EAK3BkC,GAAe,EAAD,IAAM,GALO,kBAMpB,IANoB,yDAAH,qDCAf2L,GAAc,uCAAG,sBAAA5O,EAAA,+EAEbe,EAA2B,gBAFd,+EAK1BkC,GAAe,EAAD,IAAM,GALM,kBAMnB,IANmB,yDAAH,qDCGZ4L,GAJO,SAACtS,GAAmB,IAAD,uBAAPuS,EAAO,iCAAPA,EAAO,kBACvC,OAAOC,qBAAU,wBAAI,EAAAzO,SAAQC,IAAR,SAAYuO,EAAK,GAAIvS,GAArB,mBAAgCuS,EAAKE,MAAM,QAAK,CAACzS,EAAQuS,KCiDjEG,GAlDG,SAACC,EAAK/P,GACtB,MAAgCgQ,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KA8CA,OA5CAN,qBAAU,WACR,IAAIlP,SAAQ,SAACC,EAASC,GAEpB,IAKMuP,EAASC,SAASC,cAAc,UAGhCjQ,EAAO,2BARU,CACrBkQ,OAAO,IASJtQ,GAIL5E,OAAOwN,QAAQxI,GAAS8J,SAAQ,mCAAEqG,EAAF,KAAUtT,EAAV,YAAmBkT,EAAOI,GAAUtT,KAGpEkT,EAAOJ,IAAMA,EAiBb,OALAI,EAAOK,iBAAiB,QAVT,SAAAC,GAEb,OADAP,GAAY,GACLvP,EAAQ8P,MASjBN,EAAOK,iBAAiB,SANR,SAAAC,GACd,OAAO7P,EAAO6P,MAOhBL,SAASM,KAAKC,YAAYR,GAEnB,WACLC,SAASM,KAAKE,YAAYT,GAC1BD,GAAY,SAGf,CAACH,EAAK/P,IAEFiQ,GC7CHY,GAAiC,SAAC1V,EAAawR,GACnD,OAAOlF,GAAuBtM,EAAYiM,aAAejM,EAAYwL,iBAAiBhH,YAAcgN,EAAYhN,WA2HnGmR,GAxHoB,SAAC5K,EAAcyG,GAEhD,IAAMoE,EAAuB,SAAA5V,GAC3B,MACuB,YAArBA,EAAY4L,MACZ5L,EAAYuL,YAAY5H,MAAM,qIAC9B3D,EAAYuL,YAAY5H,MAAM,uCAI5BkS,EAA8C,SAAA7V,GAElD,MACE,CAAC,WAAY,WAAWK,SAASL,EAAY4L,OAC7Cb,EAAalE,MAAK,SAAAiP,GAAY,OAC5B9V,EAAYwL,gBAAgBhH,YAAYsR,EAAatK,gBAAgBhH,WACrExE,EAAYyL,UAAUqK,EAAarK,SACQ,kBAAnCzL,EAAY6L,oBAAmC7L,EAAY6L,mBAAmBlI,MAAM,aAAa,OAASmS,EAAanK,eAAiBmK,EAAanK,cAAchI,MAAM,aAAa,MACxJ,kBAA9B3D,EAAY2L,eAA8B3L,EAAY2L,cAAchI,MAAM,aAAa,OAASmS,EAAajK,oBAAsBiK,EAAajK,mBAAmBlI,MAAM,aAAa,QAK9LoS,EAAW,SAAA/V,GACf,MAAO,CAAC,gBAAiB,gBAAgBK,SAASL,EAAY8L,WAkB1DkK,EAA0C,SAAAjL,GAE9C,OAAKA,EAAa1F,OAEX0F,EAAa5K,QAAO,SAAAH,GAAW,OAAG+V,EAAS/V,IAnBxB,SAAAA,GAC1B,OAAOA,EAAYyL,QAAU,IAAMmK,EAAqB5V,GAkBUwQ,CAAoBxQ,MAFrD,IAK7BiW,EAA2C,SAAAlL,GAE/C,OAAKA,EAAa1F,OAEX0F,EAAa5K,QAAO,SAAAH,GAAW,OAAG,CAAC,gBAAiB,gBAAgBK,SAASL,EAAY8L,WAtBrE,SAAA9L,GAC3B,OAAOA,EAAYyL,OAAS,IAAMmK,EAAqB5V,GAqBsDkW,CAAqBlW,MAFjG,IAK7BmW,EAA6B,SAACpL,EAAcyG,GAGhD,IAAM4E,EAEJlF,GAA6BM,GAC7BzG,EAAa5K,QAAO,SAAAH,GAAW,OAE5B6V,EAA4C7V,MAE/C+K,EAAa5K,QAAO,SAAAH,GAAW,OAE7B0V,GAA+B1V,EAAawR,KAG3CqE,EAA4C7V,MAIjDgG,QAAQC,IACN,2EACA8E,EAAa5K,QAAO,SAAAH,GAAW,OAC7B0V,GAA+B1V,EAAawR,MAGrB,YAArBxR,EAAY4L,OAEdiK,EAA4C7V,OAKhD,IAAMqW,EArDqC,SAAAtL,GAE3C,OAAKA,EAAa1F,OAEX0F,EAAa5K,QAAO,SAAAH,GAAW,OAAE+V,EAAS/V,MAFhB,GAmDSsW,CAAqCF,GAGzEG,EAAuCP,EAAwCI,GAG/EI,EAAwCP,EAAyCG,GAEjFK,EAAgC,CACpCC,OAAO,GAAD,mBAAML,GAAN,YAA4CE,IAClDI,SAAUH,EACV,UAAW,MAAO,sBAAII,KAAKF,QAAT,YAAoBE,KAAKD,WAAUjK,SAKvD,OAFA1G,QAAQC,IAAI,0BAA2BwQ,GAEhCA,GAIT,EAA8D5B,mBAASsB,EAA2BpL,EAAcyG,IAAhH,mBAAOqF,EAAP,KAAgCC,EAAhC,KASA,OALArC,qBAAU,kBACRqC,EAA2BX,EAA2BpL,EAAcyG,MACpE,CAACzG,EAAcyG,IAGVqF,GCpGME,GArBe,SAACC,EAAaxF,GAE1C,IAAMyF,EAAwB,SAACD,EAAaxF,GAC1C,IAAM0F,EAAkBF,EAAY7W,QAAO,SAAAkP,GAAC,OAAEA,EAAEpD,YAAYzH,YAAcgN,EAAYhN,aAEtF,OADAwB,QAAQC,IAAI,qBAAsBiR,GAC3BA,GAIT,EAAoDrC,mBAASoC,EAAsBD,EAAaxF,IAAhG,mBAAO2F,EAAP,KAA2BC,EAA3B,KASA,OALA3C,qBAAU,kBACR2C,EAAsBH,EAAsBD,EAAaxF,MACzD,CAACwF,EAAaxF,IAGT2F,G,gBCqBME,GAtCF,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,MAAOC,EAAiC,EAAjCA,SAAUC,EAAuB,EAAvBA,mBAE/B,EAAwD3C,oBAAsB,IAAb0C,QAA4BpS,GAA7F,mBAAOsS,EAAP,KAA6BC,EAA7B,KACA,EAAoE7C,oBAAsB,IAAb0C,IAAqB,GAAlG,mBAAOI,EAAP,KAAmCC,EAAnC,KAEIC,EAAoCC,iBAAO,MAC3CC,EAAsBD,iBAAO,MAC3BE,EAAWF,iBAAO,MAuBxB,OApBArD,qBAAU,YAC6B,IAA/BkD,GACFH,GAAoBA,MACvB,CAACG,IAGJlD,qBAAU,WACR,IAAmB,IAAb8C,EAON,OANAM,EAAkCI,QAAUrS,OAAOsS,YAAW,kBAAIN,GAA8B,KAAO,KACvGG,EAAoBE,QAAUrS,OAAOsS,YAAW,WACzCF,EAASC,SACdP,GAAwB,KACvB,KAEI,WACL9R,OAAOuS,aAAaN,EAAkCI,SACtDrS,OAAOuS,aAAaJ,EAAoBE,YAEzC,CAACV,EAAUS,EAASC,UAGrB,gBAAC,IAAD,CAAMG,UAAS,gEAAiEjT,IAAVmS,EAAsB,aAAe,IAAOe,GAAG,IAArH,UACE,oBAAGD,UAAS,iEAAkEjT,IAAVmS,EAAsB,GAAK,eAAnF,WACZ,qBAAIc,UAAS,yCAA2D,IAAvBX,EAA+B,UAAmC,IAAvBA,EAA8B,cAAgB,IAAQa,IAAKN,EAAvJ,sBC5BSO,I,MANe,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,iBAC/B,OACE,yBAAQJ,UAAU,kBAAkB/K,KAAK,SAASoL,QAAS/O,EAAQgP,UAAWF,EAA9E,mCCUWG,I,MAXI,SAAC,GAAwB,IAAtBH,EAAqB,EAArBA,iBACpB,OACE,sBAAKJ,UAAU,mCAAf,SACE,uBAAKA,UAAU,qGAAf,UACE,eAAC,GAAD,IACA,eAAC,GAAD,CAAuBI,iBAAkBA,WC2LlCI,I,YAxLK,SAAC,GAAsE,IAejEvH,EAfEwH,EAA8D,EAApE/W,MAA6BgX,EAAuC,EAAhDC,SAElCC,GAFkF,EAAzBC,SAE3B,SAAC5H,EAAMC,GACzC,OAAOhF,GAAuB,IAAI/H,KAAK8M,EAAMC,MAGzC4H,EAAgC,SAAAxI,GACpC,OAAOpE,GAAuBoE,IAG1ByI,EAAqBN,aAAwBtU,OAASH,MAAMyU,EAAarU,WAEzE4U,EAAWF,EAA8B,IAAI3U,KAAK,IAAIA,MAAM,QAAkB8U,YAAY,IAAI9U,MAAM,QAAkBsM,cAAc,KACpIyI,EAAWJ,EAA8B,IAAI3U,KAAK,SAMlDgV,EAAc,IAAIhV,KAClBiV,EAAiBL,EAAqBN,EAAeU,EAE3D,EAA0B1E,mBAASmE,EAA4BQ,IAA/D,mBAAO1X,EAAP,KAAc2X,EAAd,KACA,EAAwC5E,mBAAS2E,EAAc5I,kBAA/D,mBAAO8I,EAAP,KAAqBC,EAArB,KACA,EAA0C9E,mBAAS2E,EAAc3I,eAAjE,mBAAO+I,EAAP,KAAsBC,EAAtB,KACA,EAAwChF,oBAAS,GAAjD,mBAAOiF,EAAP,KAAqBC,EAArB,KACA,EAAwClF,oBAXhBxD,EAWyCqI,EAVpC,GAApB5W,KAAKC,MAAMsO,EAAK,MAUzB,mBAAO2I,EAAP,KAAqBC,EAArB,KAEA,EAA4BpF,oBAAS,GAArC,mBAAOqF,EAAP,KAAeC,EAAf,KAyBMC,GAvBYtX,KAAKC,MAAM2W,EAAa,IAC1B5W,KAAKuX,KAAKX,EAAa,IAsBR,SAAA5X,GAC7B6X,GAAgB,SAAAW,GAEd,MADoB,oBAAVxY,IAAsBA,EAAQA,EAAMwY,IACvCxX,KAAK6E,IAAI7E,KAAKyX,IAAIzY,EAAOwX,EAAS1I,kBAAmBwI,EAASxI,uBAInE4J,EAAyB,SAAA1Y,GAC7BmY,GAAgB,SAAAQ,GAEd,MADoB,oBAAV3Y,IAAsBA,EAAQA,EAAM2Y,IACvC3X,KAAK6E,IAAI7E,KAAKyX,IAAIzY,EAAOwX,EAAS1I,kBAAmBwI,EAASxI,sBAInE8J,EAAe,SAAAhB,GACnB,OAAOA,IAAiBM,EAAa,GAAKN,IAAiBM,EAAa,IAKpEW,EAAe,SAAArF,GACnB,IAAKwE,EAAc,CACjB,IAAMc,EAAY/W,OAAOyR,EAAMuF,OAAOC,aAAa,mBACnD,GAAI1W,MAAMwW,GAAY,OACtB,OAAOR,GAAuB,SAAAE,GAAoB,OAAEA,EAAqBM,KAG3E,IAAMA,EAAY/W,OAAOyR,EAAMuF,OAAOC,aAAa,mBACnD,IAAI1W,MAAMwW,GACV,OAAOJ,GAAuB,SAAAC,GAAoB,OAAEA,EAAgC,GAAVG,MAYtE7B,EAAW,SAAAzD,GACf,IAAMyF,EAAWzF,EAAMuF,OAAOC,aAAa,iBAI3C,IAAK,CAAC,OAAO,SAASza,SAAS0a,GAAW,OAAOZ,GAAU,GAG3D,IAAMa,EAAenX,OAAOyR,EAAMuF,OAAOC,aAAb,eAAkCC,KAG9D,IAAKjB,EAAc,CAEjBD,EAAiBmB,GAGjBb,GAAU,GAGV,IAAMc,EAAWjC,EAAyC,SAAb+B,EAAsBC,EAAetB,EAA2B,UAAbqB,EAAuBC,EAAepB,GAMtI,OALAH,EAASwB,QAINnC,GAAcA,EAAamC,IAOhC,GAAIP,EAAaM,GAEf,OAAOR,EAAmD,GAA5B1X,KAAKC,MAAMiY,EAAa,KAGxDZ,EAAuBY,GACvBjB,GAAgB,IAclB,OAPAtF,qBAAU,WACJoE,KA1FkB,SAAA/W,GACf2X,EAAS,IAAIlV,KAAKzB,KAAK6E,IAAI7E,KAAKyX,IAAIzY,EAAOwX,GAAWF,KA0F7D8B,CAAgBrC,GAChBc,EAAgBd,EAAajI,kBAC7BiJ,EAAiBhB,EAAahI,kBAC7B,CAACgI,IAGF,uBAAKT,UAAU,yBAAf,UACE,yBAAQA,UAAU,sBAAsB/K,KAAK,SAA7C,SACE,oBAAG+K,UAAS,uCAAkC8B,EAAS,oBAAsB,oBAAsBzB,QA1DxF,SAAAnD,GACf6E,GAAU,SAAAgB,GAAc,OAAGA,UA6DtBjB,EAED,uBAAK9B,UAAU,eAAf,UACE,uBAAKA,UAAU,sBAAf,UACE,iDAAQA,UAAU,4BAA4B/K,KAAK,SAAS+N,iBAAe,MAAU1B,GAAgBN,EAASxI,kBAAoB,CAAC8H,UAAU,IAA7I,IAAqJD,QAASkC,EAA9J,SAA4K,oBAAGvC,UAAU,2BACzL,iDAAQA,UAAU,2BAA2B/K,KAAK,WAAeyM,GAAgB,CAACrB,QAxEhE,SAAAnD,GAE1ByE,GAAgB,MAsER,aAAoHD,EAAD,UAA6CE,EAAajM,WAA1D,aAAyEiM,EAAa,GAAGjM,YAAzE2L,EAAa3L,cAChJ,iDAAQqK,UAAU,4BAA4B/K,KAAK,SAAS+N,iBAAe,KAAS1B,GAAgBJ,EAAS1I,kBAAoB,CAAC8H,UAAU,IAA5I,IAAoJD,QAASkC,EAA7J,SAA2K,oBAAGvC,UAAU,+BAGvL0B,EASC,sBAAK1B,UAAU,wBAAf,SACGvY,MAAM,IAAIwb,OAAO1Z,KAAI,SAAC2Z,EAAGvZ,GACtB,IAAMwZ,EAAIvB,EAAa,EAAEjY,EACzB,OAAO,sBAAaqW,UAAS,yCAAoCmD,IAAM7B,EAAe,YAAc,IAAvE,OAA4EgB,EAAaa,GAAK,UAAY,IAAMC,gBAAc,OAAOC,YAAWF,EAAG9C,QAASM,EAAlL,SAA6LwC,GAAnLxZ,QAVvB,sBAAKqW,UAAU,yBAAf,SAlIG,CACb,CAAC7P,KAAM,UAAWmT,WAAY,GAC9B,CAACnT,KAAM,WAAYmT,WAAY,GAC/B,CAACnT,KAAM,QAASmT,WAAY,GAC5B,CAACnT,KAAM,QAASmT,WAAY,GAC5B,CAACnT,KAAM,MAAOmT,WAAY,GAC1B,CAACnT,KAAM,OAAQmT,WAAY,GAC3B,CAACnT,KAAM,OAAQmT,WAAY,GAC3B,CAACnT,KAAM,SAAUmT,WAAY,GAC7B,CAACnT,KAAM,YAAamT,WAAY,GAChC,CAACnT,KAAM,UAAWmT,WAAY,GAC9B,CAACnT,KAAM,WAAYmT,WAAY,IAC/B,CAACnT,KAAM,WAAYmT,WAAY,KAuHX/Z,KAAI,gBAAE4G,EAAF,EAAEA,KAAMmT,EAAR,EAAQA,WAAR,OACV,sBAAsBtD,UAAS,2CAAsCsD,IAAe5Z,EAAM+O,eAAiB6I,IAAiB5X,EAAM8O,iBAAmB,YAAc,IAAM4K,gBAAc,QAAQG,aAAYD,EAAYjD,QAASM,EAAhO,SAA2OxQ,GAAjOmT,WAZpB,UCrFOE,I,MA3EsB,SAAC,GAAkF,EAAhF7Q,aAAiF,IAAnEyG,EAAkE,EAAlEA,YAAaqK,EAAqD,EAArDA,gBAA0B/C,EAA2B,EAApCC,SAAuB+C,EAAa,EAAbA,SASnGC,EAAe,SAAAnB,GACnB,IAAMoB,EAAwB,YAAIH,GAAiB1J,MAAK,SAACzM,EAAE2J,GAAH,OAAQ3J,EAAElB,YAAc6K,EAAE7K,UAAY,EAAKkB,EAAElB,UAAY6K,EAAE7K,WAAa,EAAI,KACpIwB,QAAQC,IAAI,UAAW+V,GACvBhW,QAAQC,IAAI,UAAWuL,EAAawK,EAAsB1Y,QAAQkO,GAAcoJ,GAChF,IAAMqB,EAAiBD,GAAuBA,EAAsB1Y,QAAQ0Y,EAAsBnV,MAAK,SAAAwI,GAAC,OAAEA,EAAE7K,YAAcgN,EAAYhN,cAAYoW,EAAUoB,EAAsB3W,QAAQ2W,EAAsB3W,QAChNW,QAAQC,IAAI,UAAWgW,GACvBnD,EAAamD,IAef,OACE,uBAAK7D,UAAS,mCAA8B0D,EAAW,WAAa,IAApE,UACE,yBAAQ1D,UAAU,qEAAqE/K,KAAK,SAASoL,QAV5E,WAC3B,OAAOsD,GAAc,IASnB,SACE,oBAAG3D,UAAU,0BAEf,uBAAKA,UAAU,8CAAf,UACE,0BAAQhT,GAAG,yBAAyBgT,UAAU,sEAAsE/K,KAAK,SAAS6O,iBAAe,WAAWC,gBAAc,QAA1K,UACE,yBAAQ/D,UAAU,yCAAlB,SACGxK,GAAqB4D,KAExB,qBAAI4G,UAAU,wDAAd,SACG1G,GAA0BF,GAA1B,YAA8CE,GAA0BF,GAAxE,KAA0F,QAG/F,eAAC,GAAD,CAAa1P,MAAO0P,EAAauH,SAlBX,SAAAjX,GAC1BgX,EAAahX,MAkBT,qBAAIsW,UAAU,gCAAgCK,QA5CpC,SAAAnD,GACd,IAAM8G,EAAqB9G,EAAMuF,OAAOC,aAAa,qBACrD,GAAKsB,IAAsBhY,MAAMgY,GAAjC,CACA,IAAMhK,EAAYvO,OAAOuY,GACnB5K,EAAclF,GAAuB,IAAI/H,KAAK6N,IACpD0G,EAAatH,KAuCT,SACGqK,EAAgBla,KAAI,SAAA6P,GAAW,OAC9B,uCACE,8BACE,qBAAG4G,UAAU,gBAAgBiE,oBAAmB7K,EAAYhN,UAA5D,UACGoJ,GAAqB4D,GACtB,qBAAI4G,UAAU,aAAd,SACC1G,GAA0BF,GAA1B,YAA8CE,GAA0BF,GAAxE,KAA0F,SAJtFA,EAAYhN,WASnB0M,GAA6BM,IAE3B,8BACE,qBAAI4G,UAAU,kCAQ5B,yBAAQA,UAAU,sEAAsE/K,KAAK,SAASoL,QAlD7E,WAC3B,OAAOsD,EAAa,IAiDlB,SACE,oBAAG3D,UAAU,gCChCNkE,I,MApCM,SAAC,GAAkG,IAAhGvR,EAA+F,EAA/FA,aAA4BwR,GAAmE,EAAjFC,aAAiF,EAAnED,aAAa/K,EAAsD,EAAtDA,YAAaqK,EAAyC,EAAzCA,gBAAiBY,EAAwB,EAAxBA,oBACvF5F,EAA0BlB,GAA2B5K,EAAcyG,GAInEkL,GAF2B7F,EAAwBH,OAAOrR,QAAUwR,EAAwBH,OAAO5W,QAAO,SAACyO,EAAOoO,GAAR,OAAYpO,EAAOoO,EAAElR,SAAQ,KAC1GoL,EAAwBF,SAAStR,QAAUwR,EAAwBF,SAAS7W,QAAO,SAACyO,EAAOoO,GAAR,OAAYpO,EAAOoO,EAAElR,SAAQ,IAG7ImR,EAAqB,SAAA7R,GACzB,OAAKA,EAAa1F,OAEX,IAAId,KAAKzB,KAAK6E,IAAL,MAAA7E,KAAI,YAAQiI,EAAapJ,KAAI,SAAAgb,GAAC,MAAE,CAACA,EAAEvQ,YAAY5H,UAAWmY,EAAEtQ,aAAa7H,cAAYkI,UAFpE,MAKnC,OACE,uBAAK0L,UAAU,gBAAf,UACE,uBAAKA,UAAU,uDAAf,UACE,uBAAKA,UAAU,2CAAf,8BAEE,uBAAMA,UAAU,oCAAhB,SAAqDwE,EAAmB7R,GAAgB6R,EAAmB7R,GAAc8C,qBAAqD,UAEhL,uBAAKuK,UAAU,MAAf,UACE,uBAAKA,UAAU,uGAAf,6BAEE,uBAAMA,UAAU,2BAAhB,SAA4CsE,EAA8B1O,EAAwB0O,GAA+B,UAEnI,uBAAKtE,UAAU,iFAAf,0BAEE,uBAAMA,UAAU,yBAAhB,SAA2CmE,EAAYlX,OAASkX,EAAYpK,MAAK,SAACzM,EAAE2J,GAAH,OAAO3J,EAAEmX,YAAYxN,EAAEwN,eAAgC1c,QAAO,SAAA2c,GAAM,OAAEA,EAAOC,eAAa,GAAGA,YAA0C,gBAI9N,eAAC,GAAD,CAA8BhS,aAAcA,EAAcyG,YAAaA,EAAaqK,gBAAiBA,EAAiB9C,SAAU0D,SCPvHO,I,MA7BU,SAAC,GAAe,IAAD,EAAZC,EAAY,EAAZA,QACtBC,EAAuBD,EAAQC,qBAgBnC,OAfKA,IACkB,YAAjBD,EAAQ5P,KACV6P,EAAuB,2BAEC,YAAjBD,EAAQ5P,KACf6P,EAAuB,4BAEC,YAAjBD,EAAQ5P,KACf6P,EAAuB,oCAEC,WAAjBD,EAAQ5P,OACf6P,EAAuB,8BAKzB,uBAAK9E,UAAS,wCAAmC6E,EAAQ5P,MAAzD,UACE,iCACE,oBAAG+K,UAAS,oBAAK6E,EAAQE,iBAAb,QAA0B,mBAA1B,WACZ,qBAAI/E,UAAU,iBAAd,SAAgC6E,EAAQjW,WAE1C,oBAAGoR,UAAS,UAAK8E,EAAL,WACZ,gCAAOD,EAAQG,YCkJNC,I,MArKW,SAAC,GAA+D,EAA7D7L,YAA8D,IAAjDqF,EAAgD,EAAhDA,wBAAyBM,EAAuB,EAAvBA,mBACjE,EAAgCtC,mBAAS,IAAzC,mBAAOyI,EAAP,KAAiBC,EAAjB,KA0JA,OAJA9I,qBAAU,YApJU,WAClB,GAAKoC,EAAwB2G,IAAInY,QAAW8R,EAAmB9R,OAA/D,CAGAkY,EAAY,IAGZ,IAAME,EAA8BtG,EAAmBxV,KAAI,SAAA0N,GAAC,kCACvDA,GADuD,IAE1DqO,MAAOrN,GAAqChB,EAAEsO,KAAM9G,EAAwB2G,MAAQ,OAIhFI,EAAiBzG,EAAmBtQ,MAAK,SAAAgX,GAAU,MAAoB,kBAAlBA,EAAWF,QAAwBlS,OAGxFqS,GAAqD,GAF1B3G,EAAmBhX,QAAO,SAAA0d,GAAU,MAAoB,WAAlBA,EAAWjS,QACpC9L,QAAO,SAACyO,EAAMc,GAAP,OAAWd,EAAO8B,GAAqChB,EAAEsO,KAAM9G,EAAwB2G,OAAM,GACxGI,GAC1C,GAAIE,EAAoB,EAAG,CACzB,IAAMb,EAAU,CACd5P,KAAM,SACN8P,UAAW,mBACXnW,MAAO,WACPoW,KAAK,yBAAD,OAA2BpP,EAAwB8P,GAAnD,qBAENP,GAAY,SAAAQ,GAAgB,4BAAMA,GAAN,CAAwBd,OAItD,IAAMe,EAAcP,EAA4Btd,QAAO,SAAA8d,GAAmB,OAAG,CAAC,SAAS,WAAW5d,SAAS4d,EAAoBrS,OAAwC,IAA/BqS,EAAoBxS,QAAgBwS,EAAoBP,MAAQO,EAAoBxS,UAC5N,GAAIuS,EAAY3Y,OAAQ,CACtB,IAAM4X,EAAU,CACd5P,KAAM,SACN8P,UAAW,mBACXnW,MAAO,WACPoW,KAAK,wBAAD,OAA0BY,EAAY3Y,OAAtC,cAENkY,GAAY,SAAAQ,GAAgB,4BAAMA,GAAN,CAAwBd,OAItB9F,EAAmBhX,QAAO,SAAA0d,GAAU,MAAE,CAAC,oBAAqB,UAAW,SAASxd,SAASwd,EAAWF,SAC5G5O,SAAQ,SAAAmP,GAC9B,IAAMC,EAA6B9N,GAAqC6N,EAAuBP,KAAM9G,EAAwB2G,KAAOU,EAAuBzS,OAC3J,GAAI0S,EAA6B,EAAG,CAClC,IAAMlB,EAAU,CACd5P,KAAM,UACN8P,UAAW,mBACXnW,MAAO,WACPoW,KAAK,YAAD,OAAcpP,EAAwBmQ,GAAtC,0BAAmFD,EAAuBP,KAA1G,OAENJ,GAAY,SAAAQ,GAAgB,4BAAMA,GAAN,CAAwBd,WAKxD,IAAMmB,EAA0BX,EAA4Btd,QAAO,SAAAke,GAAe,MAA2B,SAAzBA,EAAgBzS,MAAmByS,EAAgBX,MAAQW,EAAgB5S,UAC3J2S,EAAwB/Y,QAC1B+Y,EAAwBrP,SAAQ,SAAAuP,GAC9B,IAAMrB,EAAU,CACd5P,KAAM,SACN8P,UAAW,qBACXnW,MAAO,cACPoW,KAAK,qBAAD,OAAuBkB,EAAuBX,KAA9C,eAAyD3P,EAAwBlL,KAAKgP,IAAIwM,EAAuBZ,OAAO5a,KAAKgP,IAAIwM,EAAuB7S,SAAxJ,MAENzF,QAAQC,IAAIqY,GACZf,GAAY,SAAAQ,GAAgB,4BAAMA,GAAN,CAAwBd,UAK1C9F,EAAmBhX,QAAO,SAAA0d,GAAU,MAAoB,SAAlBA,EAAWxQ,QACzD0B,SAAQ,SAAAwP,GACZ,IAAMC,EAAcnO,GAAqCkO,EAAKhW,KAAMsO,EAAwB2G,KAC5F,GAAKgB,GACD1b,KAAKgP,IAAI0M,GAAe1b,KAAKgP,IAAIyM,EAAKnR,QAAS,CACjD,IAAM6P,EAAU,CACd5P,KAAM,UACN8P,UAAW,mBACXnW,MAAO,SACPoW,KAAK,SAAD,OAAWmB,EAAKhW,KAAhB,yBAAqCyF,EAAwBlL,KAAKgP,IAAI0M,GAAa1b,KAAKgP,IAAIyM,EAAKnR,SAAjG,MAENmQ,GAAY,SAAAQ,GAAgB,4BAAMA,GAAN,CAAwBd,WAKxD,IAAMwB,EAAczP,GAAa6H,EAAwBH,OAAQ,UAC3DgI,EAAgB1P,GAAa6H,EAAwBF,SAAU,UAC/DgI,GAQF,EANFlB,EAECtd,QAAO,SAAAkP,GAAC,MAAW,SAATA,EAAEzD,MAA2B,IAAVyD,EAAEqO,SAE/B5d,QAAO,SAACyO,EAAMc,GAAP,OAAWd,GAA4B,GAAnBc,EAAE5D,OAAO4D,EAAEqO,SAAY,GAG/CkB,EAEJnB,EAECtd,QAAO,SAAAkP,GAAC,MAAW,SAATA,EAAEzD,MAA2B,IAAVyD,EAAEqO,SAE/B5d,QAAO,SAACyO,EAAMc,GAAP,OAAWd,GAA4B,GAAnBc,EAAE5D,OAAO4D,EAAEqO,SAAY,GAC/CmB,GAQF,EANFpB,EAECtd,QAAO,SAAAkP,GAAC,MAAW,YAATA,EAAEzD,QAEZ9L,QAAO,SAACyO,EAAMc,GAAP,OAAWd,GAA4B,GAAnBc,EAAE5D,OAAO4D,EAAEqO,SAAY,GAG/CoB,EAAiCL,EAAcC,EAAgBE,EAAyBD,EAAyBE,EAEvH,GADA7Y,QAAQC,IAAI6Y,EAAgCL,EAAaC,EAAeE,EAAwBD,EAAwBE,GACpHC,EAAiC,EAAG,CACtC,IAAM7B,EAAU,CACd5P,KAAM,UACN8P,UAAW,oBACXnW,MAAO,aACPoW,KAAK,YAAD,OAAcpP,EAAwB8Q,GAAtC,kCAENvB,GAAY,SAAAQ,GAAgB,4BAAMA,GAAN,CAAwBd,WAEjD,CACH,IAAMA,EAAU,CACd5P,KAAM,UACN8P,UAAW,oBACXnW,MAAO,aACPoW,KAAK,WAAD,OAAapP,EAAwB8Q,GAArC,0CAENvB,GAAY,SAAAQ,GAAgB,4BAAMA,GAAN,CAAwBd,OAItD,IAAM8B,EAAoB5H,EAAmBtQ,MAAK,SAAAgX,GAAU,MAAoB,YAAlBA,EAAWF,QACnEqB,EAAoB3O,GAAqC,UAAWwG,EAAwB2G,KAAOuB,EAAkBtT,OAC3H,GAAIuT,EAAoB,EAAG,CACzB,IAAM/B,EAAU,CACd5P,KAAM,UACN8P,UAAW,mBACXnW,MAAO,WACPoW,KAAK,YAAD,OAAcpP,EAAwBgR,GAAtC,iCAENzB,GAAY,SAAAQ,GAAgB,4BAAMA,GAAN,CAAwBd,SAKtDgC,KACC,CAACpI,EAAyBM,IAG3B,uBAAKiB,UAAU,oCAAf,UACE,qBAAIA,UAAU,mBAAd,sBACCkF,EAAS3b,KAAI,SAACsb,EAAQlb,GAAT,OACZ,eAAC,GAAD,CAA0Bkb,QAASA,GAAZlb,WCqDhBmd,I,MArNW,SAAC,GAAgE,IAA9D1N,EAA6D,EAA7DA,YAAaqF,EAAgD,EAAhDA,wBAAyBM,EAAuB,EAAvBA,mBAE3DgI,EAAsB,CAC1B,CACEC,QAAS,2BACT1M,YAAa,yCACb2M,KAAM,SAAC7N,EAAaqF,EAAyBM,GAC3C,IAAMmI,EAAuB9N,EAAYhN,YAAc8H,GAAuB,IAAI/H,MAAQC,UACpFia,EAAczP,GAAa6H,EAAwBH,OAAQ,UAC3DgI,EAAgB1P,GAAa6H,EAAwBF,SAAU,UACrE,OAAO2I,GAAyBb,EAAcC,EAAiB,IAGnE,CACEU,QAAS,2BACT1M,YAAa,6CACb2M,KAAM,SAAC7N,EAAaqF,EAAyBM,GAC3C,IAAMmI,EAAuB9N,EAAYhN,YAAc8H,GAAuB,IAAI/H,MAAQC,UACpFia,EAAczP,GAAa6H,EAAwBH,OAAQ,UAC3DgI,EAAgB1P,GAAa6H,EAAwBF,SAAU,UAC/DgI,GAWF,EATFxH,EAAmBxV,KAAI,SAAA0N,GAAC,kCACnBA,GADmB,IAEtBqO,MAAOrN,GAAqChB,EAAEsO,KAAM9G,EAAwB2G,MAAQ,OAGrFrd,QAAO,SAAAkP,GAAC,MAAW,SAATA,EAAEzD,MAA2B,IAAVyD,EAAEqO,SAE/B5d,QAAO,SAACyO,EAAMc,GAAP,OAAWd,GAA4B,GAAnBc,EAAE5D,OAAO4D,EAAEqO,SAAY,GAG/CkB,EAEJzH,EAAmBxV,KAAI,SAAA0N,GAAC,kCACnBA,GADmB,IAEtBqO,MAAOrN,GAAqChB,EAAEsO,KAAM9G,EAAwB2G,MAAQ,OAGrFrd,QAAO,SAAAkP,GAAC,MAAW,SAATA,EAAEzD,MAA2B,IAAVyD,EAAEqO,SAE/B5d,QAAO,SAACyO,EAAMc,GAAP,OAAWd,GAA4B,GAAnBc,EAAE5D,OAAO4D,EAAEqO,SAAY,GAC/CmB,GAWF,EATF1H,EAAmBxV,KAAI,SAAA0N,GAAC,kCACnBA,GADmB,IAEtBqO,MAAOrN,GAAqChB,EAAEsO,KAAM9G,EAAwB2G,MAAQ,OAGrFrd,QAAO,SAAAkP,GAAC,MAAW,YAATA,EAAEzD,QAEZ9L,QAAO,SAACyO,EAAMc,GAAP,OAAWd,GAA4B,GAAnBc,EAAE5D,OAAO4D,EAAEqO,SAAY,GAG7CoB,EAAiCL,EAAcC,EAAgBE,EAAyBD,EAAyBE,EAEzH,OADA7Y,QAAQC,IAAI,kBAAmB6Y,EAAgCQ,EAAsBb,EAAaC,EAAeC,EAAwBC,EAAwBC,GAC1JS,GAAwBR,EAAiC,IAGpE,CACEM,QAAS,6BACT1M,YAAa,gCACb2M,KAAM,SAAC7N,EAAaqF,EAAyBM,GAC3C,IAAMmI,EAAuB9N,EAAYhN,YAAc8H,GAAuB,IAAI/H,MAAQC,UACpFia,EAAczP,GAAa6H,EAAwBH,OAAQ,UAC3DgI,EAAgB1P,GAAa6H,EAAwBF,SAAU,UAC/DgI,GAWF,EATFxH,EAAmBxV,KAAI,SAAA0N,GAAC,kCACnBA,GADmB,IAEtBqO,MAAOrN,GAAqChB,EAAEsO,KAAM9G,EAAwB2G,MAAQ,OAGrFrd,QAAO,SAAAkP,GAAC,MAAW,SAATA,EAAEzD,MAA2B,IAAVyD,EAAEqO,SAE/B5d,QAAO,SAACyO,EAAMc,GAAP,OAAWd,GAA4B,GAAnBc,EAAE5D,OAAO4D,EAAEqO,SAAY,GAG/CkB,EAEJzH,EAAmBxV,KAAI,SAAA0N,GAAC,kCACnBA,GADmB,IAEtBqO,MAAOrN,GAAqChB,EAAEsO,KAAM9G,EAAwB2G,MAAQ,OAGrFrd,QAAO,SAAAkP,GAAC,MAAW,SAATA,EAAEzD,MAA2B,IAAVyD,EAAEqO,SAE/B5d,QAAO,SAACyO,EAAMc,GAAP,OAAWd,GAA4B,GAAnBc,EAAE5D,OAAO4D,EAAEqO,SAAY,GAC/CmB,GAWF,EATF1H,EAAmBxV,KAAI,SAAA0N,GAAC,kCACnBA,GADmB,IAEtBqO,MAAOrN,GAAqChB,EAAEsO,KAAM9G,EAAwB2G,MAAQ,OAGrFrd,QAAO,SAAAkP,GAAC,MAAW,YAATA,EAAEzD,QAEZ9L,QAAO,SAACyO,EAAMc,GAAP,OAAWd,GAA4B,GAAnBc,EAAE5D,OAAO4D,EAAEqO,SAAY,GAIrD,OAAO4B,GADkCb,EAAcC,EAAgBE,EAAyBD,EAAyBE,EACzD,MAGpE,CACEO,QAAS,yBACT1M,YAAa,mCACb2M,KAAM,SAAC7N,EAAaqF,EAAyBM,GAC3C,IAAMmI,EAAuB9N,EAAYhN,YAAc8H,GAAuB,IAAI/H,MAAQC,UACpFia,EAAczP,GAAa6H,EAAwBH,OAAQ,UAC3DgI,EAAgB1P,GAAa6H,EAAwBF,SAAU,UAC/DgI,GAWF,EATFxH,EAAmBxV,KAAI,SAAA0N,GAAC,kCACnBA,GADmB,IAEtBqO,MAAOrN,GAAqChB,EAAEsO,KAAM9G,EAAwB2G,MAAQ,OAGrFrd,QAAO,SAAAkP,GAAC,MAAW,SAATA,EAAEzD,MAA2B,IAAVyD,EAAEqO,SAE/B5d,QAAO,SAACyO,EAAMc,GAAP,OAAWd,GAA4B,GAAnBc,EAAE5D,OAAO4D,EAAEqO,SAAY,GAG/CkB,EAEJzH,EAAmBxV,KAAI,SAAA0N,GAAC,kCACnBA,GADmB,IAEtBqO,MAAOrN,GAAqChB,EAAEsO,KAAM9G,EAAwB2G,MAAQ,OAGrFrd,QAAO,SAAAkP,GAAC,MAAW,SAATA,EAAEzD,MAA2B,IAAVyD,EAAEqO,SAE/B5d,QAAO,SAACyO,EAAMc,GAAP,OAAWd,GAA4B,GAAnBc,EAAE5D,OAAO4D,EAAEqO,SAAY,GAC/CmB,GAWF,EATF1H,EAAmBxV,KAAI,SAAA0N,GAAC,kCACnBA,GADmB,IAEtBqO,MAAOrN,GAAqChB,EAAEsO,KAAM9G,EAAwB2G,MAAQ,OAGrFrd,QAAO,SAAAkP,GAAC,MAAW,YAATA,EAAEzD,QAEZ9L,QAAO,SAACyO,EAAMc,GAAP,OAAWd,GAA4B,GAAnBc,EAAE5D,OAAO4D,EAAEqO,SAAY,GAIrD,OAAO4B,GADkCb,EAAcC,EAAgBE,EAAyBD,EAAyBE,GACxD,MAIrE,CACEO,QAAS,2BACT1M,YAAa,4BACb2M,KAAM,SAAC7N,EAAaqF,EAAyBM,GAC3C,IAAMoI,EAAoB/N,EAAYhN,UAAY8H,GAAuB,IAAI/H,MAAQC,UAC/Eia,EAAczP,GAAa6H,EAAwBH,OAAQ,UAC3DgI,EAAgB1P,GAAa6H,EAAwBF,SAAU,UACrE,OAAO4I,GAAsBd,EAAcC,EAAiB,IAGhE,CACEU,QAAS,oBACT1M,YAAa,oCACb2M,KAAM,SAAC7N,EAAaqF,EAAyBM,GAC3C,IAAMoI,EAAoB/N,EAAYhN,UAAY8H,GAAuB,IAAI/H,MAAQC,UAC/Eia,EAAczP,GAAa6H,EAAwBH,OAAQ,UAC3DgI,EAAgB1P,GAAa6H,EAAwBF,SAAU,UACrE,OAAO4I,GAAsBd,EAAcC,GAAkB,IAIjE,CACEU,QAAS,gBACT1M,YAAa,wCACb2M,KAAM,SAAC7N,EAAaqF,EAAyBM,GAC3C,IAAMqI,EAAsBhO,EAAYhN,UAAY8H,GAAuB,IAAI/H,MAAQC,UACjFia,EAAczP,GAAa6H,EAAwBH,OAAQ,UAC3DgI,EAAgB1P,GAAa6H,EAAwBF,SAAU,UACrE,OAAO6I,GAAwBf,EAAcC,EAAiB,IAGlE,CACEU,QAAS,4BACT1M,YAAa,8CACb2M,KAAM,SAAC7N,EAAaqF,EAAyBM,GAC3C,IAAMqI,EAAsBhO,EAAYhN,UAAY8H,GAAuB,IAAI/H,MAAQC,UACjFia,EAAczP,GAAa6H,EAAwBH,OAAQ,UAC3DgI,EAAgB1P,GAAa6H,EAAwBF,SAAU,UACrE,OAAO6I,GAAwBf,EAAcC,GAAkB,KAK/De,EAAuB,SAACjO,EAAaqF,EAAyBM,GAClE,OAAK3F,GAAgBqF,EAAwB2G,IAAInY,QAAW8R,EAAmB9R,OACxE8Z,EAAoBtY,MAAK,SAAA6Y,GAAM,OAAEA,EAAOL,KAAK7N,EAAaqF,EAAyBM,MADI,MAIhG,EAAkDtC,mBAAS4K,EAAqBjO,EAAaqF,EAAyBM,IAAtH,mBAAOwI,EAAP,KAA0BC,EAA1B,KAMA,OAJAnL,qBAAU,kBACRmL,EAAqBH,EAAqBjO,EAAaqF,EAAyBM,MAChF,CAAC3F,EAAaqF,EAAyBM,IAGvC,uBAAKiB,UAAU,+HAAf,UACE,oBAAGA,UAAU,2DACb,qBAAIA,UAAU,wCAAd,gBAAuDuH,QAAvD,IAAuDA,OAAvD,EAAuDA,EAAmBP,UAC1E,uBAAMhH,UAAU,gDAAhB,gBAAiEuH,QAAjE,IAAiEA,OAAjE,EAAiEA,EAAmBjN,mBCtL3EmN,GArBO,SAAC,GAA6I,EAA3IC,aAA4I,IAA9H/U,EAA6H,EAA7HA,aAAcyR,EAA+G,EAA/GA,aAAcD,EAAiG,EAAjGA,YAAavF,EAAoF,EAApFA,YAAaxF,EAAuE,EAAvEA,YAAaqK,EAA0D,EAA1DA,gBAAiBY,EAAyC,EAAzCA,oBAAqBsD,EAAoB,EAApBA,gBAExIC,EAAQC,cAAcC,SAC5BzL,qBAAU,WACRsL,EAAgBC,KACf,CAACA,IAEJ,IAAMnJ,EAA0BlB,GAA2B5K,EAAcyG,GACnE2F,EAAqBJ,GAAsBC,EAAaxF,GAE9D,OACE,sBAAK4G,UAAU,yCAAf,SACE,wBAAMA,UAAU,mBAAhB,UACE,eAAC,GAAD,CAAcrN,aAAcA,EAAcyR,aAAcA,EAAcD,YAAaA,EAAa/K,YAAaA,EAAaqK,gBAAiBA,EAAiBY,oBAAqBA,IACjL,eAAC,GAAD,CAAmBjL,YAAaA,EAAaqF,wBAAyBA,EAAyBM,mBAAoBA,IACnH,eAAC,GAAD,CAAmB3F,YAAaA,EAAaqF,wBAAyBA,EAAyBM,mBAAoBA,UCuC5GgJ,I,MA/De,SAAC,GAAuC,IAChEhD,EACAiD,EACAC,EAH2BC,EAAoC,EAApCA,OAAQC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,WAkDnD,MA7CoB,SAAhBF,EAAO1U,OACL0U,EAAO9B,YACJ+B,GAMHpD,EAAY,sBACZiD,EAAW,WACXC,EAAY,WAPZlD,EAAY,sBACZiD,EAAW,OACXC,EAAY,YASdlD,EAAY,GACZiD,EAAW,UACXC,EAAY,cAGI,WAAhBC,EAAO1U,MACL0U,EAAO9B,cAIL,GAAK1b,KAAKgP,IAAIwO,EAAO9B,YAAY8B,EAAO7U,SACxC3I,KAAKgP,IAAIwO,EAAO9B,YAAY8B,EAAO7U,QAAU,OAE/C0R,EAAY,sBACZiD,EAAW,SACXC,EAAY,WAELG,GACPrD,EAAY,sBACZiD,EAAW,cACXC,EAAY,WAEJG,IACRrD,EAAY,8BACZiD,EAAW,eACXC,EAAY,YAMdD,EAEA,uBAAKhI,UAAS,oFAA+EiI,EAA/E,wCAAwHA,GAAtI,UACE,oBAAGjI,UAAS,6CAAwC+E,EAAxC,WACZ,gCAAOiD,OAMN,OCXMK,I,MA7CK,SAAC,GAAc,IAAZH,EAAW,EAAXA,OACfI,EAAkC,WAAhBJ,EAAO1U,KACzB2U,IAAcG,GAAkBJ,EAAO9B,YAAc8B,EAAO7U,OAC5D+U,GAAeE,GAAkBJ,EAAO9B,YAAc8B,EAAO7U,OAEnE,OACE,uBAAK2M,UAAU,8BAAf,UACE,qBAAIA,UAAU,oCAAd,SAAmDkI,EAAO3C,OAC1D,eAAC,GAAD,CAAuB2C,OAAQA,EAAQC,WAAYA,EAAYC,WAAYA,IAC3E,uBAAKpI,UAAU,yBAAf,UACE,sBAAIA,UAAU,yBAAyBuI,MACrC,CACEC,MAASL,EAEL,UADA,SAHR,UAQGvS,EAAwBlL,KAAKgP,IAAIwO,EAAO9B,cAR3C,OAQ8DxQ,EAAwBlL,KAAKgP,IAAIwO,EAAO7U,SARtG,IAQkHiV,EAAkB,QAAU,YAE9I,sBAAItI,UAAU,wCAAd,UACGpK,EAAwBsS,EAAO7U,OAAS6U,EAAO9B,aADlD,IACkE+B,EAAa,YAAc,eAE7F,sBAAKnI,UAAU,yBAAyBuI,MACtC,CACEE,gBAAmBH,EAA8BH,EAAa,MAAQD,EAAOM,MAAxC,QACrCE,MAAkB,sBAAVP,GACYD,EAAO9B,YAAc8B,EAAO7U,QAAQ6U,EAAO7U,OAC5C6U,EAAO9B,YAAY8B,EAAO7U,OAF3B,KAIlBsV,KAAOR,EACH,QACA,EAEJS,MAAQT,EACJ,EACA,mBCEDU,I,MAhCK,SAAC,GAAqG,IAAnGlW,EAAkG,EAAlGA,aAAciM,EAAoF,EAApFA,YAAaxF,EAAuE,EAAvEA,YAAaqK,EAA0D,EAA1DA,gBAAiBY,EAAyC,EAAzCA,oBAAqBsD,EAAoB,EAApBA,gBAE7FC,EAAQC,cAAcC,SAC5BzL,qBAAU,WACRsL,EAAgBC,KACf,CAACA,IAEJ,IAAMnJ,EAA0BlB,GAA2B5K,EAAcyG,GACnE2F,EAAqBJ,GAAsBC,EAAaxF,GAE9D,OACE,uBAAK4G,UAAU,oBAAf,UACE,eAAC,GAAD,CAA8BrN,aAAcA,EAAcyG,YAAaA,EAAaqK,gBAAiBA,EAAiB9C,SAAU0D,EAAqBX,UAAQ,IAC7J,uBAAK1D,UAAU,YAAf,UACE,qBAAIA,UAAU,uBAAd,4BACA,sBAAKA,UAAU,gBAAf,SAIOjB,EAEDA,EAAmBxV,KAAI,SAAAkc,GAAU,OAC/B,eAAC,GAAD,CAAmCyC,OAAM,2BAAMzC,GAAN,IAAkB+C,MAAO,UAAWpC,YAAanO,GAAqCwN,EAAWF,KAAM9G,EAAwB2G,QAAtJK,EAAWF,SAF/B,aCqCCuD,I,MAjEgB,SAAC,GAA8E,IAA5EhH,EAA2E,EAA3EA,OAAiBiH,EAA0D,EAAnEC,SAAyCC,EAA0B,EAA5CC,kBAC/D,EAA8DzM,mBAAS,IAAvE,mBAAO0M,EAAP,KAAgCC,EAAhC,KAOMC,EAAuC,uCAAG,WAAMnM,GAAN,iBAAA5P,EAAA,6DAE9C4P,EAAMoM,iBAEAC,EAJwC,YAIZrM,EAAMuF,OAAO+G,OAGzCC,EAAwB,GAPgB,SAQxCtc,QAAQiY,IACZmE,EAAsBhgB,IAAtB,uCAA0B,WAAMmgB,GAAN,eAAApc,EAAA,sEACEoc,EAAK1E,OADP,OAClB2E,EADkB,OAExBF,EAAsB7e,KAAK+e,GAFH,2CAA1B,wDAT4C,OAgB9CzM,EAAMuF,OAAO/Y,MAAQ,GAGrBuf,EAAsBQ,GAnBwB,2CAAH,sDAoC7C,OACG3H,EAED,uBAAM9B,UAAU,0BAA0BgJ,SAjB3B,SAAA9L,GAEfA,EAAMoM,iBAGN,IAAMM,EAA+BT,EAGrCC,EAA2B,IAG3BL,EAAaa,IAMb,SACE,iCACE,wBAAO5J,UAAU,aAAjB,0BACA,uBAAKA,UAAU,mBAAf,UACE,2BAAUhT,GAAG,2BAA2BgT,UAAU,wCAAwCrU,KAAK,IAAIgV,SAhD/D,SAAAzD,GAC1C,IAAM2M,EAAc3M,EAAMuF,OAAO/Y,MACjC0f,EAA2BS,MA+CrB,yBAAQ7J,UAAU,mCAAmC/K,KAAK,SAA1D,uBAEF,oBAAG+K,UAAU,YAAb,kDACA,iCACE,wBAAOA,UAAU,aAAjB,+DACA,wBAAOA,UAAU,kDAAkD/K,KAAK,OAAO6U,OAAO,OAAOC,UAAQ,EAACpJ,SAAU0I,OAElH,sBAAKrc,GAAG,wCAbZ,OC6VWgd,I,YA7WO,SAACC,GACrB,IAAQ9Z,EAAuI8Z,EAAvI9Z,KAAR,EAA+I8Z,EAAjIvgB,MAAM+W,OAApB,MAAiC,GAAjC,IAA+IwJ,EAA1Gjc,MAAMkc,OAA3C,MAAwD,GAAxD,EAA4DC,EAAmFF,EAAnFE,YAAaC,EAAsEH,EAAtEG,SAAUC,EAA4DJ,EAA5DI,sBAAuBrK,EAAqCiK,EAArCjK,UAAoB+I,EAAiBkB,EAA1BjB,SAE/Gnc,GACoC,EADpCA,GAEyC,EAGzCyd,EAA8BziB,OAAOwN,QAAQ4U,GAChDliB,QAAO,mCAAEwiB,EAAF,iBAAyBA,EAAShf,MAAM,gCAC/CxD,QAAO,gBAAEwiB,EAAF,2BAAe,CAAC,6BAA8B,6BAA6BtiB,SAASsiB,MAC3FhhB,KAAI,YAA0B,IAAD,mBAAvBghB,EAAuB,KAAbC,EAAa,KAAOC,EAAUF,EAAShf,MAAM,6BAC5D,MAAO,CACJkf,EAAO,YAAQA,EAAQ,IAAOF,EAC/BC,MAGH9iB,QAAO,SAACgjB,EAAD,0BAAOH,EAAP,KAAiBC,EAAjB,wBAAC,eACJE,GADG,kBAELH,EAAWC,MACV,IAEAG,EAAkB,SAAC3c,EAAO4c,GAC9B,OAAKA,EAGE5c,EAAMjG,QAAO,SAAAiP,GAAI,OAAEa,GAAuBb,EAAM4T,MAH7B5c,GAM5B,EAA0ByO,mBAASgE,GAAnC,mBAAO/W,EAAP,KAAc2X,EAAd,KACA,EAA0C5E,mBAAS,MAAnD,mBAAO2E,EAAP,KAAsByJ,EAAtB,KACA,EAAwCpO,mBAAS,MAAjD,mBAAOmO,EAAP,KAAqBE,EAArB,KACA,EAAkDrO,mBAASkO,EAAgBT,EAAcU,IAAzF,mBAAOG,EAAP,KAA0BC,EAA1B,KACA,EAAgDvO,mBAAS,MAAzD,mBAAOwO,EAAP,KAAyBC,EAAzB,KACA,EAAsDzO,oBAAS,GAA/D,mBAAO0O,EAAP,KAA4BC,EAA5B,KACA,EAAwD3O,oBAAS,GAAjE,mBAAO4O,EAAP,KAA6BC,EAA7B,KAEMC,EAAuB7L,iBAAO,MAC9B8L,EAAmB9L,iBAAO,MA2C1B+L,EAAoC,SAACzG,EAAMiG,GAC/C,OAAKA,GAIHjG,IAASiG,EACT,WAL4B,IAU1BS,EAAuC,SAAC1G,EAAM4F,GAElD,IAAIA,EAAc,OAAO5F,EAEzB,IAAMzZ,EAAQsM,GAAuBmN,EAAM4F,GAC3C,OAAKrf,EACEyZ,EAAKjS,QAAQxH,EAAM,GAAnB,kEADYyZ,GAIf2G,EAAoB,WACxBP,GAAuB,SAAAQ,GAErB,OADAN,EAAwBM,GACpBA,IAGJf,EAAiBnhB,GAGjBwhB,EAAoBxhB,KANO,MAYzBmiB,EAAqB,WAEzBf,EAAgB,MAGhBI,EAAoB,MAGpBE,GAAuB,IAoCnBU,GAAmC,SAAA5O,GAKvC,IAAM2F,EAAW3F,EAAMuF,OAAOsJ,UAG9B1K,EAASwB,GAGTgJ,IAEA7C,GAAS,2BACJ9L,GADG,IAEN8O,oBAAoB,IACnBnJ,IAGCoJ,GAAmC,SAAA/O,GACvC,IAAMgP,EAAsBhP,EAAMuF,OAAOsJ,UAGzCb,EAAoBgB,IA0GhBlD,GAAW,SAAC9L,EAAOxT,GACnBqf,GAAcA,EAAa7L,EAAOxT,IA4DxC,OAxDA2S,qBAAU,kBAAIgF,EAASZ,KAAe,CAACA,EAAcyJ,IAIrD7N,qBAAU,kBACR2O,GAAqB,WAEnB,IAAMmB,EAAuBxB,EAAgBT,EAAcU,GAQ3D,OAJEM,EADEre,EACkBsf,EAAqB,GAErB,MAEfA,OAET,CAACvB,EAAcV,IAMjB7N,qBAAU,YAxQoC,WAE5C,GAAI4O,EAAJ,CAGA,IAAMmB,EAAuB,YAAIb,EAAqB1L,QAAQwM,iBAAiB,8BAA8B5d,MAAK,SAAAuI,GAAI,OAAEA,EAAK+U,YAAcd,KAE3I,GAAKmB,EAAL,CAEA,IAAME,EAA2BF,EAAqBG,wBAChDC,EAA4BjB,EAAqB1L,QAAQ0M,wBACzDE,EAAgCH,EAAyBI,KAAOF,EAA0BE,IAC1FC,EAAsCL,EAAyBM,QAAUJ,EAA0BI,OAKpGH,EAKAE,GAEIpB,EAAqB1L,QAAQgN,OAAO,CAACH,IAAKnB,EAAqB1L,QAAQiN,WAAaR,EAAyBM,OAASJ,EAA0BI,UANhJrB,EAAqB1L,QAAQgN,OAAO,CAACH,IAAKnB,EAAqB1L,QAAQiN,WAAaR,EAAyBI,IAAMF,EAA0BE,SAuPtJK,KACC,CAAC9B,IAGJ5O,qBAAU,WACR,IAAM2Q,EAA2C,SAAA9P,GAE1CzF,GAAeyF,EAAMuF,OAAQ+I,EAAiB3L,WApMjDhT,GAAgDwU,EAASD,GAG7DyK,MA+MA,GAAKV,EAML,OAhBEtO,SAASI,iBAAiB,QAAS+P,GACnCnQ,SAASI,iBAAiB,QAAS+P,GAe9B,kBAXLnQ,SAASoQ,oBAAoB,QAASD,QACtCnQ,SAASoQ,oBAAoB,QAASD,MAWvC,CAAC7B,EAAqBE,IAKvB,uBAAKrL,UAAS,yBAAoBA,EAApB,YAAiCmL,EAAsB,OAAS,IAAM9K,QAhKtE,SAAAnD,GACGA,EAAMuF,OAAOsJ,UAA9B,IACMmB,EAAqBhQ,EAAMuF,OAAO0K,QAAQ,yBAKhD,GAAIhC,IAAwB+B,EAAoB,OAAOrB,IAGvDF,KAsJsGyB,UAnJtF,SAAAlQ,GAGhB,GACoB,KAAlBA,EAAMmQ,SACY,KAAlBnQ,EAAMmQ,SACY,KAAlBnQ,EAAMmQ,SACY,KAAlBnQ,EAAMmQ,QAJR,CAwCA,GAAsB,KAAlBnQ,EAAMmQ,QASR,OARAnQ,EAAMoM,iBAGFzc,GAAgDwU,EAASD,QAG7DyK,IAMF,GAAsB,KAAlB3O,EAAMmQ,QAA4B,CACpCnQ,EAAMoM,iBAGN,IAAMzG,EAAYoI,GAAsCvhB,EAgBxD,OAdIuhB,GAAkB5J,EAAS4J,GAG/BH,EAAgB,MAGhBe,SAGA7C,GAAS,2BACJ9L,GADG,IAEN8O,qBAAqBf,IACpBpI,QAvEL,CAUE,GAJA3F,EAAMoM,kBAIgB,KAAlBpM,EAAMmQ,SAA6C,KAAlBnQ,EAAMmQ,WACpClC,EAAqB,OAAOQ,IAMnC,IAAI2B,EACJ,GAAsB,KAAlBpQ,EAAMmQ,SAA6C,KAAlBnQ,EAAMmQ,QAA2B,CAIpE,IAAME,EAA8B,KAAlBrQ,EAAMmQ,SAAkB,EAAI,EACxCG,EAAgC,KAAlBtQ,EAAMmQ,QAAiBtC,EAAkB9d,QAAU,EAEvEqgB,KADgF,IAAjDvC,EAAkB7f,QAAQ+f,GAA2BuC,EAAazC,EAAkB7f,QAAQ+f,IACvEsC,EAAWxC,EAAkB9d,QAAQ8d,EAAkB9d,YAElF,KAAlBiQ,EAAMmQ,SAA+C,KAAlBnQ,EAAMmQ,UAEhDC,EAA8C,KAAlBpQ,EAAMmQ,QAAiB,EAAItC,EAAkB9d,OAAO,GAIlF,IAAMif,EAAsBnB,EAAkBuC,GAC9CpC,EAAoBgB,KA8GsGhM,IAAKsL,EAAkBiC,OAnEtI,SAAAvQ,GAEb1P,OAAOsS,YAAW,kBAAI+L,MAAsB,MAiE5C,UACE,oCAAO7L,UAAU,uBAAuB7P,KAAMA,EAAMzG,MAAOA,EAAOygB,YAAaA,EAAaC,SAAUA,EAAUlK,IAAKmK,EAAuBqD,aAAa,MAAM/M,SAxNhI,SAAAzD,GACjC,IAAM2F,EAAW3F,EAAMuF,OAAO/Y,MAG9B2X,EAASwB,GAGTiI,EAAgBjI,GAGhB8I,IAGI1B,EAAM0D,4BAA4B1D,EAAM0D,2BAA2BzQ,IA2MgI0Q,QAxMvK,SAAA1Q,GAEhCyO,IAGI1B,EAAM4D,2BAA2B5D,EAAM4D,0BAA0B3Q,KAmM0KoN,IAC7O,sBAAKtK,UAAU,mCAAf,SACE,oBAAGA,UAAU,6BAEf,qBAAIA,UAAU,sBAAsBE,IAAKqL,EAAsBuC,aA1K7B,SAAA5Q,GAEpCgO,EAAoB,OAwKlB,SACGH,EAAkBxhB,KAAI,SAAAyN,GAAI,OACzB,qBAAegJ,UAAS,mCAA8ByL,EAAkCzU,EAAMiU,IAAqB8C,YAAajC,GAAkCkC,YAAa/B,GAAkCgC,wBAAyB,CAACC,OAAQxC,EAAqC1U,EAAM4T,KAArR5T,aCzRJmX,I,MAzGoB,SAAC,GAA6H,IAA3H1P,EAA0H,EAA1HA,wBAAyB2P,EAAiG,EAAjGA,sBAAuBC,EAA0E,EAA1EA,cAAwBtF,EAAkD,EAA3DC,SAAqCsF,EAAsB,EAApCC,cAC1H,EAA4B9R,mBAAS,IAArC,mBAAO+R,EAAP,KAAeC,EAAf,KACA,EAA8DhS,oBAAS,GAAvE,mBACA,GADA,UAC4DA,mBAAS,OAArE,mBAAOiS,EAAP,KAA+BC,EAA/B,KAEMC,EAAkClP,iBAAO,MAuDzCsJ,EAAW,SAAA6F,GAEfJ,EAAU,IAGVE,EAA0B,MAQ1B5F,EANqB,CACnB/gB,IAAK0mB,EACLhlB,MAAOmlB,KAWX,OACE,wBAAM7O,UAAU,gCAAgCgJ,SAAUA,EAA1D,UACE,uBAAKhJ,UAAU,gDAAf,UACE,oBAAGA,UAAU,qDAEX0O,EAEE,wBAAM1O,UAAU,4EAA4EK,QAvDtC,SAAAnD,GAC9DyR,EAA0B,MAC1BF,EAAU,KAqDF,UACE,oBAAGzO,UAAU,qFACZ0O,KAGL,KAEF,eAAC,GAAD,CAAe1O,UAAU,sCAAsCtW,MAAO8kB,EAAQxgB,MA1EvD,WAC3B,IAAM8gB,EACJN,EACAA,EAAOzb,QAAQ,2BAA4B,QAC3C,GAGF,OAAK2b,EApBuC,SAACjQ,EAAyBpU,GACtE,OAAO,YACF,IAAIwP,IACL4E,EAAwBlV,KAAI,SAAAgb,GAC1B,IAAM7a,EAAQ6a,EAAEla,GAChB,OAAQX,aAAiByC,KAAOzC,EAAMsM,SAAWtM,KAElD3B,QAAO,SAAAwc,GAAC,OAAG9c,MAAMsC,QAAQwa,GAAKA,EAAEtX,OAASsX,OAG3CxK,MAAK,SAACzM,EAAE2J,GAAH,OAAO3J,EAAE2J,GAAK,EAAIA,EAAE3J,EAAI,EAAI,KAY7ByhB,CAAsCtQ,EAAwB2G,IAAKsJ,GAFtCN,EAAsBrmB,QAAO,SAAAinB,GAAC,OAAEA,EAAEzjB,MAAM,IAAIyM,OAAO,IAAI8W,EAAe,SAmEjBG,GAAwB9E,YAAY,YAAYE,sBAAuBuE,EAAiC5F,SAjD3I,SAAC9L,EAAOgS,GAG9D,IAAKR,GAA0BxR,EAAM8O,mBAInC,OAHA2C,EAA0BO,GAC1BT,EAAU,SACVG,EAAgC/O,QAAQsP,QAK1CP,EAAgC/O,QAAQsP,QACxCnG,EAASkG,IAqCmPE,4BAzDrM,SAAAlS,GACvD,GAAGwR,GAAiD,KAAvBxR,EAAMuF,OAAO/Y,OAAkC,IAAlBwT,EAAMmQ,QAG9D,OAFAsB,EAA0B,WAC1BF,EAAU,UAwDV,sBAAKzO,UAAU,+CAAf,SACGqO,EAAc9kB,KAAI,WAAqCI,GAArC,IAAM0lB,EAAN,EAAErnB,IAAqB6mB,EAAvB,EAAiBnlB,MAAjB,OACjB,wBAAcsW,UAAU,8EAA8EK,QAAS,SAAAnD,GArBrHoR,EAqB0IO,IAApI,UAAkJ,oBAAG7O,UAAU,mEAAsEqP,EAAS,UAAMA,EAAN,KAAqB,GAAIR,IAA5PllB,aC3FN2lB,I,MATqB,SAAC,GAAmB,IAAjBhX,EAAgB,EAAhBA,KAAMiX,EAAU,EAAVA,MAC3C,OACE,uBAA0BvP,UAAU,yEAApC,UACE,+BAAMpE,GAAkCtD,KACxC,qCAAOiX,EAAP,SAFQjX,EAAKlM,aCwLJojB,I,MAxLQ,SAAC,GAAqJ,IAAnJ5nB,EAAkJ,EAAlJA,YAA0C6nB,EAAwG,EAArIC,6BAA8FC,EAAuC,EAAtEC,+BACpG,EAAkCnT,mBAAS,GAA3C,mBAAOoT,EAAP,KAAkBC,EAAlB,KACA,EAA0CrT,mBAAS,IAAnD,mBAAOsT,EAAP,KAAsBC,EAAtB,KACA,EAAoCvT,mBAAS,GAA7C,mBAAOwT,EAAP,KAAmBC,EAAnB,KACA,EAA8BzT,mBAAS,GAAvC,mBAAO0T,EAAP,KAAgBC,EAAhB,KACA,EAA4C3T,oBAAS,GAArD,mBAAO4T,EAAP,KAAuBC,EAAvB,KACA,EAAsC7T,oBAAS,GAA/C,mBAAO8T,EAAP,KAAoBC,EAApB,KACA,EAA4D/T,oBAAS,GAArE,mBAAOgU,EAAP,KAA+BC,EAA/B,KAEMC,GAAqB,GAIrBC,EAAsB,kBAAiB,IAAZT,GAEjC,EAAoD1T,mBAAS,CAC3DnJ,WAAY,GACZF,gBAAiB,GACjBG,cAAe,GACfC,KAAM,GACNL,YAAa,GACbE,OAAQ,GACRK,SAAU,GACVC,MAAO,GACPC,KAAM,KATR,mBAAOid,EAAP,KAA2BC,EAA3B,KAYAzU,qBAAU,WACR,IAAM0U,EAA8Bxb,EAAyB3N,GAC7DkpB,EAAsB,2BACjBC,GADgB,IAEnB5d,YAAamC,EAAwC1N,GACrD2L,cAAewd,EAA4Bxd,eAAiB,QAC5DG,SAAUqd,EAA4Brd,UAAY,uBAEnD,CAAC9L,IAaJyU,qBAAU,cAEP,CAAC4T,IAEJ,IAeMe,EAAc,SAAA9T,GAIlB,IAAM+T,EAAQ/T,EAAMgU,QAAQ,GACtBC,EAAgBF,EAAMG,QAAUrB,EAAcqB,QAC9CC,EAAgBJ,EAAMK,QAAUvB,EAAcuB,QAC9CC,EAAyB1B,EAAYsB,EAI3C,GAAIZ,IAEFC,GAAe,GAMX9lB,KAAKgP,IAAI2X,GAAiB3mB,KAAKgP,IAAIyX,IAAgB,OAAOT,GAA0B,GAItFD,IAGJvT,EAAMoM,iBAYN4G,EANiMqB,EAxFzK,IAyFtBA,EAAyBZ,EACzBA,GAAsBA,EAAoBQ,GAAe,EACzDI,KAwBEC,EAAoB,SAAArB,GACxBC,GAAW,WAUT,OAPAF,EAAcC,GACdL,EAAaK,GAIbG,GAAkB,GAEXH,MAKLsB,EAAiB/R,iBAAO,MAIxBgS,EAAsB,SAAAxU,GACtBzF,GAAeyF,EAAMuF,OAAQgP,EAAe5R,UAC5C+Q,MACF1T,EAAMoM,iBA1BRkI,EAAkB,KAyCpB,OATAnV,qBAAU,WAGR,OAFAQ,SAASI,iBAAiB,aAAcyU,EAAqB,CAACC,SAAS,IACnEF,EAAe5R,SAAS4R,EAAe5R,QAAQ5C,iBAAiB,YAAa+T,GAC1E,WACLnU,SAASoQ,oBAAoB,aAAcyE,GACvCD,EAAe5R,SAAS4R,EAAe5R,QAAQoN,oBAAoB,YAAa+D,MAErF,CAACS,EAAgBT,EAAaU,IAG/B,uBAAK1R,UAAS,0BAAuBqQ,EAA8B,GAAb,YAAoB9H,MAAO,CAACqJ,UAAU,cAAD,OAAgB3B,EAAhB,QAAkC4B,aAjH1G,SAAA3U,GAEnB,IAAM+T,EAAQ/T,EAAMgU,QAAQ,GAC5BlB,EAAiBiB,GAIjBX,GAAkB,GAKlBE,GAAe,IAqG+OsB,WAzD7O,SAAA5U,GAKjBsU,EAJoBvB,GAAcU,EAAoBA,EAAoB,GAO1EH,GAAe,GAGfE,GAA0B,IA8C4PxQ,IAAKuR,EAA3R,UACE,uBAAKzR,UAAU,4BAA4BK,QAjIV,SAAAnD,GAC/B0T,KACJnB,EAAiC7nB,IA+H/B,UACE,uBAAKoY,UAAU,wCAAf,UACE,uBAAMA,UAAS,sCAAmCpY,EAAY6L,mBAAuC,GAAlB,iBAAnF,SAA6God,EAAmB1d,cAChI,uBAAM6M,UAAS,gCAA2BpY,EAAYyL,QAAU,EAAI,YAAc,IAAlF,SAAyFwd,EAAmBxd,YAE9G,uBAAK2M,UAAU,2CAAf,UACE,uBAAMA,UAAU,0BAAhB,SAA2C6Q,EAAmBtd,gBADhE,YAGE,uBAAMyM,UAAU,2BAAhB,SAA4C6Q,EAAmBnd,iBAGnE,yBAAQsM,UAAW,gCAAiCK,QAvIjB,SAAAnD,GACrCyS,EAAmC/nB,IAsI4DwiB,UAAW,EAAxG,SACE,uBAAMpK,UAAU,qCAAhB,2BC7KF+R,I,MAAuB,SAAC,GAA6H,IAErJC,EAF0BC,EAA0H,EAA1HA,gCAAiCjL,EAAyF,EAAzFA,QAASqH,EAAgF,EAAhFA,cAAeqB,EAAiE,EAAjEA,6BAA8BE,EAAmC,EAAnCA,+BAIrH,OACE,uBAAK5P,UAAU,mBAAf,UACGqO,EAAcphB,OAAS,KACtB,uBAAK+S,UAAU,yFAAf,UACE,qBAAIA,UAAU,gCAAd,SAA+CgH,IAC/C,uBAAKhH,UAAU,UAAf,UACE,uBAAMA,UAAU,iCAAhB,SAAkDpK,EAAwBM,EAA2B+b,MADvG,OAGE,wBAAMjS,UAAU,sCAAhB,cAAwDiS,EAAgChlB,OAAxF,aAILglB,EAEAlY,MAAK,SAACzM,EAAE2J,GAAH,OAAOA,EAAE7D,gBAAgB9F,EAAE8F,mBAEhC1L,QAAO,SAACiL,EAAc/K,GACrB,MAAKoqB,GAAsBA,EAAoB7lB,KAAK6J,YAAsBpO,EAAYwL,gBAAgB4C,SAAU,CAC9G,IAAMkc,EAAmB,CACvB/lB,KAAMvE,EAAYwL,gBAClB+e,MAAO,GAETxf,EAAa/H,KAAKsnB,GAClBF,EAAsBE,OAGtBF,EAAoBG,QAEtB,OAAOxf,EAAawB,OAAOvM,KAC1B,IACF2B,KAAI,SAAC3B,EAAa+B,GAAd,OACH/B,EAAYuE,MAAQvE,EAAYuqB,MAChC,eAAC,GAAD,CAAqC7Z,KAAM1Q,EAAYuE,KAAMojB,MAAO3nB,EAAYuqB,OAA9CxoB,GAClC,eAAC,GAAD,CAAwB/B,YAAaA,EAAa8nB,6BAA8BA,EAA8BE,+BAAgCA,GAAzHjmB,WA+EdyoB,GAzEU,SAAC,GAA6F,IAAD,EAA1F3T,EAA0F,EAA1FA,wBAAyBiR,EAAiE,EAAjEA,6BAA8BE,EAAmC,EAAnCA,+BAG3EyC,EAAoC,SAAC5T,EAAyB4P,GAClE,IAAMiE,EAAgC,SAAA7T,GACpC,OAAOA,EACJ1W,QAAO,SAAAwc,GAAC,OACP8J,EAAc9kB,KAAI,YAAuC,IAAjC8lB,EAAgC,EAApCrnB,IAAqB6mB,EAAe,EAArBnlB,MAC3BA,EAAQ6a,EAAC,OAAC8K,QAAD,IAACA,IAPS,sBAQzB,SAAK3lB,GAAyB,aAAd2lB,GAA4C,kBAAhBR,KAE1B,aAAdQ,GAA4C,kBAAhBR,EAAkD,OAAVnlB,GAAkBA,EAAM6B,MAAM,IAAIyM,OAAO6W,EAAa,MACvHhX,GAAuBnO,EAAOmlB,OAEtC0D,OAAM,SAAA5oB,GAAC,OAAEA,SAKV6oB,EAAoC,2BACrC/T,GADqC,IAExCH,OAAQgU,EAA8B7T,EAAwBH,QAC9DC,SAAU+T,EAA8B7T,EAAwBF,YAGlE,OADA1W,OAAO4qB,eAAeD,EAAsC,MAAO3qB,OAAO6qB,yBAAyBjU,EAAyB,QACrH+T,GAGT,EAA0C/V,mBAAS,IAAnD,mBAAO4R,EAAP,KAAsBsE,EAAtB,KACA,EAA8ElW,mBAAS4V,EAAkC5T,EAAyB4P,IAAlJ,mBAAO4D,EAAP,KAAwCW,EAAxC,KAEMC,EAAyBjd,EAAwBM,EAA2B+b,EAAgC7M,MAC5GgJ,GAAyB,UAAA6D,EAAgC7M,WAAhC,eAAqCnY,QAASpF,OAAOC,KAAKmqB,EAAgC7M,IAAI,IAAIrd,QAAO,SAAAsC,GAAQ,OAAG,CAAC,cAAc,eAAe,oBAAoB,mBAAmBpC,SAASoC,MAAa,GAoB9O,OANAgS,qBAAU,kBACRuW,EAAmCP,EAAkC5T,EAAyB4P,MAC9F,CAAC5P,EAAyB4P,IAE5BlS,GAAc8V,EAAiC,mCAG7C,uBAAKjS,UAAU,oBAAf,UACE,eAAC,GAAD,CAA4BvB,wBAAyBA,EAAyB2P,sBAAuBA,EAAuBC,cAAeA,EAAerF,SApBnH,SAAA8J,GACzCH,GAAiB,SAAAI,GAAqB,4BAAMA,GAAN,CAA6BD,QAmBuIvE,cAhBtL,SAAAyE,GACpBL,GAAiB,SAAAI,GACf,IAAME,EAAgB,YAAOF,GAC7B,OAAOE,EAAiB3pB,OAAO2pB,EAAiB/nB,QAAQ8nB,GAAqB,IAAMC,QAejF5E,EAAcphB,OACd,eAAC,GAAD,CAAsBglB,gCAAiCA,EAAgC7M,IAAKiJ,cAAeA,EAAeqB,6BAA8BA,EAA8BE,+BAAgCA,IACtN,uCACE,eAAC,GAAD,CAAsBqC,gCAAiCA,EAAgC3T,OAAQ0I,QAAQ,SAASqH,cAAeA,EAAeqB,6BAA8BA,EAA8BE,+BAAgCA,IAC1O,eAAC,GAAD,CAAsBqC,gCAAiCA,EAAgC1T,SAAUyI,QAAQ,WAAWqH,cAAeA,EAAeqB,6BAA8BA,EAA8BE,+BAAgCA,OAGlP,uBAAK5P,UAAU,oEAAf,UACE,wBAAMA,UAAU,qBAAhB,UAAuCiS,EAAgC7M,IAAInY,OAASglB,EAAgC7M,IAAInY,OAAS,EAAjI,mBACA,+BACE,uBAAK+S,UAAU,qBAAf,UAAqC6S,EAArC,qB,QChHKK,I,MANE,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,IAAK9S,EAAY,EAAZA,QACvB,OACE,uBAAgBL,UAAU,+BAA+BK,QAASA,EAAlE,SAA4E8S,GAAjEA,KC6CAC,I,MAzCqB,SAAC,GAAsF,IAApFC,EAAmF,EAAnFA,kBAAmBjJ,EAAgE,EAAhEA,SAAmB1J,EAA6C,EAAtDC,SAAuB2S,EAA+B,EAA/BA,WAAYC,EAAmB,EAAnBA,gBAC/F5S,EAAW,SAAAjX,GACZgX,GAAcA,EAAahX,IAIhC,MAA+B,SAA3B2pB,EAAkBljB,KAElB,+BACE,uBAAK6P,UAAU,6DAAf,UACE,wBAAOA,UAAU,0DAA0D/K,KAAK,SAAS9E,KAAK,OAAOzG,MAAO2pB,EAAkB3pB,MAAMM,KAAK,OACzI,sBAAKgW,UAAU,sDAAf,SACGqT,EAAkB3pB,MAAMH,KAAI,SAAA4pB,GAAG,OAAE,eAAC,GAAD,CAAoBA,IAAKA,EAAK9S,QAAS,SAAAnD,GAAK,OAAEqW,EAAgBJ,KAA/CA,QAEnD,eAACE,EAAkBF,IAAnB,CAAuBnT,UAAU,kFAAkF/K,KAAMoe,EAAkBG,QAASrJ,YAAakJ,EAAkBlJ,YAAaC,SAAUA,EAAUkJ,WAAYA,SAKzM,gBAA3BD,EAAkBljB,KAElB,uBAAK6P,UAAU,+CAAf,UACE,eAAC,GAAD,yBAAe7P,KAAMkjB,EAAkBljB,KAAMzG,MAAO2pB,EAAkB3pB,MAAOsE,MAAOqlB,EAAkBrlB,MAAOmc,YAAakJ,EAAkBlJ,aAAkBkJ,EAAkB/S,UAAY,CAACA,UAAU,IAAvM,IAA+M8J,SAAUA,EAAUuD,2BAA4B,SAAAzQ,GAAK,OAAEyD,EAASzD,EAAMuF,OAAO/Y,QAAQ+pB,6BAA8BH,KAClU,eAAC,GAAD,CAAa5pB,MAAOkP,GAAoCya,EAAkB3pB,OAAQiX,SAAU,SAAAjX,GAAK,OAAEiX,EAASnL,GAAqB9L,UAInI,CAAC,WAAY,OAAQ,eAAezB,SAASorB,EAAkBljB,MAE/D,+BACE,eAAC,GAAD,yBAAeA,KAAMkjB,EAAkBljB,KAAMzG,MAAO2pB,EAAkB3pB,MAAOsE,MAAOqlB,EAAkBrlB,MAAOmc,YAAakJ,EAAkBlJ,aAAkBkJ,EAAkB/S,UAAY,CAACA,UAAU,IAAvM,IAA+M8J,SAAUA,EAAUuD,2BAA4B,SAAAzQ,GAAK,OAAEyD,EAASzD,EAAMuF,OAAO/Y,QAAQ+pB,6BAA8BH,OAKtU,+BACE,eAACD,EAAkBF,IAAnB,yBAAuBnT,UAAU,kFAAkF7P,KAAMkjB,EAAkBljB,KAAMzG,MAAO2pB,EAAkB3pB,MAAOuL,KAAMoe,EAAkBG,QAASrJ,YAAakJ,EAAkBlJ,YAAaC,SAAUA,GAAeiJ,EAAkB/S,UAAY,CAACA,UAAU,IAAhU,IAAwUK,SAAU,SAAAzD,GAAK,OAAEyD,EAASzD,EAAMuF,OAAO/Y,QAAQ4pB,WAAYA,EAAnY,SAA0a,UAA1BD,EAAkBF,IAAkBE,EAAkB3pB,MAAQ,YCyGrcgqB,I,MA5IgB,SAAC,GAAkG,IAAhG9rB,EAA+F,EAA/FA,YAAa6b,EAAkF,EAAlFA,gBAAiBkQ,EAAiE,EAAjEA,WAAYC,EAAqD,EAArDA,MAAuB9R,GAA8B,EAA9C+R,eAA8C,EAA9B/R,QAAQgS,EAAsB,EAAtBA,QAAS9K,EAAa,EAAbA,SAClH,EAAsCvM,mBAAS,IAA/C,mBAAO5I,EAAP,KAAoBkgB,EAApB,KACA,EAAoCtX,mBAAS,IAA7C,mBAAOnJ,EAAP,KAAmB0gB,EAAnB,KACA,EAA8CvX,mBAAS,IAAvD,mBAAOrJ,EAAP,KAAwB6gB,EAAxB,KACA,EAA0CxX,mBAAS,IAAnD,mBAAOlJ,EAAP,KAAsB2gB,EAAtB,KACA,EAA4BzX,mBAAS,IAArC,mBAAOpJ,EAAP,KAAe8gB,EAAf,KACA,EAAsC1X,mBAAS,IAA/C,mBAAOtJ,EAAP,KAAoBihB,EAApB,KACA,EAAoD3X,mBAAS,IAA7D,mBAAOhJ,EAAP,KAA2B4gB,EAA3B,KACA,EAAgC5X,mBAAS,IAAzC,mBAAO/I,EAAP,KAAiB4gB,EAAjB,KACA,EAAwB7X,mBAAS,IAAjC,mBAAOjJ,EAAP,KAAa+gB,EAAb,KACA,EAA0B9X,mBAAS,IAAnC,mBAAO9I,EAAP,KAAc6gB,GAAd,KACA,GAAwB/X,mBAAS,IAAjC,qBAAO7I,GAAP,MAAa6gB,GAAb,MAEMC,GAAqB,CACzB,CAACvkB,KAAM,cAAega,YAAa,wBAAyBzgB,MAAOmK,EAAa7F,MAAOyV,EAAgBla,KAAI,SAAA0N,GAAC,OAAEzB,GAAqByB,MAAKkc,IAAK,QAASK,QAAS,OAAQmB,SAAUZ,EAAgBzT,UAAU,GAC3M,CAACnQ,KAAM,aAAcga,YAAa,cAAezgB,MAAO4J,EAAY6f,IAAK,QAASK,QAAS,OAAQmB,SAAUX,EAAe1T,UAAU,GACtI,CAACnQ,KAAM,kBAAmBga,YAAa,mBAAoBzgB,MAAO0J,EAAiB+f,IAAK,QAASK,QAAS,OAAQmB,SAAUV,EAAoB3T,UAAU,GAC1J,CAACnQ,KAAM,gBAAiBga,YAAa,iBAAkBzgB,MAAO6J,EAAe4f,IAAK,QAASK,QAAS,OAAQmB,SAAUT,EAAkB5T,UAAU,GAClJ,CAACnQ,KAAM,SAAUga,YAAa,SAAUzgB,MAAO2J,EAAQ8f,IAAK,QAASK,QAAS,OAAQmB,SAAUR,EAAW7T,UAAU,GACrH,CAACnQ,KAAM,cAAega,YAAa,cAAezgB,MAAOyJ,EAAaggB,IAAK,QAASK,QAAS,OAAQmB,SAAUP,EAAgB9T,UAAU,GACzI,CAACnQ,KAAM,qBAAsBga,YAAa,cAAezgB,MAAO+J,EAAoB0f,IAAK,QAASK,QAAS,OAAQmB,SAAUN,EAAuB/T,UAAU,GAC9J,CAACnQ,KAAM,WAAYga,YAAa,uBAAwBzgB,MAAOgK,EAAU1F,MAAO2lB,EAAYR,IAAK,QAASK,QAAS,OAAQmB,SAAUL,EAAahU,UAAU,GAC5J,CAACnQ,KAAM,OAAQga,YAAa,mBAAoBzgB,MAAO8J,EAAMxF,MAAO4lB,EAAOT,IAAK,QAASK,QAAS,OAAQmB,SAAUJ,EAASjU,UAAU,GACvI,CAACnQ,KAAM,QAASga,YAAa,QAASzgB,MAAOiK,EAAOwf,IAAK,WAAYK,QAAS,KAAMmB,SAAUH,GAAUlU,UAAU,GAClH,CAACnQ,KAAM,OAAQga,YAAa,OAAQzgB,MAAOkK,GAAMuf,IAAK,QAASK,QAAS,OAAQmB,SAAUF,GAASnU,UAAU,IAM/GjE,qBAAU,WACR,GAAIzU,EAAJ,CAEA,IAAMipB,EAAqBtb,EAAyB3N,GACpDmsB,EAAelD,EAAmBhd,aAClCmgB,EAAcnD,EAAmBvd,YACjC2gB,EAAmBpD,EAAmBzd,iBACtC8gB,EAAiBrD,EAAmBtd,eACpC4gB,EAAUtD,EAAmBxd,QAC7B+gB,EAAevD,EAAmB1d,aAClCkhB,EAAsBxD,EAAmBpd,oBACzC6gB,EAAYzD,EAAmBnd,UAC/B8gB,GAAS3D,EAAmBld,OAC5B4gB,EAAQ1D,EAAmBrd,MAC3BihB,GAAQ5D,EAAmBjd,MAC3BhG,QAAQC,IAAI,6EAAgFjG,EAAa0L,EAAYF,EAAiBG,EAAeF,EAAQF,EAAaO,EAAUC,EAAOH,EAAMI,OAChM,CAAChM,EAAaka,IAEjB,IAIM8S,GAAmC,SAAA1X,GACvC,IAAM2X,EAAyB3X,EAAMuF,OAIrC,GAAkB,UAAdvF,EAAMlV,KACJ6sB,EAAuBC,UAAUC,SAAS,uCAAwC,CACpF7X,EAAMoM,iBAEWuL,EAAuBnrB,MAQxC,OALA+qB,GAAQ,GAAD,mBAAK7gB,IAAL,CAAWihB,EAAuBnrB,cAGzCmrB,EAAuBnrB,MAAQ,MAgD/B6pB,GAAkB,SAAAJ,GACtBsB,GAAQ7gB,GAAK7L,QAAO,SAAAwc,GAAC,OAAEA,IAAI4O,OAG7B,OACE,gBAAC6B,GAAA,EAAD,CAAOhoB,GAAG,2BAA2BioB,KAAMnT,EAAQoT,OAAQpB,EAA3D,UACE,gBAACkB,GAAA,EAAMG,OAAP,WACE,eAACH,GAAA,EAAMI,MAAP,CAAapV,UAAU,cAAvB,gCACA,yBAAQA,UAAU,YAAY/K,KAAK,SAASoL,QAASyT,OAEvD,wBAAM9T,UAAU,gCAAgCgJ,SAnDf,SAAA9L,GACnC,IAAMmY,EAAuBnY,EAAMuF,OAC7B6S,EAAuB/f,EAAyB3N,GAGtDsV,EAAMoM,iBAKN,IAAMjgB,EAAO,YAAIgsB,EAAqBhJ,iBAAiB,WAAW3kB,QAAO,SAAC2O,EAAD,GAA8B,IAAhBlG,EAAe,EAAfA,KAAMzG,EAAS,EAATA,MAE3F,OAAIA,IAAU4rB,EAAqBnlB,GAAckG,GAGjD3M,EAAkB,SAATyG,EAAmBzG,EAAQA,EAAMU,MAAM,WAAa,GAAMV,EAEnEA,GADAA,EAAkB,gBAATyG,EAA0BzG,EAAQkP,GAAoClP,GAAS,KAAQA,aACtEjC,OAA0B,IAAjBiC,EAAMuD,OAAe,GAAKkI,EAAazL,GAEnE,2BACF2M,GADL,kBAEGlG,EAAOzG,OAET,CACDqK,iBAAiB,EACjBE,aAAc,IAAI9H,OAEpByB,QAAQC,IAAI,6CAA8CxE,GAG1D,IAAMksB,EAAkB,uCACnB3tB,GACAyB,GAFmB,IAGtB8J,YAAavL,EAAYuL,cAG3BvF,QAAQC,IAAI,4DAA6D0nB,GAEzEvM,EAASuM,IAaP,UACE,eAACP,GAAA,EAAMQ,KAAP,UACGd,GAAmBnrB,KAAI,SAAC8pB,EAAmB1pB,GAApB,OACtB,eAAC,GAAD,CAA0D0pB,kBAAmBA,EAAmBjJ,SAAUzgB,EAAE,EAAGgX,SAAU,SAACjX,GAAD,OAhF5F,SAACA,EAAO2pB,GAC7C,OAAOA,EAAkBsB,SAASjrB,GA+EwG+rB,CAA+B/rB,EAAO2pB,IAAoBC,WAAYsB,GAAkCrB,gBAAiBA,IAAzNF,EAAkBljB,WAGxD,gBAAC6kB,GAAA,EAAMU,OAAP,WACE,yBAAQ1V,UAAU,oBAAoB/K,KAAK,SAASmV,SAAUsK,GAAmBznB,OAAO,EAAGoT,QAASyT,EAApG,oBACA,yBAAQ9T,UAAU,kBAAkB/K,KAAK,SAASmV,SAAUsK,GAAmBznB,OAAO,EAAtF,6BChHKymB,I,MA1BgB,SAAC,GAA2D,IAAzD9rB,EAAwD,EAAxDA,YAAaka,EAA2C,EAA3CA,OAAQgS,EAAmC,EAAnCA,QAAkB/K,EAAiB,EAA1BC,SAO9D,OACE,gBAACgM,GAAA,EAAD,CAAOhoB,GAAG,oBAAoBioB,KAAMnT,EAAQoT,OAAQpB,EAApD,UACE,gBAACkB,GAAA,EAAMG,OAAP,WACE,eAACH,GAAA,EAAMI,MAAP,CAAapV,UAAU,cAAvB,gCACA,yBAAQA,UAAU,YAAY/K,KAAK,SAASoL,QAASyT,OAEvD,wBAAM9T,UAAU,yBAAyBgJ,SAZ5B,SAAA9L,GACfA,EAAMoM,iBAENP,EAAanhB,IASX,UACE,eAACotB,GAAA,EAAMQ,KAAP,UACE,oBAAGxV,UAAU,cAAb,6BAEF,gBAACgV,GAAA,EAAMU,OAAP,WACE,yBAAQ1V,UAAU,oBAAoB/K,KAAK,SAASmV,SAAS,IAAI/J,QAASyT,EAA1E,oBACA,yBAAQ9T,UAAU,kBAAkB/K,KAAK,SAASmV,SAAS,IAA3D,+BCEKuL,I,MArB4C,SAAC,GAAgD,IAA9C3oB,EAA6C,EAA7CA,GAAI4oB,EAAyC,EAAzCA,cAAwBlV,EAAiB,EAA1BC,SAW/E,OACE,uBAAKX,UAAU,aAAf,UACE,wBAAOA,UAAU,mBAAmB/K,KAAK,WAAWjI,GAAIA,EAAI6oB,QAASD,EAAcE,UAAWnV,SAZjF,SAAAzD,GAEf,IAAM6Y,EAAoB,2BACrBH,GADqB,IAExBE,WAAYF,EAAcE,YAG5BpV,EAAakV,EAAeG,MAM1B,wBAAO/V,UAAU,mBAAmBgW,QAAShpB,EAA7C,mBACO4oB,EAAcK,UAAU7iB,gBAAiBqC,mBAAmB,QAAS,CAACC,SAAU,QADvF,YACkGE,EAAwBggB,EAAcK,UAAU5iB,QADlJ,YAC6JuiB,EAAcK,UAAU9iB,oBCsD5K+iB,I,MA/D2B,SAAC,GAA2E,IAAzEC,EAAwE,EAAxEA,gBAAiBC,EAAuD,EAAvDA,WAAYtU,EAA2C,EAA3CA,OAAQgS,EAAmC,EAAnCA,QAAkB/K,EAAiB,EAA1BC,SACnFqN,EAAkC,SAAAD,GACtC,OAAOA,EAAW7sB,KAAI,SAAA0sB,GAAS,MAAG,CAACA,YAAWH,WAAW,OAG3D,EAA4CrZ,mBAAS4Z,EAAgCD,IAArF,mBAAOE,EAAP,KAAuBC,EAAvB,KAEAla,qBAAU,kBACRka,EAAkBF,EAAgCD,MAClD,CAACA,IAEHja,GAAcma,EAAgB,qBAE9B,IAeME,EAA6D,SAACC,EAAkBC,GACpFH,GAAkB,SAAAI,GAChB,IAAMC,EAAiB,YAAOD,GAG9B,OADAC,EAD8BD,EAAuBzrB,QAAQurB,IAClBC,EACpCE,MAIX,OACE,gBAAC5B,GAAA,EAAD,CAAOhoB,GAAG,qCAAqCioB,KAAMnT,EAAQoT,OAAQpB,EAArE,UACE,gBAACkB,GAAA,EAAMG,OAAP,WACE,eAACH,GAAA,EAAMI,MAAP,CAAapV,UAAU,cAAvB,oCACA,yBAAQA,UAAU,YAAY/K,KAAK,SAAS4hB,kBAAgB,QAAQxW,QAASyT,OAE/E,wBAAM9T,UAAU,oCAAoCgJ,SA9BvC,SAAA9L,GAEfA,EAAMoM,iBAGN,IAAMwN,EAAsBR,EAAevuB,QAAO,SAAA6tB,GAAa,OAAEA,EAAcE,aAAWvsB,KAAI,SAAAqsB,GAAa,OAAEA,EAAcK,aAE3HroB,QAAQC,IAAI,8DAA+DipB,GAG3E,IAAMC,EAA0BZ,EAAgBpuB,QAAO,SAAAivB,GAAc,OAAGnhB,EAAuBmhB,EAAgBF,MAE/G/N,EAAagO,IAkBX,UACE,gBAAC/B,GAAA,EAAMQ,KAAP,WACE,+BAAIY,EAAWnpB,OAAf,uFACA,sBAAK+S,UAAU,gBAAf,SAEIsW,EAAe/sB,KAAI,SAACqsB,EAAejsB,GAAhB,OACjB,eAAC,GAAD,CAA4DqD,GAAIrD,EAAGisB,cAAeA,EAAejV,SAAU6V,GAAlD7sB,WAKjE,gBAACqrB,GAAA,EAAMU,OAAP,WACE,yBAAQ1V,UAAU,oBAAoB/K,KAAK,SAASmV,SAAS,IAAI/J,QAASyT,EAA1E,2BACA,yBAAQ9T,UAAU,kBAAkB/K,KAAK,SAASmV,SAAS,IAA3D,gCCXK6M,I,MAjD0B,SAAC,GAAwE,IAAtEtkB,EAAqE,EAArEA,aAA0BmP,GAA2C,EAAvDsU,WAAuD,EAA3CtU,QAAQgS,EAAmC,EAAnCA,QAAkB/K,EAAiB,EAA1BC,SAO/EkO,EAAyBxsB,KAAK6E,IAAL,MAAA7E,KAAI,YAAQiI,EAAapJ,KAAI,qBAAE6J,gBAAmCqC,mBAAmB,QAAS,CAACC,SAAU,QAAQzI,YAC1IkqB,EAAgBzsB,KAAK6E,IAAL,MAAA7E,KAAI,YAAQiI,EAAapJ,KAAI,gBAAE8J,EAAF,EAAEA,OAAF,MAAY,UAAGA,GAAU,EAAI,IAAM,IAAvB,OAA4BuC,EAAwBvC,IAAUpG,YACvHmqB,EAAqB1sB,KAAK6E,IAAL,MAAA7E,KAAI,YAAQiI,EAAapJ,KAAI,qBAAE4J,YAA2BlG,YAErF,OACE,gBAAC+nB,GAAA,EAAD,CAAOhV,UAAU,qCAAqCiV,KAAMnT,EAAQoT,OAAQpB,EAA5E,UACE,gBAACkB,GAAA,EAAMG,OAAP,WACE,eAACH,GAAA,EAAMI,MAAP,CAAapV,UAAU,cAAvB,oCACA,yBAAQA,UAAU,YAAY/K,KAAK,SAAS4hB,kBAAgB,QAAQxW,QAASyT,OAE/E,wBAAM9T,UAAU,0CAA0CgJ,SAhB7C,SAAA9L,GACfA,EAAMoM,iBAENP,EAAapW,IAaX,UACE,gBAACqiB,GAAA,EAAMQ,KAAP,WACE,wDAA0B7iB,EAAa1F,OAAvC,oBACA,sBAAK+S,UAAU,gBAAf,SAEIrN,EAAapJ,KAAI,SAAC3B,EAAa+B,GAC7B,IAAM0tB,EAAwBzvB,EAAYwL,gBAAgBqC,mBAAmB,QAAS,CAACC,SAAU,QAC3F4hB,EAAY,UAAM1vB,EAAYyL,QAAU,EAAI,IAAM,IAAtC,OAA2CuC,EAAwBhO,EAAYyL,SAC3FkkB,EAAoB3vB,EAAYuL,YAEhCqkB,EAAwB/vB,MAAMyvB,EAAuBG,EAAsBpqB,QAAQgW,KAAK,KAAKjZ,KAAK,IAClGytB,EAAehwB,MAAM0vB,EAAcG,EAAarqB,QAAQgW,KAAK,KAAKjZ,KAAK,IACvE0tB,EAAoBjwB,MAAM2vB,EAAmBG,EAAkBtqB,QAAQgW,KAAK,KAAKjZ,KAAK,IAE5F,OACE,sBAAagW,UAAU,wBAAvB,mBACMqX,GADN,OAC8BG,EAD9B,aACwDF,GADxD,OACuEG,EADvE,aACwFF,GADxF,OAC4GG,IADlG/tB,WAQpB,gBAACqrB,GAAA,EAAMU,OAAP,WACE,yBAAQ1V,UAAU,oBAAoB/K,KAAK,SAASmV,SAAS,IAAI/J,QAASyT,EAA1E,2BACA,yBAAQ9T,UAAU,kBAAkB/K,KAAK,SAASmV,SAAS,IAA3D,sCCtCKuN,I,MARsB,SAAC,GAAe,IAAbtX,EAAY,EAAZA,QACtC,OACE,sBAAKL,UAAU,6FAA6FK,QAASA,EAArH,SACE,uBAAML,UAAU,sCAAhB,mBCkGS4X,I,MAvFU,SAAC,GAAmyB,IAAjyBjlB,EAAgyB,EAAhyBA,aAAcyG,EAAkxB,EAAlxBA,YAAaqK,EAAqwB,EAArwBA,gBAAiBoU,EAAovB,EAApvBA,iDAAkDC,EAAksB,EAAlsBA,4CAA6CC,EAAqpB,EAArpBA,wCAAyCC,EAA4mB,EAA5mBA,yCAA0CC,EAAkkB,EAAlkBA,0CAA0EC,EAAwf,EAAvhBC,+BAA2GC,EAA4a,EAApd/O,wCAAoHgP,EAAgW,EAA/XC,+BAAkGC,EAA6R,EAA5TC,+BAAmEC,EAAyP,EAAzPA,6CAA8CC,EAA2M,EAA3MA,uCAAwCC,EAAmK,EAAnKA,sCAAuCC,EAA4H,EAA5HA,yCAA0CvU,EAAkF,EAAlFA,oBAAqBwU,EAA6D,EAA7DA,sBAAuBC,EAAsC,EAAtCA,iBAAkBnR,EAAoB,EAApBA,gBAEhyBC,EAAQC,cAAcC,SAC5BzL,qBAAU,WACRsL,EAAgBC,KACf,CAACA,IAEJ,MAAsEnL,oBAAS,GAA/E,mBAAOsc,EAAP,KAAoCC,EAApC,KAEA,EAAkFvc,mBAAS,MAA3F,mBAAOwc,EAAP,KAA0CC,EAA1C,KACA,EAAwEzc,oBAAS,GAAjF,mBAAO0c,EAAP,KAAqCC,EAArC,KACA,EAAkF3c,mBAAS,MAA3F,mBAAO4c,EAAP,KAA0CC,EAA1C,KACA,EAAwE7c,oBAAS,GAAjF,mBAAO8c,EAAP,KAAqCC,EAArC,KAEM/a,EAA0BlB,GAA2B5K,EAAcyG,GAwBnEqgB,EAA8B,WAClCL,GAAgC,IAO5BM,EAA8B,WAClCF,GAAgC,IAuBlC,OACE,uBAAKxZ,UAAU,yBAAf,UACE,eAAC,GAAD,CAA8BrN,aAAcA,EAAcyG,YAAaA,EAAaqK,gBAAiBA,EAAiB9C,SAAU0D,EAAqBX,UAAQ,IAC7J,uBAAK1D,UAAU,sBAAf,UACE,qBAAIA,UAAU,uBAAd,0BACA,eAAC,GAAD,CAAwB8B,OAAQiX,EAA6B/P,SAvD5B,SAAAG,GAErC6P,GAA+B,GAE/Bd,EAAmC/O,IAmDwED,kBAhD7D,SAAAO,GAE9CuP,GAA+B,GAE/BZ,EAA4C3O,MA6CxC,eAAC,GAAD,CAAkBhL,wBAAyBA,EAAyBiR,6BA1BrC,SAAA9nB,GACnCsxB,EAAqCtxB,GAhBrCwxB,GAAgC,IAyCoGxJ,+BArB/F,SAAAhoB,GACrC0xB,EAAqC1xB,GAbrC4xB,GAAgC,MAkC5B,eAAC,GAAD,CAA8BnZ,QA7DO,SAAAnD,GACzC8b,GAA+B,SAAAW,GAAO,OAAGA,QA6DrC,eAAC,GAAD,CAAwB/xB,YAAaqxB,EAAmCxV,gBAAiBA,EAAiBkQ,WAAYkF,EAAuBjF,MAAOkF,EAAkBhX,OAAQqX,EAA8BrF,QAAS2F,EAA6BzQ,SAlBjN,SAACuM,GACtC8C,EAAmCY,EAAmC1D,GACtEkE,OAiBI,eAAC,GAAD,CAAwB7xB,YAAayxB,EAAmCvX,OAAQyX,EAA8BzF,QAAS4F,EAA6B1Q,SAdnH,SAAC4Q,GACtCrB,EAAmCc,EAAmCO,GACtEF,OAaI,eAAC,GAAD,CAAmCvD,gBAAiB0B,EAAkDzB,WAAY0B,EAA6ChW,OAAQiW,EAAyCjE,QAASkE,EAA0ChP,SAAUiP,IAC7Q,eAAC,GAAD,CAAkCtlB,aAAc8lB,EAA8C3W,OAAQ4W,EAAwC5E,QAAS6E,EAAuC3P,SAAU4P,YCtEjMiB,I,MAvBO,SAAC,GAAe,IAAbC,EAAY,EAAZA,QACvB,EAAwBrd,mBAASqd,EAAQ3pB,MAAQ,IAAjD,mBAAOA,EAAP,KAAa4pB,EAAb,KACA,EAA0Btd,mBAASqd,EAAQpwB,OAAS,IAApD,mBAAOA,EAAP,KAAc2X,EAAd,KAEAhF,qBAAU,WACHyd,IAELC,EAAQD,EAAQ3pB,MAAQ,IACxBkR,EAASyY,EAAQpwB,OAAS,OACzB,CAACowB,IAMJ,OACE,uBAAK9Z,UAAU,qBAAf,UACE,wBAAOgW,QAAS7lB,EAAM6P,UAAU,aAAhC,SAA8C7P,IAC9C,wBAAOnD,GAAImD,EAAM6P,UAAU,eAAe7P,KAAMA,EAAM8E,KAAK,OAAOvL,MAAOA,EAAOiX,SAPnE,SAAAzD,GACfmE,EAASnE,EAAMuF,OAAO/Y,eCOXswB,I,MAnBM,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,SAAmBlR,EAAiB,EAA1BC,SAShC,OACE,wBAAMA,SATS,SAAA9L,GACfA,EAAMoM,iBAEN,IAAM4Q,EAAoB,YAAIhd,EAAMuF,OAAO4J,iBAAiB,0BAA0B3kB,QAAO,SAAC2B,EAAD,OAAQ8G,EAAR,EAAQA,KAAMzG,EAAd,EAAcA,MAAd,mBAAC,eAA2BL,GAA5B,kBAAmC8G,EAAOzG,MAAS,IAEhJqf,EAAamR,IAIb,UACGryB,OAAOwN,QAAQ4kB,GAAU1wB,KAAI,mCAAE4G,EAAF,KAAQ8Z,EAAR,YAAkB,eAAC,GAAD,CAA0B6P,QAAO,aAAG3pB,QAAS8Z,IAAzB9Z,MACpE,sBAAK6P,UAAU,qCAAf,SACE,yBAAQA,UAAU,kBAAkB/K,KAAK,SAAzC,yBCOOklB,I,MAjBM,SAAC,GAA2C,IAAzCxS,EAAwC,EAAxCA,gBAAiBsS,EAAuB,EAAvBA,SAAUjR,EAAa,EAAbA,SAE3CpB,EAAQC,cAAcC,SAK5B,OAJAzL,qBAAU,WACRsL,EAAgBC,KACf,CAACA,IAGF,sBAAK5H,UAAU,qBAAf,SACE,uBAAKA,UAAU,YAAf,UACE,qBAAIA,UAAU,uBAAd,sBACA,eAAC,GAAD,CAAcia,SAAUA,EAAUjR,SAAUA,WCerCoR,I,MA5BM,SAAC,GAAc,IAAZC,EAAW,EAAXA,OAChBC,EAAe5a,iBAAO,MAe5B,OAJArD,qBAAU,YATY,SAACge,EAAQC,GAC7B,GAAKD,EAAL,CACA,IAAME,EAAsDC,eAAyC,MAAXH,EAAiB,aAAeA,GACpHI,EAAQ,YAAOH,EAAaza,QAAQwM,iBAAiB,qBACrDqO,EAAaD,EAAShsB,MAAK,SAAAksB,GAAO,OAAEA,EAAQjY,aAAa,UAAY6X,KAC3EE,EAAS9jB,SAAQ,SAAAgkB,GAAO,OAAEA,EAAQ7F,UAAU8F,OAAO,aAC/CF,GAAYA,EAAW5F,UAAU+F,IAAI,WAIzCC,CAAcT,EAAQC,KACrB,CAACD,IAGF,yBAAQra,UAAU,sBAAsBE,IAAKoa,EAA7C,SACE,uBAAKta,UAAU,yCAAf,UACE,gBAAC,IAAD,CAAMA,UAAU,8CAA8CC,GAAG,aAAjE,UAA8E,oBAAGD,UAAU,0CAA3F,eACA,gBAAC,IAAD,CAAMA,UAAU,8CAA8CC,GAAG,WAAjE,UAA4E,oBAAGD,UAAU,+CAAzF,aACA,gBAAC,IAAD,CAAMA,UAAU,8CAA8CC,GAAG,gBAAjE,UAAiF,oBAAGD,UAAU,0CAA9F,kBACA,gBAAC,IAAD,CAAMA,UAAU,8CAA8CC,GAAG,YAAjE,UAA6E,oBAAGD,UAAU,0CAA1F,qBCEO+a,I,MAxBa,SAAC,GAAwD,IAAtDd,EAAqD,EAArDA,SAAUnY,EAA2C,EAA3CA,OAAQgS,EAAmC,EAAnCA,QAAkB/K,EAAiB,EAA1BC,SAOxD,OACE,gBAACgM,GAAA,EAAD,CAAOhoB,GAAG,wBAAwBioB,KAAMnT,EAAQoT,OAAQpB,EAAxD,UACE,gBAACkB,GAAA,EAAMG,OAAP,WACE,eAACH,GAAA,EAAMI,MAAP,CAAapV,UAAU,cAAvB,8BACA,yBAAQA,UAAU,YAAY/K,KAAK,SAAS4hB,kBAAgB,QAAQxW,QAASyT,OAE/E,gBAACkB,GAAA,EAAMQ,KAAP,WACE,uBAAKxV,UAAU,gDAAgDgb,KAAK,QAApE,UACE,oBAAGhb,UAAU,qCADf,qDAIA,eAAC,GAAD,CAAcia,SAAUA,EAAUjR,SAjBvB,SAAAkR,GACfnR,EAAamR,GAEbpG,eCUWmH,I,MAfa,SAAC,GAAoB,IAAlBvT,EAAiB,EAAjBA,aAC7B,OACE,uBAAK1H,UAAU,WAAf,UACE,0BAAQA,UAAU,2BAA2B/K,KAAK,SAASjI,GAAG,cAAc8W,iBAAe,WAAWC,gBAAc,QAApH,UACE,sBAAK/D,UAAU,oBAAoBxD,IAAKkL,EAAazV,SAAUipB,IAAI,yBACnE,uBAAMlb,UAAU,mBAAhB,SAAoC0H,EAAa7V,eAEnD,qBAAImO,UAAU,gBAAgBmb,kBAAgB,cAA9C,SACE,8BAAI,oBAAGnb,UAAU,gBAAgBK,QAAS9O,EAAtC,+BCMG4jB,I,MAbA,SAAC,GAAoB,IAAlBzN,EAAiB,EAAjBA,aAChB,OACE,yBAAQ1H,UAAU,oDAAlB,SACE,uBAAKA,UAAU,2CAAf,UACE,eAAC,GAAD,CAAMd,OAAK,IACX,sBAAKc,UAAU,mDAAf,SACE,eAAC,GAAD,CAAqB0H,aAAcA,aC4a9B0T,I,YA7ZH,WAEV,MAAwC3e,mBAAS,IAAjD,mBAAO9J,EAAP,KAAqB0oB,EAArB,KACA,EAAsC5e,mBAAS,IAA/C,mBAAOmC,EAAP,KAAoB0c,EAApB,KACA,EAAwC7e,mBAAS,IAAjD,mBAAO2H,EAAP,KAAqBmX,EAArB,KACA,EAAsC9e,mBAAS,IAA/C,mBAAO0H,EAAP,KAAoBqX,EAApB,KAEA,EAAwC/e,mBAAS,MAAjD,mBAAO6d,EAAP,KAAqB3S,EAArB,KACA,EAAsClL,mBAASvI,GAAuB,IAAI/H,OAA1E,mBAAOiN,EAAP,KAAoB2a,EAApB,KACA,EAAgHtX,mBAAS,IAAzH,mBAAOob,EAAP,KAAyD4D,EAAzD,KACA,EAAsGhf,mBAAS,IAA/G,mBAAOqb,EAAP,KAAoD4D,EAApD,KACA,EAA8Fjf,oBAAS,GAAvG,mBAAOsb,EAAP,KAAgD4D,GAAhD,KACA,GAAwGlf,mBAAS,IAAjH,qBAAOgc,GAAP,MAAqDmD,GAArD,MACA,GAA4Fnf,oBAAS,GAArG,qBAAOic,GAAP,MAA+CmD,GAA/C,MACA,GAAwCpf,wBAAS1P,GAAjD,qBAAO2a,GAAP,MAAqBoU,GAArB,MACA,GAAkErf,oBAAS,GAA3E,qBAAOsf,GAAP,MAAkCC,GAAlC,MACA,GAAoEvf,oBAAS,GAA7E,qBAAO8C,GAAP,MAAmCC,GAAnC,MAGMya,GAAW,CACf,YAAa,CACXvwB,MAAOZ,IACPmzB,OAAQ,SAAAjzB,GAAQ,OAAEC,EAAYD,KAEhC,iBAAkB,CAChBU,MAAOpB,IACP2zB,OAAQ,SAAAzzB,GAAa,OAAEC,EAAiBD,MAmB5C,GAA8CiU,mBAAS7C,GAAmBjH,IAA1E,qBAAO8Q,GAAP,MAAwByY,GAAxB,MACMnd,GAAqBJ,GAAsBC,EAAaxF,GACxDyf,GAAqB,CAAI,MAAJ,mBAAa9Z,GAAmBxV,KAAI,SAAA0N,GAAC,OAAEA,EAAEsO,UAGpElJ,qBAAU,kBACR6f,GAAmBtiB,GAAmBjH,MACtC,CAACA,IAKHwJ,GAAcxJ,EAAc,sBAC5BwJ,GAAcyC,EAAa,gBAC3BzC,GAAciI,EAAc,kBAC5BjI,GAAcgI,EAAa,iBAC3BhI,GAAcuL,GAAc,iBAC5BvL,GAAcsH,GAAiB,oBAC/BtH,GAAc/C,EAAa,gBAE3B,IAAM+iB,GAAa5f,GAAU,qCAGvB6f,GAAe,SAAAC,GAEnBx0B,OAAOwN,QAAQgnB,GAAe1lB,SAAQ,mCAAE2lB,EAAF,KAAeC,EAAf,YACpCtC,GAASqC,GAAaL,OAAOM,OAI3BC,GAAkB,uCAAG,sBAAAlvB,EAAA,yDACrB6uB,GADqB,0DAKvBtsB,EAAkB4sB,GAAgBA,IALX,mDASN,6BAAb,KAAItsB,KATe,0CAUdusB,MAVc,iCAahBnsB,GAAe,EAAD,KAbE,yDAAH,qDAiBlB8T,GAAsB,SAAAjL,GAC1B2a,EAAe3a,IAqCXujB,GAAyB,SAACC,EAAsBzG,EAAiB0G,EAAUC,GAE/E,GAAKr1B,MAAMsC,QAAQosB,IAAoBA,EAAgBlpB,QAA6B,IAApBkpB,IAA8BA,EAAkB,OAAOyG,EAGvH,IAAIjqB,EACJ,GAAIwjB,EAAiB,CAEnB,IAAI4G,EAAoB5G,EAClBA,aAA2B1uB,QAAQs1B,EAAoB,CAAC5G,IAG9D,IAAM6G,EjD/JyB,SAAUrqB,GAC7C,OAAOA,EAAapJ,KAAI,SAAA3B,GACtB,IACE,OAAO,2BACFA,GADL,IAEE0L,WAAYrH,EAAsBrE,EAAY0L,YAC9CF,gBAAiBnH,EAAsBrE,EAAYwL,iBACnDC,OAAQvH,EAAwBE,MAAMpE,EAAYyL,QAAUzL,EAAYyL,OAAON,QAAQ,UAAW,IAAMnL,EAAYyL,QACpHO,KAAOwB,EAAQxN,EAAYgM,MAA2B,GAAnBhM,EAAYgM,KAC/CC,YAAa5H,EAAsBrE,EAAYiM,aAC/CG,YAAa/H,EAAsBrE,EAAYoM,aAC/CC,aAAchI,EAAsBrE,EAAYqM,gBAGpD,MAAO7D,GAEL,MADAxC,QAAQO,MAAMvG,GACRwI,MiD+I0B6sB,CAAsBF,GAGtDpqB,EAAeqqB,EAAwBzzB,KAAI,SAAA3B,GAAW,OjDoCV,SAASA,GAAc,IAAD,MAC/D6L,EAAoD7L,EAApD6L,mBAAoBN,EAAgCvL,EAAhCuL,YAAaO,EAAmB9L,EAAnB8L,SAAUC,EAAS/L,EAAT+L,MASlD,GACGsC,EAA4CrO,KAC5CuL,EACD,OAAOvL,EAGT,IAGI6iB,EA9NeyS,EA2NfC,EAA6B,GAO5B,GAAI1S,EAAUtX,EAAY5H,MAAM,sFAAwF4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAmB,GAAD,iBAAKgX,EAAQ,UAAb,QAAmBA,EAAQ,IAAM9W,MAAO,WAC3O,GAAI8W,EAAUtX,EAAY5H,MAAM,uFAAyF4xB,EAA6B,CAACzpB,SAAU,eAAgBD,mBAAmB,gBAAD,OAAmBgX,EAAQ,IAAMA,EAAQ,GAAtB,WAA+BA,EAAQ,GAAvC,YAA6CA,EAAQ,IAAO,IAAO9W,MAAO,WAGhS,GAAIR,EAAY5H,MAAM,yBAA2B4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,uBAAwBE,MAAO,WAG7J,GAAIR,EAAY5H,MAAM,sDAAwD4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,iBAAkBE,MAAO,WACpL,GAAI8W,EAAUtX,EAAY5H,MAAM,iBAAmB4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAmB,UAAD,OAAYgX,EAAQ,IAAM9W,MAAO,WAG/J,GAAI8W,EAAUtX,EAAY5H,MAAM,kKAAoK4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAmB,YAAD,OAAcgX,EAAQ,GAAG2S,cAAzB,aAA2C3S,EAAQ,IAAM9W,MAAO,WAC/U,GAAI8W,EAAUtX,EAAY5H,MAAM,4HAA8H4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAmB,0BAAD,iBAA4BgX,EAAQ,UAApC,QAA0CA,EAAQ,IAAM9W,MAAO,WACxS,GAAI8W,EAAUtX,EAAY5H,MAAM,wDAA0D4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAmB,kBAAD,OAAoBgX,EAAQ,GAAG2S,cAA/B,aA/OvJF,EA+OoNzS,EAAQ,GA9OxOyS,EAAO9yB,MAAM,KAAKb,KAAI,SAAA8zB,GAAI,OAAEA,EAAK,GAAGC,cAAgBD,EAAK5hB,UAAU,GAAG2hB,iBAAepzB,KAAK,OA8OqJ2J,MAAO,WAGxP,GAAI8W,EAAUtX,EAAY5H,MAAM,oIAAsI4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAmB,oBAAD,iBAAsBgX,EAAQ,UAA9B,QAAoCA,EAAQ,IAAM9W,MAAO,WAC1S,GAAI8W,EAAUtX,EAAY5H,MAAM,sCAAwC4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAmB,sBAAwBE,MAAO,WAGnL,GAAIR,EAAY5H,MAAM,yEAA2E4xB,EAA6B,CAACzpB,SAAU,uBAAwBD,mBAAoB,uBAAwBE,MAAO,WACpN,GAAIR,EAAY5H,MAAM,6GAA+G4xB,EAA6B,CAACzpB,SAAU,cAAeD,mBAAoB,cAAeE,MAAO,WACtO,GAAIR,EAAY5H,MAAM,8FAAgG4xB,EAA6B,CAACzpB,SAAU,+BAAgCD,mBAAoB,sBAAuBE,MAAO,WAChP,GAAIR,EAAY5H,MAAM,qEAAuE4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,kBAAmBE,MAAO,WAC5M,GAAIR,EAAY5H,MAAM,mFAAqF4xB,EAA6B,CAACzpB,SAAU,kBAAmBD,mBAAoB,kBAAmBE,MAAO,WACpN,GAAIR,EAAY5H,MAAM,kEAAoE4xB,EAA6B,CAACzpB,SAAU,4BAA6BD,mBAAoB,4BAA6BE,MAAO,WACvN,GAAIR,EAAY5H,MAAM,uEAAyE4xB,EAA6B,CAACzpB,SAAU,sBAAuBD,mBAAoB,sBAAuBE,MAAO,WAChN,GAAIR,EAAY5H,MAAM,+BAAiC4xB,EAA6B,CAACzpB,SAAU,uBAAwBD,mBAAoB,aAAcE,MAAO,WAChK,GAAIR,EAAY5H,MAAM,yCAA2C4xB,EAA6B,CAACzpB,SAAU,mCAAoCD,mBAAoB,mCAAoCE,MAAO,WAC5M,GAAIR,EAAY5H,MAAM,qDAAuD4xB,EAA6B,CAACzpB,SAAU,sBAAuBD,mBAAoB,aAAcE,MAAO,WACrL,GAAIR,EAAY5H,MAAM,yCAA2C4xB,EAA6B,CAACzpB,SAAU,4BAA6BD,mBAAoB,aAAcE,MAAO,WAC/K,GAAIR,EAAY5H,MAAM,iCAAmC4xB,EAA6B,CAACzpB,SAAU,+BAAgCD,mBAAoB,kBAAmBE,MAAO,WAC/K,GAAIR,EAAY5H,MAAM,+BAAiC4xB,EAA6B,CAACzpB,SAAU,+BAAgCD,mBAAoB,kBAAmBE,MAAO,WAC7K,GAAIR,EAAY5H,MAAM,+DAAiE4xB,EAA6B,CAACzpB,SAAU,8BAA+BD,mBAAoB,iBAAkBE,MAAO,WAC3M,GAAIR,EAAY5H,MAAM,sCAAwC4xB,EAA6B,CAACzpB,SAAU,+BAAgCD,mBAAoB,UAAWE,MAAO,WAC5K,GAAIR,EAAY5H,MAAM,gCAAkC4xB,EAA6B,CAACzpB,SAAU,oBAAqBD,mBAAoB,oBAAqBE,MAAO,WACrK,GAAIR,EAAY5H,MAAM,yDAA2D4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,gBAAiBE,MAAO,WACtL,GAAIR,EAAY5H,MAAM,gDAAkD4xB,EAA6B,CAACzpB,SAAU,mBAAoBD,mBAAoB,mBAAoBE,MAAO,WACnL,GAAIR,EAAY5H,MAAM,uCAAyC4xB,EAA6B,CAACzpB,SAAU,sBAAuBD,mBAAoB,sBAAuBE,MAAO,WAKhL,GAAIR,EAAY5H,MAAM,wCAAyC4xB,EAA6B,CAACzpB,SAAU,MAAOD,mBAAoB,WAAYE,MAAO,WACrJ,GAAIR,EAAY5H,MAAM,6BAA8B4xB,EAA6B,CAACzpB,SAAU,MAAOD,mBAAoB,WAAYE,MAAO,WAC1I,GAAIR,EAAY5H,MAAM,2BAA4B4xB,EAA6B,CAACzpB,SAAU,MAAOD,mBAAoB,WAAYE,MAAO,WACxI,GAAIR,EAAY5H,MAAM,yBAA0B4xB,EAA6B,CAACzpB,SAAU,MAAOD,mBAAoB,QAASE,MAAO,WACnI,GAAIR,EAAY5H,MAAM,qDAAsD4xB,EAA6B,CAACzpB,SAAU,MAAOD,mBAAoB,SAAUE,MAAO,WAChK,GAAIR,EAAY5H,MAAM,mCAAoC4xB,EAA6B,CAACzpB,SAAU,MAAOD,mBAAoB,QAASE,MAAO,WAC7I,GAAIR,EAAY5H,MAAM,kCAAmC4xB,EAA6B,CAACzpB,SAAU,MAAOD,mBAAoB,aAAcE,MAAO,WACjJ,GAAIR,EAAY5H,MAAM,gCAAiC4xB,EAA6B,CAACzpB,SAAU,MAAOD,mBAAoB,WAAYE,MAAO,WAC7I,GAAIR,EAAY5H,MAAM,0BAA2B4xB,EAA6B,CAACzpB,SAAU,MAAOD,mBAAoB,+BAAgCE,MAAO,WAC3J,GAAIR,EAAY5H,MAAM,mCAAoC4xB,EAA6B,CAACzpB,SAAU,MAAOD,mBAAoB,WAAYE,MAAO,WAChJ,GAAIR,EAAY5H,MAAM,+BAAgC4xB,EAA6B,CAACzpB,SAAU,MAAOD,mBAAoB,WAAYE,MAAO,WAC5I,GAAIR,EAAY5H,MAAM,wBAAyB4xB,EAA6B,CAACzpB,SAAU,MAAOD,mBAAoB,OAAQE,MAAO,WACjI,GAAIR,EAAY5H,MAAM,yBAA0B4xB,EAA6B,CAACzpB,SAAU,MAAOD,mBAAoB,SAAUE,MAAO,WACpI,GAAIR,EAAY5H,MAAM,6BAA8B4xB,EAA6B,CAACzpB,SAAU,MAAOD,mBAAoB,aAAcE,MAAO,WAG5I,GAAIR,EAAY5H,MAAM,wDAAyD4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,sBAAuBE,MAAO,uBAClM,GAAIR,EAAY5H,MAAM,+CAAgD4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,sBAAuBE,MAAO,WACzL,GAAIR,EAAY5H,MAAM,2BAA4B4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,SAAUE,MAAO,WACxJ,GAAIR,EAAY5H,MAAM,kCAAmC4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,SAAUE,MAAO,WAC/J,GAAIR,EAAY5H,MAAM,0BAA2B4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,SAAUE,MAAO,WACvJ,GAAIR,EAAY5H,MAAM,6BAA8B4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,YAAaE,MAAO,WAC7J,GAAIR,EAAY5H,MAAM,gCAAiC4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,aAAcE,MAAO,WACjK,GAAIR,EAAY5H,MAAM,wEAAyE4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,aAAcE,MAAO,WACzM,GAAIR,EAAY5H,MAAM,oCAAqC4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,6BAA8BE,MAAO,WAC7K,GAAIR,EAAY5H,MAAM,wBAAyB4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,OAAQE,MAAO,WACnJ,GAAIR,EAAY5H,MAAM,uBAAwB4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,OAAQE,MAAO,WAClJ,GAAIR,EAAY5H,MAAM,6BAA8B4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,aAAcE,MAAO,WAE9J,GAAIR,EAAY5H,MAAM,0BAA2B4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,SAAUE,MAAO,WACvJ,GAAIR,EAAY5H,MAAM,gCAAiC4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,oBAAqBE,MAAO,WACxK,GAAIR,EAAY5H,MAAM,+BAAgC4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,SAAUE,MAAO,WAC5J,GAAIR,EAAY5H,MAAM,+BAAgC4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,QAASE,MAAO,WAC3J,GAAIR,EAAY5H,MAAM,2BAA4B4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,cAAeE,MAAO,WAC7J,GAAIR,EAAY5H,MAAM,kCAAmC4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,iBAAkBE,MAAO,WACvK,GAAIR,EAAY5H,MAAM,mBAAoB4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,YAAaE,MAAO,WACnJ,GAAIR,EAAY5H,MAAM,kEAAoE4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,eAAgBE,MAAO,WACtM,GAAIR,EAAY5H,MAAM,qCAAuC4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,uBAAwBE,MAAO,WACjL,GAAIR,EAAY5H,MAAM,qEAAuE4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,YAAaE,MAAO,WACtM,GAAIR,EAAY5H,MAAM,gCAAkC4xB,EAA6B,CAACzpB,SAAU,wBAAyBD,mBAAoB,QAASE,MAAO,WAG7J,GAAIR,EAAY5H,MAAM,uCAAyC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,aAAcE,MAAO,WAClK,GAAIR,EAAY5H,MAAM,wCAA0C4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,cAAeE,MAAO,WACpK,GAAIR,EAAY5H,MAAM,sCAAwC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,iBAAkBE,MAAO,WACrK,GAAIR,EAAY5H,MAAM,mCAAqC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,WAAYE,MAAO,WAC5J,GAAIR,EAAY5H,MAAM,4BAA8B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,UAAWE,MAAO,WACpJ,GAAIR,EAAY5H,MAAM,8BAAgC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,UAAWE,MAAO,WACtJ,GAAIR,EAAY5H,MAAM,sCAAwC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,WAAYE,MAAO,WAC/J,GAAIR,EAAY5H,MAAM,8BAAgC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,SAAUE,MAAO,WACrJ,GAAIR,EAAY5H,MAAM,4BAA8B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,kBAAmBE,MAAO,WAC5J,GAAIR,EAAY5H,MAAM,8BAAgC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,kBAAmBE,MAAO,WAC9J,GAAIR,EAAY5H,MAAM,gCAAkC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,iBAAkBE,MAAO,WAC/J,GAAIR,EAAY5H,MAAM,+BAAiC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,YAAaE,MAAO,WACzJ,GAAIR,EAAY5H,MAAM,6BAA+B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,WAAYE,MAAO,WACtJ,GAAIR,EAAY5H,MAAM,0BAA4B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,SAAUE,MAAO,WACjJ,GAAIR,EAAY5H,MAAM,gCAAkC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,qBAAsBE,MAAO,WACnK,GAAIR,EAAY5H,MAAM,oCAAsC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,sBAAuBE,MAAO,WACxK,GAAIR,EAAY5H,MAAM,uCAAyC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,MAAOE,MAAO,WAC3J,GAAIR,EAAY5H,MAAM,+BAAiC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,cAAeE,MAAO,WAC3J,GAAIR,EAAY5H,MAAM,sBAAwB4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,YAAaE,MAAO,WAChJ,GAAIR,EAAY5H,MAAM,sBAAwB4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,MAAOE,MAAO,WAC1I,GAAIR,EAAY5H,MAAM,oCAAsC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,UAAWE,MAAO,WAC5J,GAAIR,EAAY5H,MAAM,2BAA6B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,UAAWE,MAAO,WACnJ,GAAIR,EAAY5H,MAAM,qCAAuC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,aAAcE,MAAO,WAChK,GAAIR,EAAY5H,MAAM,6BAA+B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,YAAaE,MAAO,WACvJ,GAAIR,EAAY5H,MAAM,4DAA8D4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,WAAYE,MAAO,WACrL,GAAIR,EAAY5H,MAAM,6BAA+B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,YAAaE,MAAO,WACvJ,GAAIR,EAAY5H,MAAM,0CAA4C4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,aAAcE,MAAO,WACrK,GAAIR,EAAY5H,MAAM,2BAA6B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,YAAaE,MAAO,WACrJ,GAAIR,EAAY5H,MAAM,2CAA6C4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,YAAaE,MAAO,WACrK,GAAIR,EAAY5H,MAAM,wCAA0C4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,eAAgBE,MAAO,WACrK,GAAIR,EAAY5H,MAAM,2BAA6B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,8BAA+BE,MAAO,WACvK,GAAIR,EAAY5H,MAAM,2CAA6C4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,WAAYE,MAAO,WACpK,GAAIR,EAAY5H,MAAM,8BAAgC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,kBAAmBE,MAAO,WAC9J,GAAIR,EAAY5H,MAAM,sBAAwB4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,UAAWE,MAAO,WAC9I,GAAIR,EAAY5H,MAAM,yBAA2B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,aAAcE,MAAO,WACpJ,GAAIR,EAAY5H,MAAM,uBAAyB4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,OAAQE,MAAO,WAC5I,GAAIR,EAAY5H,MAAM,+BAAiC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,eAAgBE,MAAO,WAC5J,GAAIR,EAAY5H,MAAM,wCAA0C4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,gBAAiBE,MAAO,WACtK,GAAIR,EAAY5H,MAAM,0BAA4B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,UAAWE,MAAO,WAClJ,GAAIR,EAAY5H,MAAM,yCAA2C4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,0BAA2BE,MAAO,WACjL,GAAIR,EAAY5H,MAAM,iCAAmC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,gBAAiBE,MAAO,WAC/J,GAAIR,EAAY5H,MAAM,4BAA8B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,gBAAiBE,MAAO,WAC1J,GAAIR,EAAY5H,MAAM,6BAA+B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,YAAaE,MAAO,WACvJ,GAAIR,EAAY5H,MAAM,+CAAiD4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,wBAAyBE,MAAO,WACrL,GAAIR,EAAY5H,MAAM,4BAA8B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,YAAaE,MAAO,WACtJ,GAAIR,EAAY5H,MAAM,uCAAyC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,mBAAoBE,MAAO,WACxK,GAAIR,EAAY5H,MAAM,6BAA+B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,iBAAkBE,MAAO,WAC5J,GAAIR,EAAY5H,MAAM,qCAAuC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,yBAA0BE,MAAO,WAC5K,GAAIR,EAAY5H,MAAM,kCAAoC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,eAAgBE,MAAO,WAC/J,GAAIR,EAAY5H,MAAM,2BAA6B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,8BAA+BE,MAAO,WACvK,GAAIR,EAAY5H,MAAM,4BAA8B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,YAAaE,MAAO,WACtJ,GAAIR,EAAY5H,MAAM,wBAA0B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,YAAaE,MAAO,WAClJ,GAAIR,EAAY5H,MAAM,qCAAuC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,2BAA4BE,MAAO,WAC9K,GAAIR,EAAY5H,MAAM,8BAAgC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,aAAcE,MAAO,WACzJ,GAAIR,EAAY5H,MAAM,6BAA+B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,SAAUE,MAAO,WACpJ,GAAIR,EAAY5H,MAAM,8BAAgC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,kBAAmBE,MAAO,WAC9J,GAAIR,EAAY5H,MAAM,2BAA6B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,eAAgBE,MAAO,WACxJ,GAAIR,EAAY5H,MAAM,mBAAqB4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,OAAQE,MAAO,WACxI,GAAIR,EAAY5H,MAAM,+BAAiC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,cAAeE,MAAO,WAC3J,GAAIR,EAAY5H,MAAM,8BAAgC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,kBAAmBE,MAAO,WAC9J,GAAIR,EAAY5H,MAAM,0BAA4B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,qBAAsBE,MAAO,WAC7J,GAAIR,EAAY5H,MAAM,+BAAiC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,eAAgBE,MAAO,WAC5J,GAAIR,EAAY5H,MAAM,oCAAsC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,mBAAoBE,MAAO,WACrK,GAAIR,EAAY5H,MAAM,oCAAsC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,kBAAmBE,MAAO,WACpK,GAAIR,EAAY5H,MAAM,kCAAoC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,YAAaE,MAAO,WAC5J,GAAIR,EAAY5H,MAAM,qCAAuC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,iBAAkBE,MAAO,WACpK,GAAIR,EAAY5H,MAAM,0BAA4B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,cAAeE,MAAO,WACtJ,GAAIR,EAAY5H,MAAM,kCAAoC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,eAAgBE,MAAO,WAC/J,GAAIR,EAAY5H,MAAM,sCAAwC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,UAAWE,MAAO,WAC9J,GAAIR,EAAY5H,MAAM,4BAA8B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,aAAcE,MAAO,WACvJ,GAAIR,EAAY5H,MAAM,8BAAgC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,SAAUE,MAAO,WACrJ,GAAIR,EAAY5H,MAAM,6BAA+B4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,iBAAkBE,MAAO,WAC5J,GAAIR,EAAY5H,MAAM,oCAAsC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,2BAA4BE,MAAO,WAC7K,GAAIR,EAAY5H,MAAM,mCAAqC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,kBAAmBE,MAAO,WACnK,GAAIR,EAAY5H,MAAM,yCAA2C4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,iCAAkCE,MAAO,WACxL,GAAIR,EAAY5H,MAAM,yCAA2C4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,qBAAsBE,MAAO,WAC5K,GAAIR,EAAY5H,MAAM,qCAAuC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,iCAAkCE,MAAO,WAEpL,GAAIR,EAAY5H,MAAM,sCAAwC4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,sBAAuBE,MAAO,WAC1K,GAAIR,EAAY5H,MAAM,yCAA2C4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,2BAA4BE,MAAO,WAClL,GAAIR,EAAY5H,MAAM,0CAA4C4xB,EAA6B,CAACzpB,SAAU,iBAAkBD,mBAAoB,aAAcE,MAAO,WAGrK,GAAIR,EAAY5H,MAAM,2CAA6C4xB,EAA6B,CAACzpB,SAAU,SAAUD,mBAAoB,mBAAoBE,MAAO,sBAKpK,GAAIR,EAAY5H,MAAM,yCAA2C4xB,EAA6B,CAACzpB,SAAU,YAAaD,mBAAoB,4BAA6BE,MAAO,WAC9K,GAAIR,EAAY5H,MAAM,0CAA4C4xB,EAA6B,CAACzpB,SAAU,YAAaD,mBAAoB,6BAA8BE,MAAO,WAGhL,GAAI8W,EAAUtX,EAAY5H,MAAM,yDAA2D4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAmB,4BAAD,OAA8BgX,EAAQ,IAAM9W,MAAO,WACzN,GAAI8W,EAAUtX,EAAY5H,MAAM,4DAA8D4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAmB,2BAAD,OAA6BgX,EAAQ,IAAM9W,MAAO,WAC3N,GAAIR,EAAY5H,MAAM,yDAA2D4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,aAAcE,MAAO,WACnL,GAAIR,EAAY5H,MAAM,8BAAgC4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,oBAAqBE,MAAO,WAC/J,GAAIR,EAAY5H,MAAM,qCAAuC4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,0BAA2BE,MAAO,WAC5K,GAAIR,EAAY5H,MAAM,mCAAqC4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,iBAAkBE,MAAO,WACjK,GAAIR,EAAY5H,MAAM,sCAAwC4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,iBAAkBE,MAAO,WACpK,GAAIR,EAAY5H,MAAM,+DAAiE4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,SAAUE,MAAO,WACrL,GAAIR,EAAY5H,MAAM,+BAAiC4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,cAAeE,MAAO,WAC1J,GAAIR,EAAY5H,MAAM,yCAA2C4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,WAAYE,MAAO,WACjK,GAAIR,EAAY5H,MAAM,0BAA4B4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,UAAWE,MAAO,WACjJ,GAAIR,EAAY5H,MAAM,qCAAuC4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,WAAYE,MAAO,WAC7J,GAAIR,EAAY5H,MAAM,gCAAkC4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,UAAWE,MAAO,WACvJ,GAAIR,EAAY5H,MAAM,6BAA+B4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,aAAcE,MAAO,WACvJ,GAAIR,EAAY5H,MAAM,kCAAoC4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,gBAAiBE,MAAO,WAC/J,GAAIR,EAAY5H,MAAM,sCAAwC4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,8BAA+BE,MAAO,WACjL,GAAIR,EAAY5H,MAAM,0CAA4C4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,wBAAyBE,MAAO,WAC/K,GAAIR,EAAY5H,MAAM,oCAAsC4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,4BAA6BE,MAAO,WAC7K,GAAIR,EAAY5H,MAAM,6BAA+B4xB,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,SAAUE,MAAO,UACnJ,KAAIR,EAAY5H,MAAM,qCAGtB,OAAO3D,EAHsDu1B,EAA6B,CAACzpB,SAAU,gBAAiBD,mBAAoB,oBAAqBE,MAAO,MAe3K,OATAwpB,EAA6B,CAE3BzpB,SAAUA,GAAYypB,EAA2BzpB,SACjDD,mBAAoBA,GAAsB0pB,EAA2B1pB,mBACrEE,MAAOA,GAASwpB,EAA2BxpB,OAKtC,uCACF/L,GACAu1B,GAFL,IAGErpB,mBAAmB,IiDjRuCypB,CAAmC31B,MAI7F,OAAIi1B,EAAiBA,EAASD,EAAsBjqB,EAAcmqB,GAC/D/iB,MAAK,SAACzM,EAAE2J,GAAH,OAAOA,EAAE7D,gBAAgB9F,EAAE8F,mBAG5BT,EAAaoH,MAAK,SAACzM,EAAE2J,GAAH,OAAOA,EAAE7D,gBAAgB9F,EAAE8F,oBAGhDoqB,GAAyB,SAAArH,GAE7BkF,GAAgB,SAAAuB,GAEd,OAAOD,GAAuBC,EAAsBzG,OAIlDsH,GAA4B,SAAAtH,GAEhCkF,GAAgB,SAAAuB,GAOd,OAAOD,GAAuBC,EAAsBzG,GANnC,SAACyG,EAAsBzG,GAEtC,OAxEiC,SAACyG,EAAsBzG,GAC5D,IAAIyG,EAAqB3vB,OAAQ,OAAOkpB,EAKxC,IAAMC,EAAa,GAUnB,OATAD,EAAgBxf,SAAQ,SAAAqgB,GACtB,IAAMf,EAAYpgB,EAAuBmhB,EAAgB4F,GACrD3G,GACFG,EAAWxrB,KAAKqrB,MAMfG,EAAWnpB,QAShBW,QAAQC,IAAI,eAAgBuoB,GAC5BqF,EAAoDtF,GACpDuF,EAA+CtF,GAC/CsH,KAEOd,IAbLhvB,QAAQC,IAAI,0BAA2BsoB,GACvCyF,GAAgDzF,GAChDwH,KACOf,GAoDEgB,CAA+BhB,EAAsBzG,UAyD5D0H,GAAwB,SAAAC,GAE5BxC,GAAe,SAAAyC,GACb,OAAKD,E/CxOyB,SAAAlf,GAClC,OAAOA,EAAYrV,KAAI,SAAAkc,GAAU,kCAC1BA,GAD0B,IAE7BpS,OAAQvH,EAAwB2Z,EAAWpS,QAC3CQ,YAAa5H,EAAsBwZ,EAAW5R,kB+CsOtBmqB,CAAqBF,GAFjB,OAO1BG,GAAyB,SAAAC,GAE7B3C,GAAgB,SAAA4C,GACd,OAAKD,ECvQ0B,SAAA9Z,GACnC,OAAOA,EAAa7a,KAAI,SAAA4a,GAAW,kCAC5BA,GAD4B,IAE/Bia,QAAStyB,EAAwBqY,EAAYia,cDsQrBC,CAAsBH,GAFjB,OAO3BI,GAAwB,SAAAC,GAE5B/C,GAAe,SAAAgD,GACb,OAAKD,EEjRyB,SAAApa,GAClC,OAAOA,EAAY5a,KAAI,SAAAF,GAAI,kCACtBA,GADsB,IAEzBsb,YAAa7Y,EAAwBzC,EAAKsb,aAC1CF,YAAaxY,EAAsB5C,EAAKob,kBF+Qdga,CAAqBF,GAFjB,OAiC1Bb,GAAwC,WAC5C/B,IAA2C,IAGvC+C,GAAyC,WAC7C/C,IAA2C,IAYvCgC,GAAuC,WAC3C9B,IAA0C,IAGtClD,GAAwC,WAC5CkD,IAA0C,IAetCY,GAAiB,SAAArrB,GACrB0qB,GAAgB1qB,IAOZsrB,GAA0B,WAC9BV,IAA6B,IAwC/B,OAzBA3f,qBAAU,kBACRmgB,OACE,CAACL,KAIL9f,qBAAU,WAER,sBAAC,sBAAA/O,EAAA,yDACMoa,GADN,6DAEC8V,GAFD,SAE8B1hB,KAF9B,8CAGC+hB,GAHD,UAG6B7hB,KAH7B,+CAICiiB,GAJD,UAI8BhiB,KAJ9B,+CAKCqiB,GALD,UAK6BpiB,KAL7B,8EAAD,KAOC,CAACwL,KAGJrL,qBAAU,WACH1J,EAAa1F,QAClB8O,GAAmBpJ,KAClB,CAACA,IAIC4M,GAYDA,KAA+BmI,GACjC,sBAAK1H,UAAU,MAAf,SACE,gBAAC,IAAD,CAAQ2e,SAAmDnE,cAA3D,UACE,eAAC,GAAD,CAAYpa,wBAAmCrT,IAAf2a,MAChC,eAAC,GAAD,CAAqBuS,SAAUA,GAAUnY,OAAQia,GAA2BjI,QArDjD,WAC/BkI,IAA6B,GAG7BQ,MAiDmHxT,SA9CjF,SAAAkR,GAClCkC,GAAalC,WAmDb,sBAAKla,UAAU,MAAf,SACE,gBAAC,IAAD,CAAQ2e,SAAmDnE,cAA3D,UACE,eAAC,GAAD,CAAQ9S,aAAcA,KACtB,gBAAC,IAAD,WACE,eAAC,IAAD,CAAOkX,KAAM,CAAC,aAAc,KAAMC,OAAK,EAAvC,SACE,eAAC,GAAD,CAAenX,aAAcA,GAAc/U,aAAcA,EAAcyR,aAAcA,EAAcD,YAAaA,EAAavF,YAAaA,EAAaxF,YAAaA,EAAaqK,gBAAiBA,GAAiBY,oBAAqBA,GAAqBsD,gBAAiBA,MAEhR,eAAC,IAAD,CAAOiX,KAAK,WAAWC,OAAK,EAA5B,SACE,eAAC,GAAD,CAAalsB,aAAcA,EAAciM,YAAaA,EAAaxF,YAAaA,EAAaqK,gBAAiBA,GAAiBY,oBAAqBA,GAAqBsD,gBAAiBA,MAE5L,eAAC,IAAD,CAAOiX,KAAK,gBAAgBC,OAAK,EAAjC,SACE,eAAC,GAAD,CAAkBlsB,aAAcA,EAAcyG,YAAaA,EAAaqK,gBAAiBA,GAAiBoU,iDAAkDA,EAAkDC,4CAA6CA,EAA6CC,wCAAyCA,EAAyCC,yCAA0C0G,GAAwCzG,0CA/Gpa,SAAClB,GAEjD2H,KAGA9C,GAAgD7E,GAChD4G,MAyG0iBxF,+BA/IrgB,SAAAhP,GAErC,IAAMxW,EAAeN,EAAmB8W,EAAyB,WAGjEsU,GAA0B9qB,IA0IglB0W,wCAvI5jB,SAAAI,GAE9C,IAAM9W,EAAeN,EAAmBoX,EAAuB,OAG/DgU,GAA0B9qB,IAkIkqB2lB,+BA/HvpB,SAACwE,EAAgBvH,IApFvB,SAACuH,EAAgB9F,GAEhDqE,GAAgB,SAAAuB,GAad,OAAOD,GAAuBC,EAAsB5F,GAZnC,SAAC4F,EAAsBzG,EAAiB2G,GAEvD,IAAM9F,EAAiBb,EAAgB,GAGjCxjB,EAAY,YAAOiqB,GAGzB,OAFAjqB,EAAaA,EAAazH,QAAQ4xB,IAAmB9F,EAE9CrkB,IAIqEmqB,MAsEhFgC,CAAyBhC,EAAgBvH,IA8HmtBiD,+BA3HvtB,SAAAoB,IArEN,SAAAA,GAE/ByB,GAAgB,SAAAuB,GAWd,OAAOD,GAAuBC,GAAsB,GAVnC,SAACA,EAAsBh1B,EAAagyB,GAEnD,IAAMjnB,EAAY,YAAOiqB,GACnBthB,EAAQ3I,EAAazH,QAAQ0uB,GAGnC,OAFAjnB,EAAarJ,OAAOgS,EAAO,GAEpB3I,IAI4DinB,MAyDvEmF,CAAyBnF,IA0HmyBnB,6CAA8CA,GAA8CC,uCAAwCA,GAAwCC,sCAAuCA,GAAuCC,yCA9FvgC,SAAAoG,GAlIf,IAAA7I,IAoIN6I,EAlI1B3D,GAAgB,SAAAuB,GAOd,OAAOD,GAAuBC,EAAsBzG,GANnC,SAACyG,EAAsBzG,GAEtC,MAAM,GAAN,mBAAWyG,GAAX,YAAoCzG,UAkIxCwC,MAyF0oCtU,oBAAqBA,GAAqBsD,gBAAiBA,EAAiBkR,sBAAuBA,GAAuBC,iBAnX7uC,CACvB,KAEA,UACA,WAGA,QACA,SACA,aACA,UACA,WACA,eAyWM,eAAC,IAAD,CAAO8F,KAAK,YAAYC,OAAK,EAA7B,SACE,eAAC,GAAD,CAAclX,gBAAiBA,EAAiBsS,SAAUA,GAAUjR,SAjFjD,SAAAkR,GAC3BkC,GAAalC,WAmFT,eAAC,GAAD,CAAcG,OAAQC,SAtC1B,sBAAKta,UAAU,MAAf,SACE,eAAC,IAAD,CAAQ2e,SAAmDnE,cAA3D,SACE,sBAAKxa,UAAU,8DAAf,SACE,eAAC,GAAD,CAAMb,UAAU,EAAMC,mBAzDH,WACzBI,IAA8B,cG1UnByf,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBvuB,MAAK,YAAkD,IAA/CwuB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,eAAC,IAAMC,WAAP,UACE,eAAC,GAAD,MAEF9iB,SAAS+iB,eAAe,SAM1BX,Q","file":"static/js/main.0415d011.chunk.js","sourcesContent":["//Private Functions\r\nconst getHeadersFromJSON = JSON=>{\r\n  if (!JSON instanceof Array) JSON = [JSON];\r\n  return JSON.reduce((headers, transaction)=>\r\n    [\r\n      ...headers,\r\n      ...Object.keys(transaction).filter(key=>!headers.includes(key))\r\n    ]\r\n  , []);\r\n};\r\n\r\n//Public functions\r\nexport const getSpreadsheetData = ()=>{\r\n  return JSON.parse(localStorage.getItem(\"spreadsheet-data\"));\r\n};\r\n\r\nexport const setSpreadsheetData = spreadsheetData=>{\r\n  return localStorage.setItem(\"spreadsheet-data\", JSON.stringify(spreadsheetData));\r\n};\r\n\r\nexport const getSpreadsheetId = ()=>{\r\n  const spreadsheetData = getSpreadsheetData();\r\n  return (spreadsheetData ? spreadsheetData.spreadsheetId : null);\r\n};\r\n\r\nexport const setSpreadsheetId = spreadsheetId=>{\r\n  const spreadsheetData = getSpreadsheetData() || {};\r\n  const newSpreadsheetData = {\r\n    ...spreadsheetData,\r\n    spreadsheetId,\r\n  };\r\n  return setSpreadsheetData(newSpreadsheetData);\r\n};\r\n\r\nexport const getCredentials = ()=>{\r\n  return JSON.parse(localStorage.getItem(\"creds\"));\r\n};\r\n\r\nexport const setCredentials = credentials=>{\r\n  return localStorage.setItem(\"creds\", JSON.stringify(credentials));\r\n};\r\n\r\nexport const getClientId = ()=>{\r\n  const creds = getCredentials();\r\n  return (creds ? creds.clientId : null);\r\n};\r\n\r\nexport const setClientId = clientId=>{\r\n  const creds = getCredentials() || {};\r\n  const newCreds = {\r\n    ...creds,\r\n    clientId,\r\n  };\r\n  return setCredentials(newCreds);\r\n};\r\n\r\nexport const convertSheetsArraysToJSON = (data, delimiter=\",\")=>{\r\n  if (!data) return null;\r\n\r\n  //Get the object keys\r\n  const keys = data.splice(0,1)[0];\r\n\r\n  //Return the data\r\n  return data.map(line=>\r\n    line.reduce((obj, value, i)=>\r\n      ({\r\n        ...obj,\r\n        [keys[i]]: (\r\n          value === \"\" ?\r\n          null :\r\n          (value === \"TRUE\" ? true : (value === \"FALSE\" ? false : value))\r\n        ),\r\n      })\r\n  , {})\r\n  );\r\n};\r\n\r\nexport const convertJSONToSheetsArray = (JSON, delimiter=\",\")=>{\r\n  if (!JSON) return null;\r\n\r\n  const headers = getHeadersFromJSON(JSON);\r\n\r\n  return [\r\n    headers,\r\n    ...JSON.map(object=>\r\n      headers.map(header=>(\r\n        object[header] === null ?\r\n        \"\" :\r\n        (Array.isArray(object[header]) ? object[header].join(\",\") : object[header]))\r\n      )\r\n    )\r\n  ];\r\n};\r\n\r\nexport const getDynamicPropertyByArray = (startingObject, dotSeparatedProperties)=>{\r\n  if (!(typeof dotSeparatedProperties === \"string\")) return null;\r\n  if(!dotSeparatedProperties) return startingObject;\r\n  if (!dotSeparatedProperties.includes(\".\")) return startingObject[dotSeparatedProperties];\r\n\r\n  let object = startingObject;\r\n  for(let property of dotSeparatedProperties.split(\".\")) {\r\n    if (!property) continue;\r\n    object = object[property];\r\n  }\r\n  return object;\r\n};\r\n\r\nexport const convertColumnNumberToColumnLetter = columnNumber=>{\r\n  const NUM_OF_LETTERS = 26;\r\n  const columnLettersArray = [];\r\n\r\n  //Decrement the column number by 1 (1-based, not 0-based)\r\n  columnNumber--;\r\n\r\n  for(;columnNumber >= 0;columnNumber=(columnNumber/NUM_OF_LETTERS)-1) {\r\n    const index = Math.floor(columnNumber % NUM_OF_LETTERS);\r\n    const letter = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"[index];\r\n    columnLettersArray.push(letter);\r\n  }\r\n\r\n  //Return back the \"reversed\" column letters\r\n  return columnLettersArray.reverse().join(\"\");\r\n};\r\n\r\nexport const convertColumnLetterToColumnNumber = columnLetters=>{\r\n  const NUM_OF_LETTERS = 26;\r\n\r\n  const columnNumber = [...columnLetters].reduce((number,columnLetter,i)=>{\r\n    const index = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".indexOf(columnLetter);\r\n\r\n    //Increment the column number by 1 (1-based, not 0-based)\r\n    return number += (index+1) * (NUM_OF_LETTERS**i);\r\n  }, 0);\r\n\r\n  //Return back the \"reversed\" column letters\r\n  return columnNumber;\r\n};\r\n\r\nexport const convertArrayToA1Notation = (rowsColumnsArray, startingCell=\"A1\")=>{\r\n  const startingColumnLetter = startingCell.match(/(^[A-Z]+)/)[1];\r\n  const startingRow = Number(startingCell.match(/(\\d)/)[1]);\r\n  const startingColumnIndex = convertColumnLetterToColumnNumber(startingColumnLetter);\r\n\r\n  const [rows, columns] = rowsColumnsArray;\r\n  const columnLetter = convertColumnNumberToColumnLetter(startingColumnIndex+columns-1);\r\n  const rowNumber = startingRow+rows-1;\r\n  return `${startingCell}:${columnLetter}${rowNumber}`;\r\n};\r\n\r\nexport const parseGoogleSheetsNumber = value=>{\r\n  const potentialNumber = Number(value);\r\n  return (value && !isNaN(potentialNumber) ? potentialNumber : null);\r\n};\r\n\r\nexport const parseGoogleSheetsDate = JSON=>{\r\n  const potentialDate = new Date(JSON);\r\n  return (JSON && !isNaN(potentialDate.getTime()) ? potentialDate : null);\r\n};\r\n","import {getSpreadsheetId, convertSheetsArraysToJSON, convertJSONToSheetsArray, getDynamicPropertyByArray, convertArrayToA1Notation} from './utilities.js'\r\n\r\nexport const callGoogleApiFunction = (googleApi, resourceType, method, optionsParam, pageToken)=>{\r\n  //Declare variables\r\n  let leftoverIds = null;\r\n  const listIdChunkLength = 50;\r\n  let params = [];\r\n  let options = optionsParam;\r\n\r\n  //Build the request options\r\n  if (googleApi === \"youtube\") {\r\n    options = {\r\n      ...optionsParam,\r\n      part: [\r\n        \"snippet\",\r\n        \"contentDetails\",\r\n        \"status\",\r\n      ],\r\n    };\r\n  }\r\n\r\n  //Check that, if provided SOMETHING as an id,\r\n  // it wasn't falsy\r\n  if (\r\n    options.id !== undefined &&  (\r\n      options.id === null ||\r\n      options.id.length === 0\r\n    )\r\n  ) return null;\r\n\r\n  //If this was a \"list\" call, add extra options\r\n  if (method === \"list\") {\r\n    //Set the maximum amount of results per call\r\n    options.maxResults = 50;\r\n\r\n    //Only set the pageToken option if we're provided one\r\n    if (pageToken) options.pageToken = pageToken;\r\n\r\n    //Check that no more than 50 ids are searched per call;\r\n    // Otherwise, query the first 50, and save the rest for\r\n    // a follow-up call\r\n    if (options.id && options.id instanceof Array && options.id.length > 50) {\r\n      leftoverIds = options.id.splice(listIdChunkLength, options.id.length);\r\n    }\r\n  }\r\n\r\n  //If more parameters were found in options, move them over\r\n  if (options.params) {\r\n    params = (options.params instanceof Array ? options.params : [options.params]);\r\n    delete options.params;\r\n  }\r\n\r\n  //Return a Promise to the Google API\r\n  return new Promise(async (resolve,reject)=>{\r\n    try {\r\n      //Get the resource object\r\n      const resource = getDynamicPropertyByArray(window.gapi.client[googleApi], resourceType);\r\n\r\n      //Make the resource method call\r\n      const response = await resource[method](options, ...params);\r\n      console.log(response);\r\n\r\n      //If a \"list\" query was performed\r\n      if (method === \"list\") {\r\n        //If there are more results, recurse using the nextPageToken\r\n        if (response.result.nextPageToken) return resolve([...response.result.items, ...await callGoogleApiFunction(googleApi, resourceType, method, options, response.result.nextPageToken)]);\r\n\r\n        //If more than 50 ids were provided,\r\n        // move to the next set of ids\r\n        if (leftoverIds) return resolve([...response.result.items, ...await callGoogleApiFunction(googleApi, resourceType, method, {...options, id: leftoverIds})]);\r\n\r\n        //If a single id was provided instead of an arary,\r\n        // respond with the single resource using the first item of\r\n        // response.result.items, instead of the array of items\r\n        if ((options.id && !(options.id instanceof Array)) || (resourceType === \"channels\" && options.mine === true)) return resolve(response.result.items[0]);\r\n\r\n        //Otherrwise, return the entire array of items\r\n        return resolve([...response.result.items]);\r\n      }\r\n\r\n      if (resourceType === \"spreadsheets.values\" && method === \"get\") {\r\n        //Return the values\r\n        return resolve(convertSheetsArraysToJSON(response.result.values));\r\n      }\r\n\r\n      //If an \"update\" or \"insert\" query was performed\r\n      if (method === \"update\" || method === \"insert\") return resolve(response.result);\r\n\r\n      //If a \"delete\" or some other query was performed\r\n      return resolve(response);\r\n    }\r\n    catch (errResponse) {\r\n      return reject(errResponse.result.error);\r\n    }\r\n  });\r\n};\r\n\r\n//Declare our specific functions\r\nexport const getSheetsSpreadsheet = async ()=>{\r\n  return callGoogleApiFunction(\"sheets\", \"spreadsheets\", \"get\", {spreadsheetId: getSpreadsheetId()});\r\n};\r\n\r\nexport const getSheetsSpreadsheetValues = async (sheetName, range)=>{\r\n  const {rowCount, columnCount} = (await getSheetsSpreadsheet()).result.sheets.find(s=>s.properties.title === sheetName).properties.gridProperties;\r\n  if (!range) range = convertArrayToA1Notation([rowCount, columnCount]);\r\n  if (typeof range === \"string\") range = [range]; //convert to an array of ranges if only one specified\r\n  range = range.map(r=>`'${sheetName}'!${range}`); //Add the sheet name to the range\r\n\r\n  return callGoogleApiFunction(\"sheets\", \"spreadsheets.values\", \"get\", {spreadsheetId: getSpreadsheetId(), range});\r\n};\r\n\r\nexport const updateSheetsSpreadsheetValues = async (sheetName, valuesJSON, range)=>{\r\n  const values = convertJSONToSheetsArray(valuesJSON);\r\n  const neededRowCount = values.length;\r\n  const neededColumnCount = values.reduce((maxCol,row)=>maxCol = Math.max(maxCol,row.length), 0);\r\n  if (!range) range = convertArrayToA1Notation([neededRowCount, neededColumnCount]);\r\n  if (typeof range === \"string\") range = [range]; //convert to an array of ranges if only one specified\r\n  range = range.map(r=>`'${sheetName}'!${range}`); //Add the sheet name to the range\r\n\r\n  return callGoogleApiFunction(\"sheets\", \"spreadsheets.values\", \"update\", {\r\n      spreadsheetId: getSpreadsheetId(),\r\n      range,\r\n      valueInputOption: \"USER_ENTERED\",\r\n      includeValuesInResponse: true,\r\n      responseValueRenderOption: \"FORMATTED_VALUE\",\r\n      resource: {\r\n        values: values,\r\n      }\r\n    });\r\n};\r\n","import {throwException} from './../utilities';\r\n\r\nconst scopes = [\r\n  //\"https://www.googleapis.com/auth/drive\",  //See, edit, create, and delete all or your drive files\r\n  //\"https://www.googleapis.com/auth/drive.file\",  //See, edit, create, and delete only the specific Google Drive files you use with this app\r\n  \"https://www.googleapis.com/auth/spreadsheets\",  //See, edit, create, all your Google sheets spreadsheets\r\n];\r\nconst discoveryDocs = [\"https://sheets.googleapis.com/$discovery/rest?version=v4\"];\r\n\r\n//create helper function to retrieve authorization credentials stored outside of version control\r\nconst fetchAuthCredentials = ()=>{\r\n  console.info(\"Fetching authorization credentials...\");\r\n\r\n  try {\r\n    //Get & return the credentials from localStorage\r\n    const creds = JSON.parse(localStorage.getItem(\"creds\"));\r\n    if (creds && creds.clientId) return creds;\r\n\r\n    //If proper credentials weren't found, throw\r\n    const CredentialsNotFoundError = new Error(\"Failed to get authorization credentials.\")\r\n    CredentialsNotFoundError.name = \"CredentialsNotFoundError\";\r\n    throw CredentialsNotFoundError;\r\n  }\r\n  catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\n//Load the Google Client, OAuth2.0 libraries\r\nexport const initAuthorization = (loginCallback, logoutCallback)=>{\r\n  try {\r\n    //Attempt to get the credentials\r\n    const creds = fetchAuthCredentials();\r\n\r\n    //Load the Google APIs\r\n    loadGoogleApis(creds, loginCallback, logoutCallback)\r\n\r\n    return creds;\r\n  }\r\n  catch (err) {\r\n    return throwException(err);\r\n  }\r\n};\r\n\r\nconst loadGoogleApis = (creds, loginCallback, logoutCallback)=>{\r\n  try {\r\n    console.info(\"Loading Google Client, OAuth2.0 APIs...\");\r\n    window.gapi.load(\"client:auth2\", ()=>{initializeGoogleApis(creds, loginCallback, logoutCallback)});\r\n  }\r\n  catch (err) {\r\n    return throwException(err);\r\n  }\r\n};\r\n\r\n//Initialize Google Client library (which simultaneously initializes Google OAuth2.0 library) and set up sign in listeners\r\nconst initializeGoogleApis = async (creds, loginCallback, logoutCallback)=>{\r\n  console.info(\"Loaded Google Client, OAuth2.0 APIs.\");\r\n  console.info(\"Initializing Google Client API...\");\r\n  const {clientId} = creds;\r\n\r\n  //Attempt to initialize the Google API\r\n  window.gapi.client.init({\r\n    clientId: clientId,\r\n    scope: scopes.join(\" \"), //space delimited\r\n    discoveryDocs: discoveryDocs,\r\n  })\r\n  .then(()=>{\r\n    console.info(\"Initialized Google Client API.\");\r\n\r\n    //Listen for sign in state changes\r\n    window.gapi.auth2.getAuthInstance().isSignedIn.listen(\r\n      isSignedIn => updateSigninStatus(isSignedIn, loginCallback, logoutCallback)\r\n    );\r\n\r\n    //Handle initial sign in state\r\n    updateSigninStatus(window.gapi.auth2.getAuthInstance().isSignedIn.get(), loginCallback, logoutCallback);\r\n  })\r\n  .catch(err=>{\r\n    return throwException(err);\r\n  });\r\n};\r\n\r\n//Update UI sign in state changes\r\nconst updateSigninStatus = (isSignedIn, loginCallback, logoutCallback)=>{\r\n  console.info(\"Updating sign in status...\");\r\n  if (isSignedIn) {\r\n    // authorizeButton.style.display = \"none\";\r\n    // signoutButton.style.display = \"block\";\r\n    // signoutButton.removeAttribute(\"disabled\");\r\n\r\n    //Get profile information\r\n    const signInInfo = getProfileInformation();\r\n\r\n    //Run the callback functions\r\n    if (loginCallback) loginCallback(signInInfo);\r\n  }\r\n  else {\r\n    // authorizeButton.style.display = \"block\";\r\n    // signoutButton.style.display = \"none\";\r\n\r\n    //Run the callback functions\r\n    if (logoutCallback) logoutCallback(null);\r\n  }\r\n  console.info(\"Updated sign in status.\");\r\n};\r\n\r\nexport const signIn = async ()=>{\r\n  try {\r\n    await window.gapi.auth2.getAuthInstance().signIn();\r\n  }\r\n  catch (err) {\r\n    return throwException(err, false, false);\r\n  }\r\n};\r\n\r\nexport const signOut = async ()=>{\r\n  try {\r\n    await window.gapi.auth2.getAuthInstance().signOut();\r\n  }\r\n  catch (err) {\r\n    return throwException(err, false, false);\r\n  }\r\n};\r\n\r\nconst getProfileInformation = ()=>{\r\n  console.info(\"Getting profile info...\");\r\n  const profile = window.gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile();\r\n  if (!profile) return null;\r\n  return {\r\n    id: profile.getId(),\r\n    name: profile.getName(),\r\n    firstName: profile.getGivenName(),\r\n    lastName: profile.getFamilyName(),\r\n    imageUrl: profile.getImageUrl(),\r\n    emailAddress: profile.getEmail(),\r\n  };\r\n};\r\n","import {isFalsy, nullCoalesce, convertNumberToCurrency, convertCSVToJSON, convertDateStringToDate, areObjectsEqual, getBudgetCycleFromDate, getBudgetCycleString} from './../utilities';\r\nimport {parseGoogleSheetsNumber, parseGoogleSheetsDate} from './../googleApi';\r\n\r\n//Declare private functions\r\nconst toPascalCase = phrase=>{\r\n  return phrase.split(\" \").map(word=>word[0].toUpperCase() + word.substring(1).toLowerCase()).join(\" \");\r\n};\r\n\r\n//Declare public functions\r\nexport const typeCheckTransactions = function (transactions) {\r\n  return transactions.map(transaction=>{\r\n    try {\r\n      return {\r\n        ...transaction,\r\n        PostedDate: parseGoogleSheetsDate(transaction.PostedDate),\r\n        TransactionDate: parseGoogleSheetsDate(transaction.TransactionDate),\r\n        Amount: parseGoogleSheetsNumber(isNaN(transaction.Amount) ? transaction.Amount.replace(/(\\$|,)/g, \"\") : transaction.Amount),\r\n        Tags: !isFalsy(transaction.Tags) ? transaction.Tags : [],\r\n        BudgetCycle: parseGoogleSheetsDate(transaction.BudgetCycle),\r\n        DateCreated: parseGoogleSheetsDate(transaction.DateCreated),\r\n        DateModified: parseGoogleSheetsDate(transaction.DateModified),\r\n      };\r\n    }\r\n    catch (err) {\r\n      console.error(transaction);\r\n      throw err;\r\n    }\r\n  });\r\n};\r\n\r\nexport const importTransactions = function(transactionsData, dataType) {\r\n  try {\r\n    //Get the current date\r\n    const importDate = new Date();\r\n\r\n    //if this is scraped from online app\r\n    if (dataType === \"scraped\") {\r\n      return transactionsData\r\n        /* Break out the text data into an Array of data lines */\r\n        .split(/(?:\\r\\n|\\r|\\n)/)\r\n        /* Filter out invalid transaction data lines */\r\n        .filter(transactionDataLine=>{\r\n          if (\r\n            !transactionDataLine ||\r\n            transactionDataLine.match(/(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) \\d{2}, \\d{4}/) ||\r\n            transactionDataLine.match(/Posted Balance: \\$[\\d,\\.]+/) ||\r\n            transactionDataLine.match(/^- view details for/)\r\n          ) {\r\n            console.warn(`Unable to read transaction line.\\r\\n${transactionDataLine}`);\r\n            return false;\r\n          }\r\n          return true;\r\n        })\r\n        /* Reduce the transaction data lines into composite transactions objects */\r\n        .reduce((transactions, transactionDataLine, i)=>{\r\n          //Make an array of the different pieces of\r\n          // transaction data this line could represent\r\n          const newTransactionDataParts = [\r\n            {\r\n              name: \"Description\",\r\n              isMatch: transactionDataLine.match(/(.+)/),\r\n              value: (transactionDataLine.match(/(.+)/) ? transactionDataLine.match(/(.+)/)[1] : null),\r\n            },\r\n            {\r\n              name: \"TransactionDate\",\r\n              isMatch: transactionDataLine.match(/(\\d{2}\\/\\d{2}\\/\\d{4})/),\r\n              value: (transactionDataLine.match(/(\\d{2}\\/\\d{2}\\/\\d{4})/) ? convertDateStringToDate(transactionDataLine.match(/(\\d{2}\\/\\d{2}\\/\\d{4})/)[1], \"MM/dd/yyyy\") : null),\r\n            },\r\n            {\r\n              name: \"Amount\",\r\n              isMatch: transactionDataLine.match(/(-?)\\$([\\d,]+\\.\\d{2})/),\r\n              value: (transactionDataLine.match(/(-?)\\$([\\d,]+\\.\\d{2})/) ? Number(`${transactionDataLine.match(/(-?)\\$([\\d,]+\\.\\d{2})/)[1]}${transactionDataLine.match(/(-?)\\$([\\d,]+\\.\\d{2})/)[2].replace(\",\",\"\")}`) : null),\r\n            },\r\n          ];\r\n\r\n          //Determine which piece of transaction data this line represents,\r\n          // based on the transaction data line number\r\n          const newTransactionDataPart = newTransactionDataParts[i%newTransactionDataParts.length];\r\n\r\n          //Determine whether this is a new transaction's data,\r\n          // based on the transaction data line number\r\n          const isNewTransaction = i%newTransactionDataParts.length===0;\r\n\r\n          //If the line doesn't match the expected transaction data regex,\r\n          // skip this transaction line with a warning\r\n          if(!newTransactionDataPart.isMatch) {\r\n            console.warn(`Unable to read transaction line.\\r\\n${transactionDataLine}`);\r\n            return transactions;\r\n          }\r\n\r\n          //Initialize the transaction data variables as all null,\r\n          // with the exception of the current data line\r\n          const newTransactionData = {\r\n            Description: null,\r\n            TransactionDate: null,\r\n            Amount: null,\r\n            [newTransactionDataPart.name]: newTransactionDataPart.value,\r\n          };\r\n\r\n          //Either build a new transaction object if this is a new transaction's data,\r\n          // or use a previously built one if still on the previous transaction's data\r\n          const transaction = (\r\n            !isNewTransaction ?\r\n            transactions[transactions.length-1] :\r\n            {\r\n              PostedDate: null,\r\n              TransactionDate: newTransactionData.TransactionDate,\r\n              AccountNumber: null,\r\n              Type: null,\r\n              Description: newTransactionData.Description,\r\n              DescriptionDisplay: null,\r\n              Amount: newTransactionData.Amount,\r\n              Category: null,\r\n              Notes: null,\r\n              Tags: [],\r\n              BudgetCycle: null,\r\n              IsAutoCategorized: false,\r\n              IsUpdatedByUser: false,\r\n              DateCreated: importDate,\r\n              DateModified: importDate,\r\n            }\r\n          );\r\n\r\n          //As the BudgetCycle depends on the TransactionDate,\r\n          // add it when the TransactionDate is found\r\n          if (newTransactionDataPart.name === \"TransactionDate\") transaction.BudgetCycle = getBudgetCycleFromDate(newTransactionData.TransactionDate);\r\n\r\n          //If this is a new transaction, add it to the transactions\r\n          if (isNewTransaction) return transactions.concat(transaction);\r\n\r\n          //Otherwise, modify the previous transaction\r\n          // with the new data and return the transactions\r\n          transaction[newTransactionDataPart.name] = newTransactionDataPart.value;\r\n          return transactions;\r\n        }, [])\r\n        /* Import transactions in ascending TransactionDate order */\r\n        .reverse();\r\n    }\r\n\r\n    //Otherwise, this is CSV or JSON data\r\n\r\n    //If CSV data, convert it to JSON first\r\n    if (dataType === \"csv\") transactionsData = transactionsData.map(csvData=>convertCSVToJSON(csvData)).flat();\r\n\r\n    //For each CSV file, convert the contents to JSON\r\n    return transactionsData.map(transaction=>{\r\n      const _Date = (transaction.Date ? transaction.Date.trim() : null);\r\n      const PostedDate = (transaction.PostedDate ? transaction.PostedDate.trim() : null);\r\n      const TransactionDate = (transaction.TransactionDate ? transaction.TransactionDate.trim() : null);\r\n      const AccountNumber = (transaction[\"Card No.\"] ? transaction[\"Card No.\"].trim() : null);\r\n      const TransactionType = (transaction[\"Transaction Type\"] ? transaction[\"Transaction Type\"].trim() : null);\r\n      const Description = (transaction.Description ? transaction.Description.trim() : null);\r\n      const Amount = (transaction.Amount ? transaction.Amount.trim() : null);\r\n      const Charges = (transaction.Charges ? transaction.Charges.trim() : null);\r\n      const Payments = (transaction.Payments ? transaction.Payments.trim() : null);\r\n      const Debit = (transaction.Debit ? transaction.Debit.trim() : null);\r\n      const Credit = (transaction.Credit ? transaction.Credit.trim() : null);\r\n\r\n      //Validate calculated values\r\n      const amountRegEx = Amount.match(/(\\()?\\$\\+?(\\d+(?:\\.\\d{1,2})?)(\\))?/);\r\n      const amountIsNegative = amountRegEx[1] && amountRegEx[3];\r\n      let amount = Number(amountIsNegative ? `-${amountRegEx[2]}` : amountRegEx[2]);\r\n\r\n      let type = TransactionType;\r\n\r\n      //If this is a credit card transaction,\r\n      // negate the amount and change the transaction type\r\n      if (\r\n        !amountIsNegative && type === \"Debit\" ||\r\n        amountIsNegative && type === \"Credit\"\r\n      )\r\n      {\r\n        amount *= -1;\r\n        type = (type===\"Debit\" ? \"Charges\" : (type===\"Credit\" ? \"Payments\" : null));\r\n      }\r\n\r\n      const transactionDate = convertDateStringToDate(nullCoalesce(TransactionDate, _Date), \"MM/dd/yyyy\");\r\n      if (isFalsy(type) || isFalsy(transactionDate)) {\r\n        console.error(transaction);\r\n        throw new Error(`Unable to read transaction.\\r\\n${Object.entries(transaction).map(([key,value])=>`${key}:${value}`).join(\", \")}`);\r\n      }\r\n\r\n\r\n      return {\r\n        PostedDate: (PostedDate ? convertDateStringToDate(PostedDate, \"MM/dd/yyyy\") : null),\r\n        TransactionDate: transactionDate,\r\n        AccountNumber: (AccountNumber ? `*${AccountNumber}` : null),\r\n        Type: type,\r\n        Description,\r\n        DescriptionDisplay: null,\r\n        Amount: amount,\r\n        Category: null,\r\n        Notes: null,\r\n        Tags: [],\r\n        BudgetCycle: getBudgetCycleFromDate(transactionDate),\r\n        IsAutoCategorized: false,\r\n        IsUpdatedByUser: false,\r\n        DateCreated: importDate,\r\n        DateModified: importDate,\r\n      };\r\n    });\r\n  }\r\n  catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const categorizeTransactionByDescription = function(transaction) {\r\n  const {DescriptionDisplay, Description, Category, Notes} = transaction;\r\n\r\n  //If\r\n  // 1) the transaction has already either\r\n  // been auto-categorized, or updated by the user, or\r\n  // 2) the transaction has no Description to categorized on,\r\n  // there is no need to auto-categorized this transaction,\r\n  // as either it has been auto-categorized, or the user\r\n  // manually updated the transaction data\r\n  if (\r\n    (isTransactionAutoCategorizedOrUpdatedByUser(transaction)) ||\r\n    !Description\r\n  ) return transaction;\r\n\r\n  //Define a base for categorized transaction data\r\n  let categorizedTransactionData = {};\r\n\r\n  //Define matches, if matched capture groups are needed\r\n  let matches;\r\n\r\n  //Income\r\n  // NOTE: Always sets budget cycle values to the next month's budget cycle\r\n       if (matches = Description.match(/(?:ELECTRONIC\\/ACH CREDIT (.+) PAYROLL \\d{10}|PAYROLL (.+) \\d+ [\\w ]+ ACH CREDIT)/i))  categorizedTransactionData = {Category: \"Infor payroll\", DescriptionDisplay: `${matches[1] ?? matches[2]}`, Notes: null, /*BudgetCycle: getBudgetCycleFromDate(new Date(TransactionDate.getUTCMonth()+1))*/};\r\n  else if (matches = Description.match(/INTEREST(?: PAYMENT)?(?: INTEREST)?(?: PAID THIS STATEMENT THRU (\\d{2})\\/(\\d{2}))?/i))  categorizedTransactionData = {Category: \"Other income\", DescriptionDisplay: `Interest paid${(matches[1] && matches[2] ? ` ${matches[1]}/${matches[2]}` : \"\")}`, Notes: null, /*BudgetCycle: getBudgetCycleFromDate(new Date(TransactionDate.getUTCMonth()+1))*/};\r\n\r\n  //Deposits\r\n  else if (Description.match(/MOBILE CHECK DEPOSIT/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Mobile check deposit\", Notes: null};\r\n\r\n  //Withdrawals\r\n  else if (Description.match(/ATM CASH WITHDRAWAL (?:\\d{4} \\w{4} \\d{12}|[\\w ]+)/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"ATM withdrawal\", Notes: null};\r\n  else if (matches = Description.match(/CHECK #(\\d+)/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: `Check #${matches[1]}`, Notes: null};\r\n\r\n  //Transfers\r\n  else if (matches = Description.match(/(?:ONLINE (?:BANKING TRANSFER (?:CREDIT )?(?:MOBILE APP TRANSFER )?)?|MOBILE )(TO|FROM) (?:(?:\\d{4} )?\\d{9}|\\*{14}|\\*{4})(\\d{4})(?: (?:- )?DEPOSIT TRANSFER)?/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: `Transfer ${matches[1].toLowerCase()} *${matches[2]}`, Notes: null};\r\n  else if (matches = Description.match(/(?:AUTOMATIC TRANSFER DEBIT \\w+ \\w+ TRANSFER \\d{9}(\\d{4})-\\d \\d{10}|ACCOUNT NUMBER \\d{5}(\\d{4}) PREAUTHORIZED TRANSFER)/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: `Automatic transfer to *${matches[1] ?? matches[2]}`, Notes: null};\r\n  else if (matches = Description.match(/ZELLE TRANSFER (TO|FROM) ([\\w ]+) \\d{2}\\/\\d{2} ?\\w+/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: `Zelle transfer ${matches[1].toLowerCase()} ${toPascalCase(matches[2])}`, Notes: null};\r\n\r\n  //Payments\r\n  else if (matches = Description.match(/(?:MOBILE TO \\*{12}(\\d{4}) )?CREDIT CARD PAYMENT(?: (?:MOBILE APP PAYMENT|ONLINE BANKING TRANSFER) TO \\d{4} \\d{6}\\*{6}(\\d{4}))?/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: `Payment for CCD *${matches[1] ?? matches[2]}`, Notes: null};\r\n  else if (matches = Description.match(/PAYMENT - \\w{5} \\w{3} \\w{7} \\w{2}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: `Credit card payment`, Notes: null};\r\n\r\n  //Bills\r\n  else if (Description.match(/(?:ELECTRONIC\\/ACH DEBIT )?PIEDMONT N\\. G\\.(?: DRAFT \\d{13} \\d{10})?/i))  categorizedTransactionData = {Category: \"Piedmont Natural Gas\", DescriptionDisplay: \"Piedmont Natural Gas\", Notes: null};\r\n  else if (Description.match(/(?:ELECTRONIC\\/ACH DEBIT )?(?:BILL PAY )?DUKE ?ENERGY(?:(?: BILL PAY \\d{12}| SE WEB PAY \\d{14}) \\w{10})?/i))  categorizedTransactionData = {Category: \"Duke Energy\", DescriptionDisplay: \"Duke Energy\", Notes: null};\r\n  else if (Description.match(/(?:ELECTRONIC\\/ACH DEBIT )?(?:RE PAYMENT )?SHARONVIEW FEDER(?: RE PAYMENT \\d{10} \\d{10})?/i))  categorizedTransactionData = {Category: \"Sharonview mortgage & escrow\", DescriptionDisplay: \"Sharonview mortgage\", Notes: null};\r\n  else if (Description.match(/(?:ELECTRONIC\\/ACH DEBIT )?SHARONVIEW FCU TRANSFER \\d{15} \\d{10}/i))  categorizedTransactionData = {Category: \"Sharonview auto loan \", DescriptionDisplay: \"Sharonview loan\", Notes: null};\r\n  else if (Description.match(/(?:ELECTRONIC\\/ACH DEBIT )?(?:PURCHASE )?THOMASEHANNAHYMC(?: PURCHASE \\d{10})?/i))  categorizedTransactionData = {Category: \"YMCA membership\", DescriptionDisplay: \"YMCA membership\", Notes: null};\r\n  else if (Description.match(/(?:ELECTRONIC\\/ACH DEBIT )?PLANET FIT CLUB FEES \\d{13} \\d{10}/i))  categorizedTransactionData = {Category: \"Planet Fitness membership\", DescriptionDisplay: \"Planet Fitness membership\", Notes: null};\r\n  else if (Description.match(/(?:ELECTRONIC\\/ACH DEBIT )?DEPT EDUCATION STUDENT LN \\w{11} \\d{10}/i))  categorizedTransactionData = {Category: \"Nelnet student loan\", DescriptionDisplay: \"Nelnet student loan\", Notes: null};\r\n  else if (Description.match(/Simplisafe 888-957-4675 Ma/i))  categorizedTransactionData = {Category: \"SimpliSafe (for mom)\", DescriptionDisplay: \"SimpliSafe\", Notes: null};\r\n  else if (Description.match(/SDC\\* ?Laurens Electric C Laurens SC/i))  categorizedTransactionData = {Category: \"Laurens Electric ProTec Security\", DescriptionDisplay: \"Laurens Electric ProTec Security\", Notes: null};\r\n  else if (Description.match(/SJWD Water District (?:8649492805|8888916064) SC/i))  categorizedTransactionData = {Category: \"SJWD Water District\", DescriptionDisplay: \"SJWD Water\", Notes: null};\r\n  else if (Description.match(/State Farm  ?Insurance 8009566310 Il/i))  categorizedTransactionData = {Category: \"State Farm auto insurance\", DescriptionDisplay: \"State Farm\", Notes: null};\r\n  else if (Description.match(/Spotify USA(?: New York NY)?/i))  categorizedTransactionData = {Category: \"Spotify Premium subscription\", DescriptionDisplay: \"Spotify Premium\", Notes: null};\r\n  else if (Description.match(/Netflix.Com Netflix.Com Ca/i))  categorizedTransactionData = {Category: \"Netflix Premium subscription\", DescriptionDisplay: \"Netflix Premium\", Notes: null};\r\n  else if (Description.match(/(?:Ddv \\*)?Discovery(?:plus|\\+) (?:Ad-Free )?0123456789 TN/i))  categorizedTransactionData = {Category: \"Discovery Plus subscription\", DescriptionDisplay: \"Discovery Plus\", Notes: null};\r\n  else if (Description.match(/Peacock 1D10D Premium New York NY/i))  categorizedTransactionData = {Category: \"Peacock Premium subscription\", DescriptionDisplay: \"Peacock\", Notes: null};\r\n  else if (Description.match(/Spectrum 855-707-7328 \\w{2}/i))  categorizedTransactionData = {Category: \"Spectrum Internet\", DescriptionDisplay: \"Spectrum Internet\", Notes: null};\r\n  else if (Description.match(/(?:AT&T \\*Payment|ATT\\*BILL PAYMENT) 800-288-2020 TX/i))  categorizedTransactionData = {Category: \"AT&T Internet\", DescriptionDisplay: \"AT&T Internet\", Notes: null};\r\n  else if (Description.match(/KIRBY SANITATION (?:\\/C&J E )?8648778887 SC/i))  categorizedTransactionData = {Category: \"Kirby Sanitation\", DescriptionDisplay: \"Kirby Sanitation\", Notes: null};\r\n  else if (Description.match(/Food for the Hungry 480-9983100 AZ/i))  categorizedTransactionData = {Category: \"Food for the Hungry\", DescriptionDisplay: \"Food for the Hungry\", Notes: null};\r\n\r\n  //Recurring expenses\r\n\r\n  //Gas\r\n  else if (Description.match(/QT \\d+ (?:INSIDE|OUTSIDE|\\w+ \\w{2})/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"QuikTrip\", Notes: null};\r\n  else if (Description.match(/CIRCLE K # \\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"Circle K\", Notes: null};\r\n  else if (Description.match(/7-ELEVEN \\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"7-Eleven\", Notes: null};\r\n  else if (Description.match(/SPINX #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"Spinx\", Notes: null};\r\n  else if (Description.match(/(?:LOVE S TRAVEL|LOVES COUNTRY) \\d+ [\\w ]+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"Love's\", Notes: null};\r\n  else if (Description.match(/SHELL OIL [\\d\\w]+ [\\w ]+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"Shell\", Notes: null};\r\n  else if (Description.match(/INGLES GAS EXP #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"Ingles Gas\", Notes: null};\r\n  else if (Description.match(/RACETRAC ?\\d+ \\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"RaceTrac\", Notes: null};\r\n  else if (Description.match(/TA \\w+ #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"TA Travel Centers of America\", Notes: null};\r\n  else if (Description.match(/SPEEDWAY \\d+ \\d+ \\w+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"Speedway\", Notes: null};\r\n  else if (Description.match(/BUC-EE[' ]S #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"Buc-ee's\", Notes: null};\r\n  else if (Description.match(/V GO #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"V-Go\", Notes: null};\r\n  else if (Description.match(/TEXACO \\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"Texaco\", Notes: null};\r\n  else if (Description.match(/EXXONMOBIL \\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Gas\", DescriptionDisplay: \"ExxonMobil\", Notes: null};\r\n\r\n  //Groceries & Necessities\r\n  else if (Description.match(/Walmart(?: Grocery|\\.com AA) \\d{3}-?\\d{3}-?\\d{4} AR/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Walmart Supercenter\", Notes: \"grocery pickup\"};\r\n  else if (Description.match(/(?:Wal-Mart|WM Supercenter) #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Walmart Supercenter\", Notes: null};\r\n  else if (Description.match(/Target #?\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Target\", Notes: null};\r\n  else if (Description.match(/Ingles Markets #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Ingles\", Notes: null};\r\n  else if (Description.match(/Publix #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Publix\", Notes: null};\r\n  else if (Description.match(/Food Lion #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Food Lion\", Notes: null};\r\n  else if (Description.match(/Winn-Dixie   #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Winn-Dixie\", Notes: null};\r\n  else if (Description.match(/(?:Sams ?Club #8142 Spartanburg SC|Sams Club #8142 864-574-3480 SC)/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Sam's Club\", Notes: null};\r\n  else if (Description.match(/SAMS MEMBERSHIP 888-433-7267 AR/i)) categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Sam's Club club membership\", Notes: null};\r\n  else if (Description.match(/Lidl #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Lidl\", Notes: null};\r\n  else if (Description.match(/Aldi \\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Aldi\", Notes: null};\r\n  else if (Description.match(/Earth Fare \\w+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Earth Fare\", Notes: null};\r\n\r\n  else if (Description.match(/Kohl's #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Kohl's\", Notes: null};\r\n  else if (Description.match(/Once Upon A Child \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Once Upon A Child\", Notes: null};\r\n  else if (Description.match(/Gabriel Bros \\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Gabe's\", Notes: null};\r\n  else if (Description.match(/Roses Store #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Roses\", Notes: null};\r\n  else if (Description.match(/Dollar ?Tree \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Dollar Tree\", Notes: null};\r\n  else if (Description.match(/Dollar General #\\d+ \\w+ \\w{2}/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Dollar General\", Notes: null};\r\n  else if (Description.match(/Walgreens #\\d+/i)) categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Walgreens\", Notes: null};\r\n  else if (Description.match(/(?:WWW\\.CVS\\.COM 800-746-7287 RI|CVS PHARMACY #\\d+ \\w+ \\w{2})/i))  categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"CVS Pharmacy\", Notes: null};\r\n  else if (Description.match(/FIRSTCHOICE PHARMACY L \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"FirstChoice Pharmacy\", Notes: null};\r\n  else if (Description.match(/(?:PP\\*)?INSTACART(?:\\*\\w+)? (?:SAN FRANCISCO ?CA|4029357733 CA)/i))  categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Instacart\", Notes: null};\r\n  else if (Description.match(/SHIPT\\* ORDER BIRMINGHAM AL/i))  categorizedTransactionData = {Category: \"Groceries/Necessities\", DescriptionDisplay: \"Shipt\", Notes: null};\r\n\r\n  //Family Outings\r\n  else if (Description.match(/McDonald[' ]s (?:S )?\\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"McDonald's\", Notes: null};\r\n  else if (Description.match(/Burger King #\\d+(?: \\w+ \\w+ \\w{2})?/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Burger King\", Notes: null};\r\n  else if (Description.match(/Sonic Drive[- ]?In #\\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Sonic Drive-In\", Notes: null};\r\n  else if (Description.match(/Cook Out [\\w ]+(?: \\w+ \\w{2})?/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Cook Out\", Notes: null};\r\n  else if (Description.match(/Wendy ?s #\\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Wendy's\", Notes: null};\r\n  else if (Description.match(/Krystal [\\d\\w]+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Krystal\", Notes: null};\r\n  else if (Description.match(/Checkers (Drive In|\\d+) \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Checkers\", Notes: null};\r\n  else if (Description.match(/JACK'S #\\d+ \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Jack's\", Notes: null};\r\n  else if (Description.match(/Jack in the Box \\d+ \\w+/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Jack In The Box\", Notes: null};\r\n  else if (Description.match(/Wayback Burgers \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Wayback Burgers\", Notes: null};\r\n  else if (Description.match(/Steak N Shake \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Steak 'n Shake\", Notes: null};\r\n  else if (Description.match(/RED ROBIN NO \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Red Robin\", Notes: null};\r\n  else if (Description.match(/Culvers [\\w ]+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Culver's\", Notes: null};\r\n  else if (Description.match(/Arbys - \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Arby's\", Notes: null};\r\n  else if (Description.match(/Jersey Mikes? \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Jersey Mike's Subs\", Notes: null};\r\n  else if (Description.match(/CHICKEN SALAD CHICK - \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Chicken Salad Chick\", Notes: null};\r\n  else if (Description.match(/PDQ  ?(?:\\d+( OLO)?|\\w+) \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"PDQ\", Notes: null};\r\n  else if (Description.match(/Chick-Fil-A #\\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Chick-fil-A\", Notes: null};\r\n  else if (Description.match(/Bojangles \\d+ \\w+/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Bojangles\", Notes: null};\r\n  else if (Description.match(/KFC \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"KFC\", Notes: null};\r\n  else if (Description.match(/Popeyes (?:\\d+|- \\w+) \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Popeyes\", Notes: null};\r\n  else if (Description.match(/Zaxby's #\\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Zaxby's\", Notes: null};\r\n  else if (Description.match(/TST\\* Flock Shop - \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Flock Shop\", Notes: null};\r\n  else if (Description.match(/Taco Bell #\\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Taco Bell\", Notes: null};\r\n  else if (Description.match(/(?:Chipotle \\d+ \\w+ \\w{2}|Chipotle Online 1800\\d{6} CA)/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Chipotle\", Notes: null};\r\n  else if (Description.match(/Taco Casa #\\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Taco Casa\", Notes: null};\r\n  else if (Description.match(/TST\\* Willy Taco - Hub Spartanburg SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Willy Taco\", Notes: null};\r\n  else if (Description.match(/El Tejano Mexican Rest/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"El Tejano\", Notes: null};\r\n  else if (Description.match(/La Fogata Mexican Rest Simpsonville Sc/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"La Fogata\", Notes: null};\r\n  else if (Description.match(/El Molcajete (?:Mexican )?Duncan Sc/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"El Molcajete\", Notes: null};\r\n  else if (Description.match(/Sr Salsa Greenville SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Sr Salsa Mexican Restaurant\", Notes: null};\r\n  else if (Description.match(/CKE\\*Taco Dog Spartanbu Spartanburg SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Taco Dog\", Notes: null};\r\n  else if (Description.match(/Tropical Grille \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Tropical Grille\", Notes: null};\r\n  else if (Description.match(/Califas \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Califas\", Notes: null};\r\n  else if (Description.match(/TIPSY TACO \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Tipsy Taco\", Notes: null};\r\n  else if (Description.match(/IHOP \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"IHOP\", Notes: null};\r\n  else if (Description.match(/Waffle House \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Waffle House\", Notes: null};\r\n  else if (Description.match(/TST\\* Eggs Up Grill - \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Eggs Up Grill\", Notes: null};\r\n  else if (Description.match(/Chili's \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Chili's\", Notes: null};\r\n  else if (Description.match(/Sweet Basil Thai Cusin Greenville SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Sweet Basil Thai Cusine\", Notes: null};\r\n  else if (Description.match(/Taste of Thai Spartanburg SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Taste of Thai\", Notes: null};\r\n  else if (Description.match(/Panda Hibachi Duncan SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Panda Hibachi\", Notes: null};\r\n  else if (Description.match(/PF Changs #\\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"PF Changs\", Notes: null};\r\n  else if (Description.match(/Lieu'?s (?:Chinese|Asian) Bistro \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Lieu's Chinese Bistro\", Notes: null};\r\n  else if (Description.match(/Ruby Thai \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Ruby Thai\", Notes: null};\r\n  else if (Description.match(/Mandarin Express \\d+ \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Mandarin Express\", Notes: null};\r\n  else if (Description.match(/Oriental House \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Oriental House\", Notes: null};\r\n  else if (Description.match(/Hibachi Grill And Buff \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Hibachi Grill & Buffet\", Notes: null};\r\n  else if (Description.match(/THE OLIVE GARD\\d{8} \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Olive Garden\", Notes: null};\r\n  else if (Description.match(/Paisanos Italian Resta/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Paisanos Italian Restaurant\", Notes: null};\r\n  else if (Description.match(/Pizza Hut \\d+ \\d+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Pizza Hut\", Notes: null};\r\n  else if (Description.match(/Pizza Inn \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Pizza Inn\", Notes: null};\r\n  else if (Description.match(/Antonio Bertolos Pizza \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Antonino Bertolo's Pizza\", Notes: null};\r\n  else if (Description.match(/La Taverna Spartanburg SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"La Taverna\", Notes: null};\r\n  else if (Description.match(/Sbarro \\d+ \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Sbarro\", Notes: null};\r\n  else if (Description.match(/Boston Pizzeria \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Boston Pizzeria\", Notes: null};\r\n  else if (Description.match(/Tutti Frutti \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Tutti Frutti\", Notes: null};\r\n  else if (Description.match(/TCBY \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"TCBY\", Notes: null};\r\n  else if (Description.match(/SQ \\*Twisted Cup \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Twisted Cup\", Notes: null};\r\n  else if (Description.match(/Hub City Scoops \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Hub City Scoops\", Notes: null};\r\n  else if (Description.match(/Ritas # \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Rita's Italian Ice\", Notes: null};\r\n  else if (Description.match(/Krispy Kreme \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Krispy Kreme\", Notes: null};\r\n  else if (Description.match(/INSOMNIA COOKIES- \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Insomnia Cookies\", Notes: null};\r\n  else if (Description.match(/Spill the Beans - \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Spill the Beans\", Notes: null};\r\n  else if (Description.match(/Starbucks Store \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Starbucks\", Notes: null};\r\n  else if (Description.match(/PP\\*Liquid Highway Greenville SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Liquid Highway\", Notes: null};\r\n  else if (Description.match(/Bella Latte Duncan SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Bella Latte\", Notes: null};\r\n  else if (Description.match(/Panera Bread #\\d+ P \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Panera Bread\", Notes: null};\r\n  else if (Description.match(/Denny[' ]s Inc 18007336 \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Denny's\", Notes: null};\r\n  else if (Description.match(/Applebees \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Applebee's\", Notes: null};\r\n  else if (Description.match(/Dunkin #\\d+ \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Dunkin\", Notes: null};\r\n  else if (Description.match(/Shipwreck Cove Duncan SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Shipwreck Cove\", Notes: null};\r\n  else if (Description.match(/Theo s Family Restaurn Greer SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Theo's Family Restaurant\", Notes: null};\r\n  else if (Description.match(/New S And S Cafe Greenville SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"S & S Cafeteria\", Notes: null};\r\n  else if (Description.match(/The Blue Ridge Brewing Greenville SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"The Blue Ridge Brewing Company\", Notes: null};\r\n  else if (Description.match(/Carolina Ale House GRE Greenville SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Carolina Ale House\", Notes: null};\r\n  else if (Description.match(/Flavorshack Hot Chicke Duncan SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Flavorshack Hot Chicken & Ribs\", Notes: null};\r\n\r\n  else if (Description.match(/Fall For Greenville Greenville SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Fall For Greenville\", Notes: null};\r\n  else if (Description.match(/SpareTimeGreenville EC 8644120299 SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"Spare Time Entertainment\", Notes: null};\r\n  else if (Description.match(/NCG SPARTANBURG CINEMA SPARTANBURG SC/i))  categorizedTransactionData = {Category: \"Family Outings\", DescriptionDisplay: \"NCG Cinema\", Notes: null};\r\n\r\n  //Church\r\n  else if (Description.match(/Brookwood Church Donat Simpsonville Sc/i))  categorizedTransactionData = {Category: \"Church\", DescriptionDisplay: \"Brookwood Church\", Notes: \"online giving\"};\r\n\r\n  //Personal Spending\r\n\r\n  //Childcare\r\n  else if (Description.match(/GIGGLES DROP IN CHILDC GREENVILLE SC/i))  categorizedTransactionData = {Category: \"Childcare\", DescriptionDisplay: \"Giggles Drop-In Childcare\", Notes: null};\r\n  else if (Description.match(/SQ \\*KIDSZONE DROP-IN H GREENVILLE SC/i))  categorizedTransactionData = {Category: \"Childcare\", DescriptionDisplay: \"KidsZone Drop-In Childcare\", Notes: null};\r\n\r\n  //Other\r\n  else if (matches = Description.match(/ELECTRONIC\\/ACH CREDIT IRS TREAS 310 ([\\w ]+) \\d{10}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: `Internal Revenue Service ${matches[1]}`, Notes: null};\r\n  else if (matches = Description.match(/ELECTRONIC\\/ACH CREDIT SC STATE TREASUR ([\\w ]+) \\d{10}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: `South Carolina Treasury ${matches[1]}`, Notes: null};\r\n  else if (Description.match(/ELECTRONIC\\/ACH CREDIT SHFECU SV WEBXFR \\w{3} \\d{10}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Sharonview\", Notes: null};\r\n  else if (Description.match(/HAMPTON INN \\w+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Hampton by Hilton\", Notes: null};\r\n  else if (Description.match(/HOMES TO SUITES BY HIL \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Homes2 Suites by Hilton\", Notes: null};\r\n  else if (Description.match(/THE HOME DEPOT #?\\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"The Home Depot\", Notes: null};\r\n  else if (Description.match(/HARBOR FREIGHT TOOLS \\d \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Harbor Freight\", Notes: null};\r\n  else if (Description.match(/(?:AMAZON\\.COM|AMZN MKTP US)\\*\\w+(?: A)? AMZN\\.COM\\/BILLWA/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Amazon\", Notes: null};\r\n  else if (Description.match(/Hobby Lobby #\\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Hobby Lobby\", Notes: null};\r\n  else if (Description.match(/BESTBUYCOM806539911409 888BESTBUY MN/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Best Buy\", Notes: null};\r\n  else if (Description.match(/STAPLES \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Staples\", Notes: null};\r\n  else if (Description.match(/BIG LOTS STORES - #\\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Big Lots\", Notes: null};\r\n  else if (Description.match(/AT HOME STORE \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"At Home\", Notes: null};\r\n  else if (Description.match(/FIVE BELOW \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Five Below\", Notes: null};\r\n  else if (Description.match(/2ND AND CHARLES \\d+ \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"2nd & Charles\", Notes: null};\r\n  else if (Description.match(/SPARTANBURGCO TREAS 8645962603 SC/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Spartanburg County Treasury\", Notes: null};\r\n  else if (Description.match(/9999 UMG MY CHART PT P 864-4542000 SC/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Prisma Health MyChart\", Notes: null};\r\n  else if (Description.match(/Crescent Family Dentis Greer SC/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Crescent Family Dentistry\", Notes: null};\r\n  else if (Description.match(/AIRBNB \\w+ 4158005959 CA/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Airbnb\", Notes: null};\r\n  else if (Description.match(/SQ \\*Brown Roof Thrift \\w+ \\w{2}/i))  categorizedTransactionData = {Category: \"Miscellaneous\", DescriptionDisplay: \"Brown Roof Thrift\", Notes: null};\r\n\r\n  //If there was no match, return the original transaction\r\n  else return transaction;\r\n\r\n  //Final categorizedTransactionData\r\n  categorizedTransactionData = {\r\n    //only add a category/displayed description/notes, based on the description, if one is not already present\r\n    Category: Category || categorizedTransactionData.Category,\r\n    DescriptionDisplay: DescriptionDisplay || categorizedTransactionData.DescriptionDisplay,\r\n    Notes: Notes || categorizedTransactionData.Notes,\r\n    //BudgetCycle: categorizedTransactionData.BudgetCycle,\r\n  };\r\n\r\n  //Return the transaction with updated categorization data\r\n  return {\r\n    ...transaction,\r\n    ...categorizedTransactionData,\r\n    IsAutoCategorized: true,\r\n  };\r\n};\r\n\r\nexport const getTransactionDefaultDescriptionDisplay = function(transaction) {\r\n  return nullCoalesce(transaction.DescriptionDisplay, `*${transaction.Description}`) || \"\";\r\n};\r\n\r\nexport const formatTransactionDisplay = function(transaction) {\r\n  return {\r\n    ...transaction,\r\n    BudgetCycle: (transaction.BudgetCycle ? getBudgetCycleString(transaction.BudgetCycle) : \"\"),\r\n    PostedDate: (transaction.PostedDate ? new Date(transaction.PostedDate).toLocaleDateString(\"en-US\", {timeZone: \"UTC\"}).toString() : \"\"),\r\n    TransactionDate: (transaction.TransactionDate ? new Date(transaction.TransactionDate).toLocaleDateString(\"en-US\", {timeZone: \"UTC\"}).toString() : \"\"),\r\n    AccountNumber: transaction.AccountNumber || \"\",\r\n    Type: transaction.Type || \"\",\r\n    Description: transaction.Description || \"\",\r\n    DescriptionDisplay: transaction.DescriptionDisplay || \"\",\r\n    Amount: convertNumberToCurrency(transaction.Amount) || \"\",\r\n    Category: transaction.Category || \"\",\r\n    Notes: transaction.Notes || \"\",\r\n  };\r\n};\r\n\r\nexport const isTransactionDuplicate = (potentialDuplicate, transactions)=>{\r\n  return transactions.find(transaction=>\r\n    areObjectsEqual({\r\n      TransactionDate: transaction.TransactionDate.toJSON(),\r\n      Description: transaction.Description,\r\n      Amount: transaction.Amount,\r\n    }, {\r\n      TransactionDate: potentialDuplicate.TransactionDate.toJSON(),\r\n      Description: potentialDuplicate.Description,\r\n      Amount: potentialDuplicate.Amount,\r\n    }\r\n  ));\r\n};\r\n\r\nexport const getBudgetCyclesFromTransactions = transactions=>{\r\n  return [\r\n    ...new Set(\r\n      transactions.map(({BudgetCycle})=>getBudgetCycleFromDate(BudgetCycle))\r\n    )\r\n  ].map(date=>new Date(date));\r\n};\r\n\r\nexport const isTransactionAutoCategorizedOrUpdatedByUser = transaction=>{\r\n  return transaction.IsAutoCategorized === true || transaction.IsUpdatedByUser === true;\r\n};\r\n\r\nexport const getTransactionsAmountTotal = transactions=>{\r\n  return transactions.reduce((total, transaction)=>total+=transaction.Amount, 0);\r\n};\r\n","export const isFalsy = function(value) {\r\n  return value !== 0 && (!value || value == false);\r\n};\r\n\r\nexport const nullCoalesce = function(value) {\r\n  if(isFalsy(arguments)) throw new Error(\"Function cannot accept 0 parameters.\");\r\n  return [...arguments].reduce((accumulator, value)=>accumulator = (isFalsy(accumulator) && !isFalsy(value) ? value : accumulator), null);\r\n};\r\n\r\nexport const convertNumberToCurrency = function(value) {\r\n  if (isNaN(value)) return null;\r\n  return Number(value)\r\n    .toFixed(2)\r\n    .toString()\r\n    .replace(/\\d{4,}/, (p0)=>p0.split('').reverse().join('').replace(/(\\d{3})(?=\\d)/g, \"$1,\").split('').reverse().join('')) //add commas\r\n    .replace(/(\\d)/, \"$$$1\") //add $\r\n};\r\n\r\nexport const convertCSVToJSON = function(csv, delimiter = \",\") {\r\n  //Initialize variables\r\n  const csvData = csv\r\n    //Break apart by new line\r\n    .split(/(?:\\r\\n|\\r|\\n)/)\r\n    //Begin breaking apart each line by the delimiter\r\n    .map(line=>(!line ? null : line.split(delimiter)))\r\n    //Remove the empty lines\r\n    .filter(line=>line);\r\n\r\n  //Get the headers\r\n  const headers = csvData.splice(0,1)[0];\r\n\r\n  //Get the data\r\n  const obj = csvData.map(line=>{\r\n    const lineObj = {};\r\n    line.forEach((value, i)=>{\r\n      lineObj[headers[i]] = value;\r\n    })\r\n    return lineObj;\r\n  });\r\n\r\n  return obj;\r\n};\r\n\r\nexport const getSumByProp = (array, prop)=>{\r\n  //Make sure the provided object is an array\r\n  if (!Array.isArray(array)) {\r\n    //If its not even a single object, return null\r\n    if(!typeof array === \"object\") return null;\r\n\r\n    //Otherwise, wrap the object in an array for processing\r\n    array = [array]\r\n  }\r\n\r\n  return Number(array.reduce((sum, item)=>{\r\n    //If this an object, use the property\r\n    if (typeof item === \"object\") {\r\n      if (!Number.isNaN(item[prop])) return sum+=item[prop];\r\n    }\r\n\r\n    //Otherwise, if a number, use the item directly\r\n    if (!Number.isNaN(item)) return sum+=item;\r\n  }, 0)) || null;\r\n};\r\n\r\nexport const areObjectsEqual = (a,b)=>{\r\n  //## typeof values\r\n  //\"undefined\"\r\n  //\"boolean\"\r\n  //\"number\"\r\n  //\"bigint\"\r\n  //\"string\"\r\n  //\"symbol\"\r\n  //\"function\" (non-primitive)\r\n  //\"object\"  (non-primitive) //includes null\r\n\r\n  //\r\n  if (a === null) {\r\n    if (b === null) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  //First, if not the same type, exit\r\n  const typeofA = typeof a;\r\n  const typeofB = typeof b;\r\n  if (typeofA !== typeofB) return false;\r\n\r\n  //If these are objects, recurse into them\r\n  if (typeofA === \"object\") {\r\n    const aValues = Object.entries(a);\r\n    const bValues = Object.entries(b);\r\n\r\n    //Short-circuit if the number of properties aren't the same\r\n    if(aValues.length !== bValues.length) return false;\r\n\r\n    for(let i = 0; i < aValues.length; i++) {\r\n      const [aKey, aValue] = aValues[i];\r\n      const [bKey, bValue] = bValues[i];\r\n      if(aKey !== bKey) return false;\r\n      if (!areObjectsEqual(aValue, bValue)) return false;\r\n    }\r\n\r\n    //If the objects properties/arrays values are all the same, return true\r\n    return true;\r\n  }\r\n\r\n  //Otherwise, compare the values\r\n  return a === b;\r\n};\r\n\r\nexport const isDescendantOf = (element, potentialParent) => {\r\n  if (\r\n    element.parentElement &&\r\n    potentialParent &&\r\n    element.parentElement !== potentialParent\r\n  ) return isDescendantOf(element.parentElement, potentialParent);\r\n\r\n  return element.parentElement != null &&\r\n    potentialParent != null &&\r\n    element.parentElement === potentialParent;\r\n};\r\n\r\nexport const matchValueAgainstValue = (value, matchedValue)=>{\r\n  //Perform validations\r\n  if (!value) value = \"\";\r\n  if (value instanceof Date) value = value.toJSON(); //perform Date before Number (as Date() is not NaN)\r\n  if (!isNaN(value)) value = value.toString();\r\n\r\n  if (!matchedValue) matchedValue = \"\";\r\n  if (matchedValue instanceof Date) matchedValue = matchedValue.toJSON(); //perform Date before Number (as Date() is not NaN)\r\n  if (!isNaN(matchedValue)) matchedValue = matchedValue.toString();\r\n\r\n  //Escape the matched value to prepare for RegExp\r\n  const escapedMatchedValue = matchedValue.replace(/([-\\/\\\\^$*+?.()|[\\]{}])/g, '\\\\$1');\r\n\r\n  return value.match(new RegExp(`(${escapedMatchedValue})`, \"i\"));\r\n};\r\n","import {getSumByProp} from './utilities.js';\r\nimport {parseGoogleSheetsNumber, parseGoogleSheetsDate} from './../googleApi';\r\n\r\nexport const isCreditCardPaymentTransaction = transaction=>{\r\n  return transaction.Description.match(/PAYMENT - THANK YOU ATLANTA GA/i);\r\n};\r\n\r\nexport const isIncomeTransaction = transaction=>{\r\n  return transaction.Description.match(/ELECTRONIC\\/ACH CREDIT INFOR US , INC\\. PAYROLL 3203469219/i);\r\n};\r\n\r\nexport const getBudgetAmountSpentFromTransactions = (budgetName, transactions)=>{\r\n  const check = transaction=>{\r\n    return (\r\n      //For the Miscellaneous budget, include non-income transactions with no category\r\n      budgetName === \"Miscellaneous\" ?\r\n      [budgetName, null].includes(transaction.Category) && !isCreditCardPaymentTransaction(transaction) && !isIncomeTransaction(transaction) :\r\n      transaction.Category === budgetName\r\n    )\r\n  };\r\n  return getSumByProp(transactions.filter(transaction=>check(transaction)), \"Amount\");\r\n};\r\n\r\nexport const typeCheckBudgetsData = budgetsData=>{\r\n  return budgetsData.map(budgetData=>({\r\n      ...budgetData,\r\n      Amount: parseGoogleSheetsNumber(budgetData.Amount),\r\n      BudgetCycle: parseGoogleSheetsDate(budgetData.BudgetCycle),\r\n    })\r\n  );\r\n};\r\n","import {getMonthFromNumber, getNumberFromMonth, getBudgetCyclesFromTransactions} from './../utilities';\r\n\r\nexport const getBudgetCycleFromDate = date=>{\r\n  return new Date(Date.UTC(date.getUTCFullYear(), date.getUTCMonth()));\r\n};\r\n\r\nconst ALL_TRANSACTIONS_BUDGET_CYCLE = {\r\n  string: \"All Transactions\",\r\n  date: getBudgetCycleFromDate(new Date(8640000000000000))\r\n}; //8640000000000000 (8.64e+15, max Date epoch)\r\n\r\nexport const getBudgetCycleFromBudgetCycleString = budgetCycleString=>{\r\n  if (isAllTransactionsBudgetCycle(budgetCycleString)) return ALL_TRANSACTIONS_BUDGET_CYCLE.date;\r\n\r\n  const [matches, monthString, yearString] = budgetCycleString.match(/(\\w+) (\\d{4})/);\r\n  const year = Number(yearString);\r\n  const month = getNumberFromMonth(monthString);\r\n\r\n  return new Date(Date.UTC(year, month));\r\n};\r\n\r\nexport const getBudgetCycleString = budgetCycle=>{\r\n  //Short-circut for \"All Transactions\" budget cycle\r\n  if (isAllTransactionsBudgetCycle(budgetCycle)) return ALL_TRANSACTIONS_BUDGET_CYCLE.string;\r\n\r\n  return `${getMonthFromNumber(budgetCycle.getUTCMonth())} ${budgetCycle.getUTCFullYear()}`;\r\n};\r\n\r\nexport const getBudgetCycleDescription = (budgetCycle, todayBudgetCycle=(new Date()))=>{\r\n  //Short-circut for \"All Transactions\" budget cycle\r\n  if (isAllTransactionsBudgetCycle(budgetCycle)) return null;\r\n\r\n  const fullYearDifference = todayBudgetCycle.getUTCFullYear() - budgetCycle.getUTCFullYear();\r\n  const monthDifference = (fullYearDifference*12) + (todayBudgetCycle.getUTCMonth() - budgetCycle.getUTCMonth());\r\n  if (monthDifference <= -12) return `${Math.abs(Math.floor(monthDifference/12))} year${Math.abs(Math.floor(monthDifference/12))===1?\"\":\"s\"} later`;\r\n  if (monthDifference < -1) return `${Math.abs(Math.floor(monthDifference))} month${Math.abs(Math.floor(monthDifference))===1?\"\":\"s\"} later`;\r\n  if (monthDifference === -1) return \"next month\";\r\n  if (monthDifference === 0) return \"current\";\r\n  if (monthDifference === 1) return \"last month\";\r\n  if (monthDifference < 12) return `${monthDifference} month${monthDifference===1?\"\":\"s\"} ago`;\r\n  const yearDifference = Math.floor(monthDifference/12);\r\n  return `${yearDifference} year${yearDifference===1?\"\":\"s\"} ago`;\r\n};\r\n\r\nexport const getAllBudgetCycles = transactions=>{\r\n  if (!transactions.length) return [];\r\n\r\n  const todayBudgetCycle = getBudgetCycleFromDate(new Date());\r\n\r\n  return [\r\n    ...new Set([\r\n      ALL_TRANSACTIONS_BUDGET_CYCLE.date,\r\n      todayBudgetCycle, //assure the current month is an option as well\r\n      ...getBudgetCyclesFromTransactions(transactions),\r\n    ].map(date=>date.getTime()))\r\n  ]\r\n    .sort((a,b)=>b-a)\r\n    .map(epochTime=>new Date(epochTime));\r\n};\r\n\r\nexport const isAllTransactionsBudgetCycle = budgetCycle=>{\r\n  if (typeof budgetCycle === \"string\") return budgetCycle === ALL_TRANSACTIONS_BUDGET_CYCLE.string;\r\n\r\n  return (!(budgetCycle instanceof Date) ? null : budgetCycle.getTime() === ALL_TRANSACTIONS_BUDGET_CYCLE.date.getTime());\r\n};\r\n","export const throwException = (err, throwEx=true, alertWindow=true)=>{\r\n  //Build an exception to throw\r\n  let exception = {};\r\n  let errorMsg = null;\r\n\r\n  //If this is a Javascript exception\r\n  if (err instanceof Error) {\r\n    errorMsg = err.message;\r\n\r\n    exception.name = err.name\r\n    if (err.description === 0 || err.description) exception.description = err.description;\r\n    if (err.number === 0 || err.number) exception.number = err.number;\r\n    if (err.fileName === 0 || err.fileName) exception.fileName = err.fileName;\r\n    if (err.lineNumber === 0 || err.lineNumber) exception.lineNumber = err.lineNumber;\r\n    if (err.columnNumber === 0 || err.columnNumber) exception.columnNumber = err.columnNumber;\r\n    if (err.stack === 0 || err.stack) exception.stack = err.stack;\r\n  }\r\n  else if (typeof err === \"object\") {\r\n    if (err.message) {\r\n      errorMsg = err.message;\r\n      delete err.message;\r\n    }\r\n    exception = {\r\n      ...exception,\r\n      ...err,\r\n    }\r\n  }\r\n  else if (typeof err === \"string\") {\r\n    errorMsg = err;\r\n  }\r\n\r\n  //Log the original error, for investigation\r\n  console.error(\"throwException()\", err);\r\n\r\n  //Send a prettified version of the error to the screen\r\n  const exceptionMsg = `${errorMsg}\\r\\n${Object.entries(exception).length ? Object.entries(exception).map(([key, value])=>`  + ${key}: ${value}\\r\\n`).join(\"\") : ''}\\r\\nThe application failed.`;\r\n\r\n  if (alertWindow) window.alert(exceptionMsg);\r\n\r\n  //Throw the original error\r\n  if (throwEx) throw err;\r\n}\r\n","export const getMonthFromNumber = number=>{\r\n  if (number === 0) return \"January\";\r\n  if (number === 1) return \"February\";\r\n  if (number === 2) return \"March\";\r\n  if (number === 3) return \"April\";\r\n  if (number === 4) return \"May\";\r\n  if (number === 5) return \"June\";\r\n  if (number === 6) return \"July\";\r\n  if (number === 7) return \"August\";\r\n  if (number === 8) return \"September\";\r\n  if (number === 9) return \"October\";\r\n  if (number === 10) return \"November\";\r\n  if (number === 11) return \"December\";\r\n  return null;\r\n};\r\n\r\nexport const getNumberFromMonth = month=>{\r\n  if (month === \"January\") return 0;\r\n  if (month === \"February\") return 1;\r\n  if (month === \"March\") return 2;\r\n  if (month === \"April\") return 3;\r\n  if (month === \"May\") return 4;\r\n  if (month === \"June\") return 5;\r\n  if (month === \"July\") return 6;\r\n  if (month === \"August\") return 7;\r\n  if (month === \"September\") return 8;\r\n  if (month === \"October\") return 9;\r\n  if (month === \"November\") return 10;\r\n  if (month === \"December\") return 11;\r\n  return null;\r\n};\r\n\r\nexport const convertDateStringToDate = (dateString, dateStringFormat)=>{\r\n  //Declare variables\r\n  const yearSymbol = \"y\";\r\n  const monthSymbol = \"M\";\r\n  const daySymbol = \"d\";\r\n\r\n  const yearFormatRegEx = new RegExp(`(${yearSymbol}{1,4})`, \"g\");\r\n  const monthFormatRegEx = new RegExp(`(${monthSymbol}{1,4})`, \"g\");\r\n  const dayFormatRegEx = new RegExp(`(${daySymbol}{1,2})`, \"g\");\r\n\r\n  const getDatePartByFormat = (dateString, dateStringFormat, datePartFormatRegex, getDatePartCallback)=>{\r\n    //Match against the provided format\r\n    const isMatch = [...dateStringFormat.matchAll(datePartFormatRegex)];\r\n\r\n    //If none were found, or more than one match is found, throw\r\n    if (!isMatch || isMatch.length > 1) throw new Error(`Error: Format \"${dateStringFormat}\" matched RegExp ${datePartFormatRegex.toString()} ${(isMatch ? isMatch.length : 0)} time${(isMatch ? \"s\" : \"\")}.`);\r\n\r\n    const matchStartingIndex = isMatch[0].index;\r\n    const matchedFormat = isMatch[0][1];\r\n    const matchEndingIndex = matchedFormat.length + matchStartingIndex;\r\n    const matchedString = dateString.substring(matchStartingIndex, matchEndingIndex);\r\n\r\n    //Return back the month index based on the format\r\n    return getDatePartCallback(matchedString, matchedFormat);\r\n  };\r\n\r\n  const getYearByFormat = (yearString, yearFormat)=>{\r\n    if (Number.isNaN(yearString)) return null;\r\n\r\n    if (yearFormat === \"yy\") return Number((new Date()).getUTCFullYear().toString().substring(0,2)+yearString);\r\n    if (yearFormat === \"yyyy\") return Number(yearString);\r\n\r\n    return null;\r\n  };\r\n\r\n  const getMonthIndexByFormat = (monthString, monthFormat)=>{\r\n    if (monthFormat === \"M\") {\r\n      if (monthString === \"1\") return 0;\r\n      if (monthString === \"2\") return 1;\r\n      if (monthString === \"3\") return 2;\r\n      if (monthString === \"4\") return 3;\r\n      if (monthString === \"5\") return 4;\r\n      if (monthString === \"6\") return 5;\r\n      if (monthString === \"7\") return 6;\r\n      if (monthString === \"8\") return 7;\r\n      if (monthString === \"9\") return 8;\r\n      if (monthString === \"10\") return 9;\r\n      if (monthString === \"11\") return 10;\r\n      if (monthString === \"12\") return 11;\r\n    }\r\n    if (monthFormat === \"MM\") {\r\n      if (monthString === \"01\") return 0;\r\n      if (monthString === \"02\") return 1;\r\n      if (monthString === \"03\") return 2;\r\n      if (monthString === \"04\") return 3;\r\n      if (monthString === \"05\") return 4;\r\n      if (monthString === \"06\") return 5;\r\n      if (monthString === \"07\") return 6;\r\n      if (monthString === \"08\") return 7;\r\n      if (monthString === \"09\") return 8;\r\n      if (monthString === \"10\") return 9;\r\n      if (monthString === \"11\") return 10;\r\n      if (monthString === \"12\") return 11;\r\n    }\r\n    if (monthFormat === \"MMM\") {\r\n      if (monthString === \"Jan\") return 0;\r\n      if (monthString === \"Feb\") return 1;\r\n      if (monthString === \"Mar\") return 2;\r\n      if (monthString === \"Apr\") return 3;\r\n      if (monthString === \"May\") return 4;\r\n      if (monthString === \"Jun\") return 5;\r\n      if (monthString === \"Jul\") return 6;\r\n      if (monthString === \"Aug\") return 7;\r\n      if (monthString === \"Sep\") return 8;\r\n      if (monthString === \"Oct\") return 9;\r\n      if (monthString === \"Nov\") return 10;\r\n      if (monthString === \"Dec\") return 11;\r\n    }\r\n    if (monthFormat === \"MMMM\") {\r\n      if (monthString === \"January\") return 0;\r\n      if (monthString === \"February\") return 1;\r\n      if (monthString === \"March\") return 2;\r\n      if (monthString === \"April\") return 3;\r\n      if (monthString === \"May\") return 4;\r\n      if (monthString === \"June\") return 5;\r\n      if (monthString === \"July\") return 6;\r\n      if (monthString === \"August\") return 7;\r\n      if (monthString === \"September\") return 8;\r\n      if (monthString === \"October\") return 9;\r\n      if (monthString === \"November\") return 10;\r\n      if (monthString === \"December\") return 11;\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  const getDayByFormat = (monthString, monthFormat)=>{\r\n    if (Number.isNaN(monthString) || Number(monthString) < 1 || Number(monthString) > 31) return null;\r\n\r\n    return Number(monthString);\r\n  };\r\n\r\n  return new Date(\r\n    Date.UTC(\r\n      getDatePartByFormat(dateString, dateStringFormat, yearFormatRegEx, getYearByFormat),\r\n      getDatePartByFormat(dateString, dateStringFormat, monthFormatRegEx, getMonthIndexByFormat),\r\n      getDatePartByFormat(dateString, dateStringFormat, dayFormatRegEx, getDayByFormat)\r\n    )\r\n  );\r\n};\r\n\r\nexport const convertDateToFullLocaleDateString = date=>{\r\n  return `${getMonthFromNumber(date.getUTCMonth())} ${date.getUTCDate()}, ${date.getUTCFullYear()}`;\r\n};\r\n","import {getSheetsSpreadsheetValues, updateSheetsSpreadsheetValues} from './../googleApi';\r\nimport {throwException} from './../utilities';\r\n\r\nexport const getTransactions = async ()=>{\r\n  try {\r\n    return await getSheetsSpreadsheetValues(\"Transactions Data\");\r\n  }\r\n  catch (err) {\r\n    throwException(err, false);\r\n    return [];\r\n  }\r\n};\r\n\r\nexport const updateTransactions = async transactions=>{\r\n  try {\r\n    return await updateSheetsSpreadsheetValues(\"Transactions Data\", transactions);\r\n  }\r\n  catch (err) {\r\n    throwException(err, false);\r\n    return [];\r\n  }\r\n};\r\n","import {getSheetsSpreadsheetValues} from './../googleApi';\r\nimport {throwException} from './../utilities';\r\n\r\nexport const getBudgetsData = async ()=>{\r\n  try {\r\n    return await getSheetsSpreadsheetValues(\"Budgets Data\");\r\n  }\r\n  catch (err) {\r\n    throwException(err, false);\r\n    return [];\r\n  }\r\n};\r\n","import {getSheetsSpreadsheetValues} from './../googleApi';\r\nimport {throwException} from './../utilities';\r\n\r\nexport const getAccountsData = async ()=>{\r\n  try {\r\n    return await getSheetsSpreadsheetValues(\"Accounts Data\");\r\n  }\r\n  catch (err) {\r\n    throwException(err, false);\r\n    return [];\r\n  }\r\n};\r\n","import {getSheetsSpreadsheetValues} from './../googleApi';\r\nimport {throwException} from './../utilities';\r\n\r\nexport const getAccountData = async ()=>{\r\n  try {\r\n    return await getSheetsSpreadsheetValues(\"Account Data\");\r\n  }\r\n  catch (err) {\r\n    throwException(err, false);\r\n    return [];\r\n  }\r\n};\r\n","import {useEffect} from 'react';\r\n\r\nconst useConsoleLog = (object, ...args)=>{\r\n  return useEffect(()=>console.log(args[0], object, ...args.slice(1)), [object, args])\r\n};\r\n\r\nexport default useConsoleLog;\r\n","import {useState, useEffect} from 'react';\r\n\r\nconst useScript = (src, optionsParam)=>{\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n  useEffect(()=>{\r\n    new Promise((resolve, reject)=>{\r\n      //Create default options\r\n      const defaultOptions = {\r\n        async: true,\r\n      };\r\n\r\n      //Create the script tag that will be attached to the DOM\r\n      const script = document.createElement(\"script\");\r\n\r\n      //Combine the options, overwriting the defaults\r\n      const options = {\r\n        ...defaultOptions,\r\n        ...optionsParam,\r\n      };\r\n\r\n      //Attach the options to the script tag\r\n      Object.entries(options).forEach(([option, value])=>script[option] = value);\r\n\r\n      //Attach the src to the script tag\r\n      script.src = src;\r\n\r\n      const onLoad = event=>{\r\n        setIsLoaded(true)\r\n        return resolve(event);\r\n      };\r\n\r\n      const onError = event=>{\r\n        return reject(event);\r\n      };\r\n\r\n      //Create onload & onerror callbacks\r\n      script.addEventListener(\"load\", onLoad)\r\n      script.addEventListener(\"error\", onError);\r\n\r\n      document.body.appendChild(script);\r\n\r\n      return ()=>{\r\n        document.body.removeChild(script);\r\n        setIsLoaded(false);\r\n      }\r\n    });\r\n  }, [src, optionsParam]);\r\n\r\n  return isLoaded;\r\n};\r\n\r\nexport default useScript;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport {getBudgetCycleFromDate, isAllTransactionsBudgetCycle} from './../utilities';\r\n\r\nconst isTransactionWithinBudgetCycle = (transaction, budgetCycle)=>{\r\n  return getBudgetCycleFromDate(transaction.BudgetCycle || transaction.TransactionDate).getTime() === budgetCycle.getTime();\r\n};\r\n\r\nconst useBudgetCycleTransactions = (transactions, budgetCycle)=>{\r\n  //Declare functions\r\n  const isPaymentTransaction = transaction=>{\r\n    return (\r\n      transaction.Type === \"Payment\" ||\r\n      transaction.Description.match(/(?:MOBILE TO \\*{12}(\\d{4}) )?CREDIT CARD PAYMENT(?: (?:MOBILE APP PAYMENT|ONLINE BANKING TRANSFER) TO \\d{4} \\d{6}\\*{6}(\\d{4}))?/i) ||\r\n      transaction.Description.match(/PAYMENT - \\w{5} \\w{3} \\w{7} \\w{2}/i)\r\n    )\r\n  };\r\n\r\n  const isTransferWithCorrespondingNegativeTransfer = transaction=>{\r\n    //Removes transactions that are transfers with corresponding credit/debit transfers in a different account\r\n    return (\r\n      [\"Transfer\", \"Deposit\"].includes(transaction.Type) &&\r\n      transactions.find(transaction2=>\r\n        transaction.TransactionDate.getTime()===transaction2.TransactionDate.getTime() &&\r\n        transaction.Amount===-transaction2.Amount &&\r\n        (typeof transaction.DescriptionDisplay === \"string\" && transaction.DescriptionDisplay.match(/\\*(\\d{4})/)[1]) === (transaction2.AccountNumber && transaction2.AccountNumber.match(/\\*(\\d{4})/)[1]) &&\r\n        (typeof transaction.AccountNumber === \"string\" && transaction.AccountNumber.match(/\\*(\\d{4})/)[1]) === (transaction2.DescriptionDisplay && transaction2.DescriptionDisplay.match(/\\*(\\d{4})/)[1])\r\n      )\r\n    )\r\n  };\r\n\r\n  const isIncome = transaction=>{\r\n    return [\"Infor payroll\", \"Other income\"].includes(transaction.Category);\r\n  };\r\n\r\n  const isIncomeTransaction = transaction=>{\r\n    return transaction.Amount >= 0 && !isPaymentTransaction(transaction);\r\n  };\r\n\r\n  const isExpenseTransaction = transaction=>{\r\n    return transaction.Amount < 0 && !isPaymentTransaction(transaction);\r\n  };\r\n\r\n  const getLastBudgetCycleIncomeTransactions = transactions=>{\r\n    //Get income transactions from last budget cycle\r\n    if (!transactions.length) return [];\r\n\r\n    return transactions.filter(transaction=>isIncome(transaction));\r\n  };\r\n\r\n  const getCurrentBudgetCycleIncomeTransactions = transactions=>{\r\n    //Get other income transactions from this budget cycle\r\n    if (!transactions.length) return [];\r\n\r\n    return transactions.filter(transaction=>!isIncome(transaction) && isIncomeTransaction(transaction));\r\n  };\r\n\r\n  const getCurrentBudgetCycleExpenseTransactions = transactions=>{\r\n    //Get expense transactions from this budget cycle\r\n    if (!transactions.length) return [];\r\n\r\n    return transactions.filter(transaction=>![\"Infor payroll\", \"Other income\"].includes(transaction.Category) && isExpenseTransaction(transaction));\r\n  };\r\n\r\n  const getBudgetCycleTransactions = (transactions, budgetCycle)=>{\r\n    //Get transactions marked with this budgetCycle\r\n    // (or with a Date of this budget cycle, if no BudgetCycle)\r\n    const currentBudgetCycleTransactions = (\r\n      //If \"All transactions\", use all transactions, instead of current budgetCycleTransactions\r\n      isAllTransactionsBudgetCycle(budgetCycle) ?\r\n      transactions.filter(transaction=>\r\n        //Remove corresponding credit/debit transfers\r\n        !isTransferWithCorrespondingNegativeTransfer(transaction)\r\n      ) :\r\n      transactions.filter(transaction=>\r\n        //Transactions with this budget cycle\r\n        isTransactionWithinBudgetCycle(transaction, budgetCycle)\r\n        &&\r\n        //Remove corresponding credit/debit transfers\r\n        !isTransferWithCorrespondingNegativeTransfer(transaction)\r\n      )\r\n    );\r\n\r\n    console.log(\r\n      \"useBudgetCycleTransactions filtered corresponding credit/debit transfers\",\r\n      transactions.filter(transaction=>\r\n        isTransactionWithinBudgetCycle(transaction, budgetCycle)\r\n        &&\r\n        //Remove payment transactions\r\n        !(transaction.Type === \"Payment\")\r\n        &&\r\n        isTransferWithCorrespondingNegativeTransfer(transaction)\r\n      )\r\n    );\r\n\r\n    //Get last budget cycle's income\r\n    const lastBudgetCycleIncomeTransactions = getLastBudgetCycleIncomeTransactions(currentBudgetCycleTransactions, budgetCycle);\r\n\r\n    //Get this budget cycle's other income\r\n    const currentBudgetCycleIncomeTransactions = getCurrentBudgetCycleIncomeTransactions(currentBudgetCycleTransactions, budgetCycle);\r\n\r\n    //Get this month's transactions (minus income)\r\n    const currentBudgetCycleExpenseTransactions = getCurrentBudgetCycleExpenseTransactions(currentBudgetCycleTransactions, budgetCycle);\r\n\r\n    const budgetCycleTransactionsReturn = {\r\n      income: [...lastBudgetCycleIncomeTransactions, ...currentBudgetCycleIncomeTransactions],\r\n      expenses: currentBudgetCycleExpenseTransactions,\r\n      get all() {return [...this.income, ...this.expenses].flat()},\r\n    };\r\n\r\n    console.log(\"budgetCycleTransactions\", budgetCycleTransactionsReturn);\r\n\r\n    return budgetCycleTransactionsReturn;\r\n  };\r\n\r\n  //Initialize state\r\n  const [budgetCycleTransactions, setBudgetCycleTransactions] = useState(getBudgetCycleTransactions(transactions, budgetCycle));\r\n\r\n  //Whenever transactions or budgetCycle changes,\r\n  // update state\r\n  useEffect(()=>\r\n    setBudgetCycleTransactions(getBudgetCycleTransactions(transactions, budgetCycle))\r\n  , [transactions, budgetCycle]);\r\n\r\n  //Return the state\r\n  return budgetCycleTransactions;\r\n};\r\n\r\nexport default useBudgetCycleTransactions;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport {getBudgetCycleFromDate} from './../utilities';\r\n\r\nconst useBudgetCycleBudgets = (budgetsData, budgetCycle)=>{\r\n  //Declare functions\r\n  const getBudgetCycleBudgets = (budgetsData, budgetCycle)=>{\r\n    const filteredBudgets = budgetsData.filter(b=>b.BudgetCycle.getTime() === budgetCycle.getTime());\r\n    console.log(\"budgetCycleBudgets\", filteredBudgets);\r\n    return filteredBudgets;\r\n  };\r\n\r\n  //Initialize state\r\n  const [budgetCycleBudgets, setBudgetCycleBudgets] = useState(getBudgetCycleBudgets(budgetsData, budgetCycle));\r\n\r\n  //Whenever transactions or budgetCycle changes,\r\n  // update state\r\n  useEffect(()=>\r\n    setBudgetCycleBudgets(getBudgetCycleBudgets(budgetsData, budgetCycle))\r\n  , [budgetsData, budgetCycle]);\r\n\r\n  //Return the state\r\n  return budgetCycleBudgets;\r\n};\r\n\r\nexport default useBudgetCycleBudgets;\r\n","import {Link} from 'react-router-dom';\r\nimport {useState, useEffect, useRef} from 'react';\r\n\r\nimport './index.scss';\r\n\r\nconst Logo = ({ light, scrollIn, onLogoTextScrollIn })=>{\r\n  //Declare variables\r\n  const [isLogoTextScrolledIn, setIsLogoTextScrolledIn] = useState(scrollIn === true ? false : undefined)\r\n  const [isLoadingAnimationComplete, setIsLoadingAnimationComplete] = useState(scrollIn === true && false)\r\n\r\n  let isLoadingAnimationCompleteTimeout = useRef(null);\r\n  let textScrollInTimeout = useRef(null);\r\n  const logoText = useRef(null);\r\n\r\n  //\r\n  useEffect(()=>{\r\n    if (!(isLoadingAnimationComplete === true)) return;\r\n    if (onLogoTextScrollIn) onLogoTextScrollIn();\r\n  }, [isLoadingAnimationComplete]);\r\n\r\n  //When the component mounts, scroll the log in, if requested\r\n  useEffect(()=>{\r\n    if (!(scrollIn === true))return;\r\n    isLoadingAnimationCompleteTimeout.current = window.setTimeout(()=>setIsLoadingAnimationComplete(true), 2000);\r\n    textScrollInTimeout.current = window.setTimeout(()=>{\r\n      if (!logoText.current) return;\r\n      setIsLogoTextScrolledIn(true);\r\n    }, 1000);\r\n\r\n    return ()=>{\r\n      window.clearTimeout(isLoadingAnimationCompleteTimeout.current);\r\n      window.clearTimeout(textScrollInTimeout.current);\r\n    };\r\n  }, [scrollIn, logoText.current]);\r\n\r\n  return (\r\n    <Link className={`logo navbar-brand d-flex align-items-center me-0 ${(light !== undefined ? \"text-light\" : \"\")}`} to=\"/\">\r\n      <i className={`logo-icon dashboard-header-logo fas fa-sliders-h  ${(light !== undefined ? \"\" : \"text-primary\")} fs-3`}></i>\r\n      <h1 className={`logo-text display-5 ms-2 mb-0 ${(isLogoTextScrolledIn===false ? \"hidden\" : (isLogoTextScrolledIn===true ? \"scrolled-in\" : \"\"))}`} ref={logoText}>ldgr</h1>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import {signIn} from './../../googleApi'\r\n\r\nimport './index.scss';\r\n\r\nconst GoogleApiSigninButton = ({ isReadyForSignIn })=>{\r\n  return (\r\n    <button className=\"btn btn-primary\" type=\"button\" onClick={signIn} disabled={!isReadyForSignIn}>Sign in with Google</button>\r\n  );\r\n};\r\n\r\nexport default GoogleApiSigninButton;\r\n","import Logo from './../Logo';\r\nimport GoogleApiSignInButton from './../GoogleApiSignInButton';\r\n\r\nimport './index.scss';\r\n\r\nconst SignInView = ({ isReadyForSignIn })=>{\r\n  return (\r\n    <div className=\"view signin-view container-fluid\">\r\n      <div className=\"signin-view-container container-fluid d-flex flex-column justify-content-center align-items-center\">\r\n        <Logo />\r\n        <GoogleApiSignInButton isReadyForSignIn={isReadyForSignIn} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignInView;\r\n","// # MONTH PICKER\r\n//\r\n// Month date picker that will return the UTC Date of the chosen month (i.e. 2022-03-01T00:00:00.000Z)\r\n// In month (default) view, you will see the 12 months to choose from, along with the current value's month highlighted (if also on the current value's year)\r\n// When going into year view, you will see the 10-year span of the currently selected year, as well as the currently selected year (not the current value's year) highlighted\r\n\r\n\r\nimport {useState, useEffect} from 'react';\r\n\r\nimport {getBudgetCycleFromDate, getBudgetCycleFromBudgetCycleString} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst MonthPicker = ({value:initialValue, onChange:onChangeProp, onToggle:onToggleProp})=>{\r\n  //Create helper functions\r\n  const convertYearMonthToMonthDate = (year, month)=>{\r\n    return getBudgetCycleFromDate(new Date(year, month));\r\n  };\r\n\r\n  const convertMonthStringToMonthDate = date=>{\r\n    return getBudgetCycleFromDate(date);\r\n  };\r\n\r\n  const isValidInitialDate = initialValue instanceof Date && !isNaN(initialValue.getTime());\r\n\r\n  const MIN_DATE = convertMonthStringToMonthDate(new Date(new Date(-8640000000000000).setUTCMonth(new Date(-8640000000000000).getUTCMonth()+1))); //as we can't go lower than the min date, increment 1 month\r\n  const MAX_DATE = convertMonthStringToMonthDate(new Date(8640000000000000));\r\n\r\n  const getYearRangeMin = year=>{\r\n    return Math.floor(year/10)*10;\r\n  };\r\n\r\n  const currentDate = new Date();\r\n  const startingValue = (isValidInitialDate ? initialValue : currentDate);\r\n\r\n  const [value, setValue] = useState(convertYearMonthToMonthDate(startingValue));\r\n  const [selectedYear, setSelectedYear] = useState(startingValue.getUTCFullYear());\r\n  const [selectedMonth, setSelectedMonth] = useState(startingValue.getUTCMonth());\r\n  const [isInYearView, setIsInYearView] = useState(false);\r\n  const [yearRangeMin, setYearRangeMin] = useState(getYearRangeMin(selectedYear));\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const startYear = Math.floor(selectedYear/10)*10-1;\r\n  const endYear = Math.ceil(selectedYear/10)*10;\r\n\r\n  const months = [\r\n    {name: \"January\", monthIndex: 0},\r\n    {name: \"February\", monthIndex: 1},\r\n    {name: \"March\", monthIndex: 2},\r\n    {name: \"April\", monthIndex: 3},\r\n    {name: \"May\", monthIndex: 4},\r\n    {name: \"June\", monthIndex: 5},\r\n    {name: \"July\", monthIndex: 6},\r\n    {name: \"August\", monthIndex: 7},\r\n    {name: \"September\", monthIndex: 8},\r\n    {name: \"October\", monthIndex: 9},\r\n    {name: \"November\", monthIndex: 10},\r\n    {name: \"December\", monthIndex: 11},\r\n  ];\r\n\r\n  //Create helper functions\r\n  const setValueWrapper = value=>{\r\n    return setValue(new Date(Math.max(Math.min(value, MAX_DATE), MIN_DATE)));\r\n  };\r\n\r\n  const setSelectedYearWrapper = value=>{\r\n    setSelectedYear(previousSelectedYear=>{\r\n      if(typeof value === \"function\") value = value(previousSelectedYear);\r\n      return Math.max(Math.min(value, MAX_DATE.getUTCFullYear()), MIN_DATE.getUTCFullYear());\r\n    });\r\n  };\r\n\r\n  const setYearRangeMinWrapper = value=>{\r\n    setYearRangeMin(previousYearRangeMin=>{\r\n      if(typeof value === \"function\") value = value(previousYearRangeMin);\r\n      return Math.max(Math.min(value, MAX_DATE.getUTCFullYear()), MIN_DATE.getUTCFullYear());\r\n    });\r\n  }\r\n\r\n  const isGrayedYear = selectedYear=>{\r\n    return selectedYear === yearRangeMin-1 || selectedYear === yearRangeMin+10;\r\n  };\r\n\r\n\r\n  //Create event listeners\r\n  const onArrowClick = event=>{\r\n    if (!isInYearView) {\r\n      const increment = Number(event.target.getAttribute(\"data-increment\"));\r\n      if (isNaN(increment)) return;\r\n      return setSelectedYearWrapper(previousSelectedYear=>previousSelectedYear+increment);\r\n    }\r\n\r\n    const increment = Number(event.target.getAttribute(\"data-increment\"));\r\n    if (isNaN(increment)) return;\r\n    return setYearRangeMinWrapper(previousYearRangeMin=>previousYearRangeMin+(increment*10));\r\n  };\r\n\r\n  const onSelectedYearClick = event=>{\r\n    //Whether we were or weren't in year mode already, set (or keep) true\r\n    setIsInYearView(true);\r\n  };\r\n\r\n  const onToggle = event=>{\r\n    setIsOpen(previousIsOpen=>!previousIsOpen);\r\n  };\r\n\r\n  const onChange = event=>{\r\n    const datePart = event.target.getAttribute(\"data-datepart\");\r\n\r\n    //If no month or year value can be determined,\r\n    // just close the month picker\r\n    if (![\"year\",\"month\"].includes(datePart)) return setIsOpen(false);\r\n\r\n    //Otherwise, get the newly selected value\r\n    const newSelection = Number(event.target.getAttribute(`data-${datePart}`));\r\n\r\n    //If in month view, select & forward the new date value\r\n    if (!isInYearView) {\r\n      //Update the selected month\r\n      setSelectedMonth(newSelection);\r\n\r\n      //Close the month picker\r\n      setIsOpen(false);\r\n\r\n      //Also, update the current value in state\r\n      const newValue = convertYearMonthToMonthDate(datePart === \"year\" ? newSelection : selectedYear, datePart === \"month\" ? newSelection : selectedMonth);\r\n      setValue(newValue);\r\n      //console.log(newValue.toJSON());\r\n\r\n      //Forward the newly selected value\r\n      if(onChangeProp) onChangeProp(newValue);\r\n      return;\r\n    }\r\n\r\n    //Otherwise, a year was clicked on\r\n\r\n    //If clicked on a grayed out year, scroll the year range\r\n    if (isGrayedYear(newSelection))\r\n      //Update the value\r\n      return setYearRangeMinWrapper(Math.floor(newSelection/10)*10);\r\n\r\n    //Otherwise, a new year has been selected\r\n    setSelectedYearWrapper(newSelection);\r\n    setIsInYearView(false);\r\n    return;\r\n  };\r\n\r\n  //Create side effects\r\n\r\n  //WHen the inital value passed in changes, update the value in state\r\n  useEffect(()=>{\r\n    if(!initialValue) return;\r\n    setValueWrapper(initialValue);\r\n    setSelectedYear(initialValue.getUTCFullYear());\r\n    setSelectedMonth(initialValue.getUTCMonth());\r\n  }, [initialValue]);\r\n\r\n  return (\r\n    <div className=\"month-picker-container\">\r\n      <button className=\"month-picker-toggle\" type=\"button\">\r\n        <i className={`month-picker-toggle-icon fas ${isOpen ? \"fa-calendar-minus\" : \"fa-calendar-plus\"}`} onClick={onToggle}>\r\n        </i>\r\n      </button>\r\n      {\r\n        !isOpen ?\r\n        null : (\r\n        <div className=\"month-picker\">\r\n          <div className=\"month-picker-header\">\r\n            <button className=\"month-picker-header-arrow\" type=\"button\" data-increment=\"-1\" {...(selectedYear <= MIN_DATE.getUTCFullYear() && {disabled: true})} onClick={onArrowClick}><i className=\"fas fa-chevron-left\"></i></button>\r\n            <button className=\"month-picker-header-year\" type=\"button\" {...(!isInYearView && {onClick: onSelectedYearClick})}>{!isInYearView ? selectedYear.toString() : `${yearRangeMin.toString()}-${(yearRangeMin+9).toString()}`}</button>\r\n            <button className=\"month-picker-header-arrow\" type=\"button\" data-increment=\"1\" {...(selectedYear >= MAX_DATE.getUTCFullYear() && {disabled: true})} onClick={onArrowClick}><i className=\"fas fa-chevron-right\"></i></button>\r\n          </div>\r\n          {\r\n            !isInYearView ?\r\n            (\r\n              <div className=\"grid month-picker-grid\">\r\n                {months.map(({name, monthIndex})=>(\r\n                  <div key={monthIndex} className={`grid-item month-picker-grid-month${monthIndex === value.getUTCMonth() && selectedYear === value.getUTCFullYear() ? \" selected\" : \"\"}`} data-datepart=\"month\" data-month={monthIndex} onClick={onChange}>{name}</div>\r\n                ))}\r\n              </div>\r\n            ) :\r\n            (\r\n              <div className=\"grid year-picker-grid\">\r\n                {Array(12).fill().map((el,i)=>{\r\n                    const y = yearRangeMin-1+i;\r\n                    return <div key={i} className={`grid-item year-picker-grid-year${y === selectedYear ? \" selected\" : \"\"}${isGrayedYear(y) ? \" grayed\" : \"\"}`} data-datepart=\"year\" data-year={y} onClick={onChange}>{y}</div>\r\n                  })}\r\n              </div>\r\n            )\r\n          }\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MonthPicker;\r\n","import {getBudgetCycleFromDate, getBudgetCycleString, getBudgetCycleDescription, isAllTransactionsBudgetCycle} from './../../utilities';\r\n\r\nimport MonthPicker from './../MonthPicker';\r\n\r\nimport './index.scss';\r\n\r\nconst DashboardBudgetCycleDropdown = ({ transactions, budgetCycle, allBudgetCycles, onChange:onChangeProp, squashed })=>{\r\n  const onClick = event=>{\r\n    const epochTimeAttribute = event.target.getAttribute(\"data-budget-cycle\");\r\n    if (!epochTimeAttribute || isNaN(epochTimeAttribute)) return;\r\n    const epochTime = Number(epochTimeAttribute);\r\n    const budgetCycle = getBudgetCycleFromDate(new Date(epochTime));\r\n    onChangeProp(budgetCycle);\r\n  };\r\n\r\n  const arrowOnClick = increment=>{\r\n    const allBudgetCyclesSorted = [...allBudgetCycles].sort((a,b)=>(a.getTime() === b.getTime() ? 0 : (a.getTime() < b.getTime() ? -1 : 1))); //sort() is in-place--create a new array using [...]\r\n    console.log(\"test1: \", allBudgetCyclesSorted)\r\n    console.log(\"test2: \", budgetCycle, allBudgetCyclesSorted.indexOf(budgetCycle), increment)\r\n    const newBudgetCycle = allBudgetCyclesSorted[(allBudgetCyclesSorted.indexOf(allBudgetCyclesSorted.find(b=>b.getTime() === budgetCycle.getTime()))+increment+allBudgetCyclesSorted.length)%allBudgetCyclesSorted.length];\r\n    console.log(\"test3: \", newBudgetCycle)\r\n    onChangeProp(newBudgetCycle);\r\n  };\r\n\r\n  const incrementBudgetCycle = ()=>{\r\n    return arrowOnClick(1);\r\n  };\r\n\r\n  const decrementBudgetCycle = ()=>{\r\n    return arrowOnClick(-1);\r\n  };\r\n\r\n  const onMonthPickerChange = value=>{\r\n    onChangeProp(value);\r\n  };\r\n\r\n  return (\r\n    <div className={`dashboard-month-dropdown ${squashed ? \"squashed\" : \"\"}`}>\r\n      <button className=\"dashboard-month-dropdown-arrow dashboard-month-dropdown-arrow-left\" type=\"button\" onClick={decrementBudgetCycle}>\r\n        <i className=\"fas fa-chevron-left\"></i>\r\n      </button>\r\n      <div className=\"dashboard-month-dropdown-container dropdown\">\r\n        <button id=\"dashboardMonthDropdown\" className=\"dashboard-month-dropdown-toggle btn dropdown-toggle container-fluid\" type=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n          <strong className=\"dashboard-month-dropdown-month h2 mb-0\">\r\n            {getBudgetCycleString(budgetCycle)}\r\n          </strong>\r\n          <em className=\"dashboard-month-dropdown-month-description text-muted\">\r\n            {getBudgetCycleDescription(budgetCycle) ? ` (${getBudgetCycleDescription(budgetCycle)})` : \"\"}\r\n          </em>\r\n        </button>\r\n        <MonthPicker value={budgetCycle} onChange={onMonthPickerChange} />\r\n        <ul className=\"dropdown-menu container-fluid\" onClick={onClick}>\r\n          {allBudgetCycles.map(budgetCycle=>(\r\n            <>\r\n              <li key={budgetCycle.getTime()}>\r\n                <a className=\"dropdown-item\" data-budget-cycle={budgetCycle.getTime()}>\r\n                  {getBudgetCycleString(budgetCycle)}\r\n                  <em className=\"text-muted\">\r\n                  {getBudgetCycleDescription(budgetCycle) ? ` (${getBudgetCycleDescription(budgetCycle)})` : \"\"}\r\n                  </em>\r\n                </a>\r\n              </li>\r\n              {\r\n                isAllTransactionsBudgetCycle(budgetCycle) &&\r\n                (\r\n                  <li>\r\n                    <hr className=\"dropdown-divider\" />\r\n                  </li>\r\n                )\r\n              }\r\n            </>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      <button className=\"dashboard-month-dropdown-arrow dashboard-month-dropdown-arrow-right\" type=\"button\" onClick={incrementBudgetCycle}>\r\n        <i className=\"fas fa-chevron-right\"></i>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardBudgetCycleDropdown;\r\n","import {convertNumberToCurrency} from './../../utilities';\r\nimport {useBudgetCycleTransactions} from './../../hooks';\r\n\r\nimport DashboardBudgetCycleDropdown from './../DashboardBudgetCycleDropdown';\r\n\r\nimport './index.scss';\r\n\r\nconst DashboardTop = ({ transactions, accountsData, accountData, budgetCycle, allBudgetCycles, onBudgetCycleChange })=>{\r\n  const budgetCycleTransactions = useBudgetCycleTransactions(transactions, budgetCycle);\r\n\r\n  const currentBudgetCycleIncome = budgetCycleTransactions.income.length && budgetCycleTransactions.income.reduce((total, t)=>total+=t.Amount, 0);\r\n  const currentBudgetCycleExpenses = budgetCycleTransactions.expenses.length && budgetCycleTransactions.expenses.reduce((total, t)=>total+=t.Amount, 0);\r\n  const currentBudgetCycleRemaining = currentBudgetCycleIncome+currentBudgetCycleExpenses;\r\n\r\n  const getLastUpdatedDate = transactions=>{\r\n    if (!transactions.length) return null;\r\n\r\n    return new Date(Math.max(...transactions.map(t=>[t.DateCreated.getTime(), t.DateModified.getTime()]).flat()));\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard-top\">\r\n      <div className=\"dashboard-account-overview container-fluid py-2 px-3\">\r\n        <div className=\"container-fluid text-end text-muted my-2\">\r\n          Last Updated:&nbsp;\r\n          <span className=\"dashboard-accounts-total d-inline\">{getLastUpdatedDate(transactions) ? getLastUpdatedDate(transactions).toLocaleDateString(/*\"en-US\", {timeZone: \"UTC\"}*/) : \"--\"}</span>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"dashboard-accounts-total-container col text-center fw-bold h4 d-flex flex-column border-end border-2\">\r\n            Month Remaining:\r\n            <span className=\"dashboard-accounts-total\">{currentBudgetCycleRemaining ? convertNumberToCurrency(currentBudgetCycleRemaining) : \"--\"}</span>\r\n          </div>\r\n          <div className=\"dashboard-credit-score-container col text-center fw-bold h4 d-flex flex-column\">\r\n            Credit Score:\r\n            <span className=\"dashboard-credit-score\">{(accountData.length ? accountData.sort((a,b)=>a.LastUpdated+b.LastUpdated)/*sort descending*/.filter(record=>record.CreditScore)[0].CreditScore /*most recent LastUpdated*/ : \"--\")}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <DashboardBudgetCycleDropdown transactions={transactions} budgetCycle={budgetCycle} allBudgetCycles={allBudgetCycles} onChange={onBudgetCycleChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardTop;\r\n","import './index.scss';\r\n\r\nconst DashboardInsight = ({ insight })=>{\r\n  let insightTypeIconClass = insight.insightTypeIconClass;\r\n  if (!insightTypeIconClass) {\r\n    if (insight.type === \"primary\") {\r\n      insightTypeIconClass = \"fas fa-xs fa-info-circle\";\r\n    }\r\n    else if (insight.type === \"success\") {\r\n      insightTypeIconClass = \"fas fa-xs fa-check-circle\";\r\n    }\r\n    else if (insight.type === \"warning\") {\r\n      insightTypeIconClass = \"fas fa-xs fa-exclamation-triangle\";\r\n    }\r\n    else if (insight.type === \"danger\") {\r\n      insightTypeIconClass = \"fas fa-xs fa-times-circle\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={`dashboard-insight alert alert-${insight.type}`}>\r\n      <div>\r\n        <i className={`${insight.iconClass ?? \"fas fa-sliders-h\"} me-1`}></i>\r\n        <h3 className=\"d-inline-block\">{insight.title}</h3>\r\n      </div>\r\n      <i className={`${insightTypeIconClass} me-1`}></i>\r\n      <span>{insight.text}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardInsight;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport DashboardInsight from './../DashboardInsight';\r\nimport {getSumByProp, convertNumberToCurrency, getBudgetAmountSpentFromTransactions} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst DashboardInsights = ({ budgetCycle, budgetCycleTransactions, budgetCycleBudgets })=>{\r\n  const [insights, setInsights] = useState([]);\r\n\r\n  const runInsights = ()=>{\r\n    if (!budgetCycleTransactions.all.length || !budgetCycleBudgets.length) return;\r\n\r\n    //First, remove all insights\r\n    setInsights([]);\r\n\r\n    //Declare variables\r\n    const budgetCycleBudgetsWithSpent = budgetCycleBudgets.map(b=>({\r\n      ...b,\r\n      Spent: getBudgetAmountSpentFromTransactions(b.Name, budgetCycleTransactions.all) || 0,\r\n    }));\r\n\r\n    /* Check if less was earned for this month than expected */\r\n    const incomeExpected = budgetCycleBudgets.find(budgetData=>budgetData.Name===\"Infor payroll\").Amount;\r\n    const incomebudgetCycleBudgets = budgetCycleBudgets.filter(budgetData=>budgetData.Type===\"income\");\r\n    const incomeEarned = incomebudgetCycleBudgets.reduce((total,b)=>total+=getBudgetAmountSpentFromTransactions(b.Name, budgetCycleTransactions.all), 0);\r\n    const incomeUnderEarned = (incomeEarned - incomeExpected)*-1;\r\n    if (incomeUnderEarned > 0) {\r\n      const insight = {\r\n        type: \"danger\",\r\n        iconClass: \"fas fa-chart-pie\",\r\n        title: \"Analysis\",\r\n        text: `You have under-earned ${convertNumberToCurrency(incomeUnderEarned)} for this month.`\r\n      };\r\n      setInsights(previousInsights=>[...previousInsights, insight]);\r\n    }\r\n\r\n    /* Check if the user is over on any budgets */\r\n    const budgetsOver = budgetCycleBudgetsWithSpent.filter(budgetDataWithSpent=>![\"income\",\"savings\"].includes(budgetDataWithSpent.Type) && budgetDataWithSpent.Amount !== 0 && budgetDataWithSpent.Spent < budgetDataWithSpent.Amount);\r\n    if (budgetsOver.length) {\r\n      const insight = {\r\n        type: \"danger\",\r\n        iconClass: \"fas fa-chart-pie\",\r\n        title: \"Analysis\",\r\n        text: `You are overspent on ${budgetsOver.length} budgets.`\r\n      };\r\n      setInsights(previousInsights=>[...previousInsights, insight]);\r\n    }\r\n\r\n    /* Check if there is money left in the \"Personal Spending\" or \"Bradley\" budget */\r\n    const personalSpendingBudgets = budgetCycleBudgets.filter(budgetData=>[\"Personal Spending\", \"Bradley\", \"Sarah\"].includes(budgetData.Name));\r\n    personalSpendingBudgets.forEach(personalSpendingBudget=>{\r\n      const personalSpendingBudgetLeft = getBudgetAmountSpentFromTransactions(personalSpendingBudget.Name, budgetCycleTransactions.all) - personalSpendingBudget.Amount;\r\n      if (personalSpendingBudgetLeft > 0) {\r\n        const insight = {\r\n          type: \"primary\",\r\n          iconClass: \"fas fa-chart-pie\",\r\n          title: \"Analysis\",\r\n          text: `You have ${convertNumberToCurrency(personalSpendingBudgetLeft)} remaining in \"${personalSpendingBudget.Name}\".`\r\n        };\r\n        setInsights(previousInsights=>[...previousInsights, insight]);\r\n      }\r\n    });\r\n\r\n    /* Check if any bills were overpaid */\r\n    const overspentBillsWithSpent = budgetCycleBudgetsWithSpent.filter(budgetWithSpent=>budgetWithSpent.Type === \"bill\" && budgetWithSpent.Spent < budgetWithSpent.Amount);\r\n    if (overspentBillsWithSpent.length) {\r\n      overspentBillsWithSpent.forEach(overspentBillWithSpent=>{\r\n        const insight = {\r\n          type: \"danger\",\r\n          iconClass: \"fas fa-exclamation\",\r\n          title: \"Higher Bill\",\r\n          text: `You overpaid bill ${overspentBillWithSpent.Name} by ${convertNumberToCurrency(Math.abs(overspentBillWithSpent.Spent)-Math.abs(overspentBillWithSpent.Amount))}.`\r\n        };\r\n        console.log(overspentBillWithSpent)\r\n        setInsights(previousInsights=>[...previousInsights, insight]);\r\n      });\r\n    }\r\n\r\n    /* Check if a bill has gone up */\r\n    const bills = budgetCycleBudgets.filter(budgetData=>budgetData.type===\"bill\");\r\n    bills.forEach(bill=>{\r\n      const amountSpent = getBudgetAmountSpentFromTransactions(bill.name, budgetCycleTransactions.all)\r\n      if (!amountSpent) return;\r\n      if (Math.abs(amountSpent) > Math.abs(bill.amount)) {\r\n        const insight = {\r\n          type: \"warning\",\r\n          iconClass: \"fas fa-chart-bar\",\r\n          title: \"Trends\",\r\n          text: `Bill \"${bill.name}\" has gone up ${convertNumberToCurrency(Math.abs(amountSpent)-Math.abs(bill.amount))}.`\r\n        };\r\n        setInsights(previousInsights=>[...previousInsights, insight]);\r\n      }\r\n    });\r\n\r\n    /* Check how much money flexible money is left this budget cycle */\r\n    const totalIncome = getSumByProp(budgetCycleTransactions.income, \"Amount\");\r\n    const totalExpenses = getSumByProp(budgetCycleTransactions.expenses, \"Amount\");\r\n    const remainingBillsToBePaid =\r\n      /* Add a \"Spent\" key to each budget data */\r\n      budgetCycleBudgetsWithSpent\r\n      /* filter to only bills that have NOT been paid */\r\n      .filter(b=>b.Type===\"bill\" && b.Spent===0)\r\n      /* Get the sum of all the remaining money AFTER paid bills */\r\n      .reduce((total,b)=>total+=((b.Amount-b.Spent)*-1), 0)\r\n      /* Return the inverse (negative is surplus) */\r\n      *-1;\r\n    const leftoverPaidBillsMoney =\r\n      /* Add a \"Spent\" key to each budget data */\r\n      budgetCycleBudgetsWithSpent\r\n      /* filter to only bills that have been paid */\r\n      .filter(b=>b.Type===\"bill\" && b.Spent!==0)\r\n      /* Get the sum of all the remaining money AFTER paid bills */\r\n      .reduce((total,b)=>total+=((b.Amount-b.Spent)*-1), 0)\r\n    const remainingSavingsToBeSaved =\r\n      /* Add a \"Spent\" key to each budget data */\r\n      budgetCycleBudgetsWithSpent\r\n      /* filter to only savings */\r\n      .filter(b=>b.Type===\"savings\")\r\n      /* Get the sum of all the remaining money AFTER paid bills */\r\n      .reduce((total,b)=>total+=((b.Amount-b.Spent)*-1), 0)\r\n      /* Return the inverse (negative is surplus) */\r\n      *-1;\r\n    const remainingFlexibleSpendingMoney = totalIncome + totalExpenses + leftoverPaidBillsMoney + remainingBillsToBePaid + remainingSavingsToBeSaved;\r\n    console.log(remainingFlexibleSpendingMoney, totalIncome, totalExpenses, leftoverPaidBillsMoney, remainingBillsToBePaid, remainingSavingsToBeSaved)\r\n    if (remainingFlexibleSpendingMoney > 0) {\r\n      const insight = {\r\n        type: \"primary\",\r\n        iconClass: \"fas fa-chart-line\",\r\n        title: \"Projection\",\r\n        text: `You have ${convertNumberToCurrency(remainingFlexibleSpendingMoney)} of flexible money remaining.`\r\n      };\r\n      setInsights(previousInsights=>[...previousInsights, insight]);\r\n    }\r\n    else {\r\n      const insight = {\r\n        type: \"warning\",\r\n        iconClass: \"fas fa-chart-line\",\r\n        title: \"Projection\",\r\n        text: `You are ${convertNumberToCurrency(remainingFlexibleSpendingMoney)} in the negative of \"flexible\" money.`\r\n      };\r\n      setInsights(previousInsights=>[...previousInsights, insight]);\r\n    }\r\n\r\n    /* Check if there is money left to put into Savings */\r\n    const savingsBudgetData = budgetCycleBudgets.find(budgetData=>budgetData.Name===\"Savings\");\r\n    const savingsBudgetLeft = getBudgetAmountSpentFromTransactions(\"Savings\", budgetCycleTransactions.all) - savingsBudgetData.Amount;\r\n    if (savingsBudgetLeft > 0) {\r\n      const insight = {\r\n        type: \"primary\",\r\n        iconClass: \"fas fa-chart-pie\",\r\n        title: \"Analysis\",\r\n        text: `You have ${convertNumberToCurrency(savingsBudgetLeft)} more to put into \"Savings\".`\r\n      };\r\n      setInsights(previousInsights=>[...previousInsights, insight]);\r\n    }\r\n  };\r\n\r\n  useEffect(()=>{\r\n    runInsights();\r\n  }, [budgetCycleTransactions, budgetCycleBudgets]);\r\n\r\n  return (\r\n    <div className=\"dashboard-insights container mt-5\">\r\n      <h2 className=\"text-center mb-4\">Insights</h2>\r\n      {insights.map((insight,i)=>(\r\n        <DashboardInsight key={i} insight={insight} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardInsights;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport {getSumByProp, getBudgetCycleFromDate, getBudgetAmountSpentFromTransactions} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst DashboardShowcase = ({ budgetCycle, budgetCycleTransactions, budgetCycleBudgets })=>{\r\n  //Current statuses\r\n  const budgetCycleStatuses = [\r\n    {\r\n      heading: \"Over-budget \",\r\n      description: \"You have majorly overspent this month.\",\r\n      test: (budgetCycle, budgetCycleTransactions, budgetCycleBudgets)=>{\r\n        const isCurrentBudgetCycle = budgetCycle.getTime() === getBudgetCycleFromDate(new Date()).getTime();\r\n        const totalIncome = getSumByProp(budgetCycleTransactions.income, \"Amount\");\r\n        const totalExpenses = getSumByProp(budgetCycleTransactions.expenses, \"Amount\");\r\n        return isCurrentBudgetCycle && (totalIncome + totalExpenses) < 0;\r\n\t\t\t}\r\n    },\r\n    {\r\n      heading: \"Looking bad \",\r\n      description: \"You are projected to overspend this month.\",\r\n      test: (budgetCycle, budgetCycleTransactions, budgetCycleBudgets)=>{\r\n        const isCurrentBudgetCycle = budgetCycle.getTime() === getBudgetCycleFromDate(new Date()).getTime();\r\n        const totalIncome = getSumByProp(budgetCycleTransactions.income, \"Amount\");\r\n        const totalExpenses = getSumByProp(budgetCycleTransactions.expenses, \"Amount\");\r\n        const remainingBillsToBePaid =\r\n          /* Add a \"Spent\" key to each budget data */\r\n          budgetCycleBudgets.map(b=>({\r\n            ...b,\r\n            Spent: getBudgetAmountSpentFromTransactions(b.Name, budgetCycleTransactions.all) || 0,\r\n          }))\r\n          /* filter to only bills that have NOT been paid */\r\n          .filter(b=>b.Type===\"bill\" && b.Spent===0)\r\n          /* Get the sum of all the remaining money AFTER paid bills */\r\n          .reduce((total,b)=>total+=((b.Amount-b.Spent)*-1), 0)\r\n          /* Return the inverse (negative is surplus) */\r\n          *-1;\r\n        const leftoverPaidBillsMoney =\r\n          /* Add a \"Spent\" key to each budget data */\r\n          budgetCycleBudgets.map(b=>({\r\n            ...b,\r\n            Spent: getBudgetAmountSpentFromTransactions(b.Name, budgetCycleTransactions.all) || 0,\r\n          }))\r\n          /* filter to only bills that have been paid */\r\n          .filter(b=>b.Type===\"bill\" && b.Spent!==0)\r\n          /* Get the sum of all the remaining money AFTER paid bills */\r\n          .reduce((total,b)=>total+=((b.Amount-b.Spent)*-1), 0)\r\n        const remainingSavingsToBeSaved =\r\n          /* Add a \"Spent\" key to each budget data */\r\n          budgetCycleBudgets.map(b=>({\r\n            ...b,\r\n            Spent: getBudgetAmountSpentFromTransactions(b.Name, budgetCycleTransactions.all) || 0,\r\n          }))\r\n          /* filter to only savings */\r\n          .filter(b=>b.Type===\"savings\")\r\n          /* Get the sum of all the remaining money AFTER paid bills */\r\n          .reduce((total,b)=>total+=((b.Amount-b.Spent)*-1), 0)\r\n          /* Return the inverse (negative is surplus) */\r\n          *-1;\r\n          const remainingFlexibleSpendingMoney = totalIncome + totalExpenses + leftoverPaidBillsMoney + remainingBillsToBePaid + remainingSavingsToBeSaved;\r\n        console.log(\"Budget status: \", remainingFlexibleSpendingMoney, isCurrentBudgetCycle, totalIncome, totalExpenses, remainingBillsToBePaid, leftoverPaidBillsMoney, remainingSavingsToBeSaved)\r\n        return isCurrentBudgetCycle && remainingFlexibleSpendingMoney < 0;\r\n\t\t\t}\r\n    },\r\n    {\r\n      heading: \"Getting tight \",\r\n      description: \"You are running low on money.\",\r\n      test: (budgetCycle, budgetCycleTransactions, budgetCycleBudgets)=>{\r\n        const isCurrentBudgetCycle = budgetCycle.getTime() === getBudgetCycleFromDate(new Date()).getTime();\r\n        const totalIncome = getSumByProp(budgetCycleTransactions.income, \"Amount\");\r\n        const totalExpenses = getSumByProp(budgetCycleTransactions.expenses, \"Amount\");\r\n        const remainingBillsToBePaid =\r\n          /* Add a \"Spent\" key to each budget data */\r\n          budgetCycleBudgets.map(b=>({\r\n            ...b,\r\n            Spent: getBudgetAmountSpentFromTransactions(b.Name, budgetCycleTransactions.all) || 0,\r\n          }))\r\n          /* filter to only bills that have NOT been paid */\r\n          .filter(b=>b.Type===\"bill\" && b.Spent===0)\r\n          /* Get the sum of all the remaining money AFTER paid bills */\r\n          .reduce((total,b)=>total+=((b.Amount-b.Spent)*-1), 0)\r\n          /* Return the inverse (negative is surplus) */\r\n          *-1;\r\n        const leftoverPaidBillsMoney =\r\n          /* Add a \"Spent\" key to each budget data */\r\n          budgetCycleBudgets.map(b=>({\r\n            ...b,\r\n            Spent: getBudgetAmountSpentFromTransactions(b.Name, budgetCycleTransactions.all) || 0,\r\n          }))\r\n          /* filter to only bills that have been paid */\r\n          .filter(b=>b.Type===\"bill\" && b.Spent!==0)\r\n          /* Get the sum of all the remaining money AFTER paid bills */\r\n          .reduce((total,b)=>total+=((b.Amount-b.Spent)*-1), 0)\r\n        const remainingSavingsToBeSaved =\r\n          /* Add a \"Spent\" key to each budget data */\r\n          budgetCycleBudgets.map(b=>({\r\n            ...b,\r\n            Spent: getBudgetAmountSpentFromTransactions(b.Name, budgetCycleTransactions.all) || 0,\r\n          }))\r\n          /* filter to only savings */\r\n          .filter(b=>b.Type===\"savings\")\r\n          /* Get the sum of all the remaining money AFTER paid bills */\r\n          .reduce((total,b)=>total+=((b.Amount-b.Spent)*-1), 0)\r\n          /* Return the inverse (negative is surplus) */\r\n          *-1;\r\n          const remainingFlexibleSpendingMoney = totalIncome + totalExpenses + leftoverPaidBillsMoney + remainingBillsToBePaid + remainingSavingsToBeSaved;\r\n        return isCurrentBudgetCycle && remainingFlexibleSpendingMoney < 250;\r\n\t\t\t}\r\n    },\r\n    {\r\n      heading: \"All good! \",\r\n      description: \"You are on track for this month.\",\r\n      test: (budgetCycle, budgetCycleTransactions, budgetCycleBudgets)=>{\r\n        const isCurrentBudgetCycle = budgetCycle.getTime() === getBudgetCycleFromDate(new Date()).getTime();\r\n        const totalIncome = getSumByProp(budgetCycleTransactions.income, \"Amount\");\r\n        const totalExpenses = getSumByProp(budgetCycleTransactions.expenses, \"Amount\");\r\n        const remainingBillsToBePaid =\r\n          /* Add a \"Spent\" key to each budget data */\r\n          budgetCycleBudgets.map(b=>({\r\n            ...b,\r\n            Spent: getBudgetAmountSpentFromTransactions(b.Name, budgetCycleTransactions.all) || 0,\r\n          }))\r\n          /* filter to only bills that have NOT been paid */\r\n          .filter(b=>b.Type===\"bill\" && b.Spent===0)\r\n          /* Get the sum of all the remaining money AFTER paid bills */\r\n          .reduce((total,b)=>total+=((b.Amount-b.Spent)*-1), 0)\r\n          /* Return the inverse (negative is surplus) */\r\n          *-1;\r\n        const leftoverPaidBillsMoney =\r\n          /* Add a \"Spent\" key to each budget data */\r\n          budgetCycleBudgets.map(b=>({\r\n            ...b,\r\n            Spent: getBudgetAmountSpentFromTransactions(b.Name, budgetCycleTransactions.all) || 0,\r\n          }))\r\n          /* filter to only bills that have been paid */\r\n          .filter(b=>b.Type===\"bill\" && b.Spent!==0)\r\n          /* Get the sum of all the remaining money AFTER paid bills */\r\n          .reduce((total,b)=>total+=((b.Amount-b.Spent)*-1), 0)\r\n        const remainingSavingsToBeSaved =\r\n          /* Add a \"Spent\" key to each budget data */\r\n          budgetCycleBudgets.map(b=>({\r\n            ...b,\r\n            Spent: getBudgetAmountSpentFromTransactions(b.Name, budgetCycleTransactions.all) || 0,\r\n          }))\r\n          /* filter to only savings */\r\n          .filter(b=>b.Type===\"savings\")\r\n          /* Get the sum of all the remaining money AFTER paid bills */\r\n          .reduce((total,b)=>total+=((b.Amount-b.Spent)*-1), 0)\r\n          /* Return the inverse (negative is surplus) */\r\n          *-1;\r\n          const remainingFlexibleSpendingMoney = totalIncome + totalExpenses + leftoverPaidBillsMoney + remainingBillsToBePaid + remainingSavingsToBeSaved;\r\n        return isCurrentBudgetCycle && remainingFlexibleSpendingMoney >= 250;\r\n\t\t\t}\r\n    },\r\n    //Past statuses\r\n    {\r\n      heading: \"Over-budget \",\r\n      description: \"You overspent this month.\",\r\n      test: (budgetCycle, budgetCycleTransactions, budgetCycleBudgets)=>{\r\n        const isPastBudgetCycle = budgetCycle.getTime() < getBudgetCycleFromDate(new Date()).getTime();\r\n        const totalIncome = getSumByProp(budgetCycleTransactions.income, \"Amount\");\r\n        const totalExpenses = getSumByProp(budgetCycleTransactions.expenses, \"Amount\");\r\n        return isPastBudgetCycle && (totalIncome + totalExpenses) < 0;\r\n\t\t\t}\r\n    },\r\n    {\r\n      heading: \"Done \",\r\n      description: \"You were on track for this month.\",\r\n      test: (budgetCycle, budgetCycleTransactions, budgetCycleBudgets)=>{\r\n        const isPastBudgetCycle = budgetCycle.getTime() < getBudgetCycleFromDate(new Date()).getTime();\r\n        const totalIncome = getSumByProp(budgetCycleTransactions.income, \"Amount\");\r\n        const totalExpenses = getSumByProp(budgetCycleTransactions.expenses, \"Amount\");\r\n        return isPastBudgetCycle && (totalIncome + totalExpenses) >= 0;\r\n\t\t\t}\r\n    },\r\n    //Future statuses\r\n    {\r\n      heading: \" \",\r\n      description: \"You're going to overspend this month.\",\r\n      test: (budgetCycle, budgetCycleTransactions, budgetCycleBudgets)=>{\r\n        const isFutureBudgetCycle = budgetCycle.getTime() > getBudgetCycleFromDate(new Date()).getTime();\r\n        const totalIncome = getSumByProp(budgetCycleTransactions.income, \"Amount\");\r\n        const totalExpenses = getSumByProp(budgetCycleTransactions.expenses, \"Amount\");\r\n        return isFutureBudgetCycle && (totalIncome + totalExpenses) < 0;\r\n\t\t\t}\r\n    },\r\n    {\r\n      heading: \"Looking good \",\r\n      description: \"You're going to be on track for this month.\",\r\n      test: (budgetCycle, budgetCycleTransactions, budgetCycleBudgets)=>{\r\n        const isFutureBudgetCycle = budgetCycle.getTime() > getBudgetCycleFromDate(new Date()).getTime();\r\n        const totalIncome = getSumByProp(budgetCycleTransactions.income, \"Amount\");\r\n        const totalExpenses = getSumByProp(budgetCycleTransactions.expenses, \"Amount\");\r\n        return isFutureBudgetCycle && (totalIncome + totalExpenses) >= 0;\r\n\t\t\t}\r\n    },\r\n  ];\r\n\r\n  const getBudgetCycleStatus = (budgetCycle, budgetCycleTransactions, budgetCycleBudgets)=>{\r\n    if (!budgetCycle || !budgetCycleTransactions.all.length || !budgetCycleBudgets.length) return null;\r\n    return budgetCycleStatuses.find(status=>status.test(budgetCycle, budgetCycleTransactions, budgetCycleBudgets));\r\n  };\r\n\r\n  const [budgetCycleStatus, setBudgetCycleStatus] = useState(getBudgetCycleStatus(budgetCycle, budgetCycleTransactions, budgetCycleBudgets));\r\n\r\n  useEffect(()=>\r\n    setBudgetCycleStatus(getBudgetCycleStatus(budgetCycle, budgetCycleTransactions, budgetCycleBudgets))\r\n  , [budgetCycle, budgetCycleTransactions, budgetCycleBudgets]);\r\n\r\n  return (\r\n    <div className=\"dashboard-showcase container d-flex flex-column justify-content-center align-items-center bg-primary text-light my-3 mx-auto\">\r\n      <i className=\"dashboard-showcase-icon fas fa-check-circle fa-2x mb-4\"></i>\r\n      <h3 className=\"dashboard-showcase-heading fw-bold h2\">{budgetCycleStatus?.heading}</h3>\r\n      <span className=\"dashboard-showcase-description h6 text-center\">{budgetCycleStatus?.description}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardShowcase;\r\n","import {useEffect} from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\n\r\nimport {useBudgetCycleTransactions, useBudgetCycleBudgets} from './../../hooks';\r\n\r\nimport './index.scss';\r\n\r\nimport DashboardTop from './../DashboardTop';\r\nimport DashboardInsights from './../DashboardInsights';\r\nimport DashboardShowcase from './../DashboardShowcase';\r\n\r\nconst DashboardView = ({ signedInUser, transactions, accountsData, accountData, budgetsData, budgetCycle, allBudgetCycles, onBudgetCycleChange, setFooterNavbar })=>{\r\n  //Send the route to the footer navbar\r\n  const route = useLocation().pathname;\r\n  useEffect(()=>{\r\n    setFooterNavbar(route);\r\n  }, [route]);\r\n\r\n  const budgetCycleTransactions = useBudgetCycleTransactions(transactions, budgetCycle);\r\n  const budgetCycleBudgets = useBudgetCycleBudgets(budgetsData, budgetCycle);\r\n\r\n  return (\r\n    <div className=\"view dashboard-view d-flex flex-column\">\r\n      <main className=\"main flex-grow-1\">\r\n        <DashboardTop transactions={transactions} accountsData={accountsData} accountData={accountData} budgetCycle={budgetCycle} allBudgetCycles={allBudgetCycles} onBudgetCycleChange={onBudgetCycleChange} />\r\n        <DashboardShowcase budgetCycle={budgetCycle} budgetCycleTransactions={budgetCycleTransactions} budgetCycleBudgets={budgetCycleBudgets} />\r\n        <DashboardInsights budgetCycle={budgetCycle} budgetCycleTransactions={budgetCycleTransactions} budgetCycleBudgets={budgetCycleBudgets} />\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardView;\r\n","import './index.scss';\r\n\r\nconst BudgetGraphStatusIcon = ({ budget, overBudget, overEarned })=> {\r\n  let iconClass;\r\n  let iconText;\r\n  let iconColor;\r\n\r\n  if (budget.Type === \"bill\") {\r\n    if (budget.amountSpent) {\r\n      if (!overBudget) {\r\n        iconClass = \"fas fa-check-circle\";\r\n        iconText = \"Paid\";\r\n        iconColor = \"success\";\r\n      }\r\n      else {\r\n        iconClass = \"fas fa-times-circle\";\r\n        iconText = \"Overpaid\";\r\n        iconColor = \"danger\";\r\n      }\r\n    }\r\n    else {\r\n      iconClass = \"\";\r\n      iconText = \"Pending\";\r\n      iconColor = \"secondary\";\r\n    }\r\n  }\r\n  if (budget.Type === \"income\") {\r\n    if (budget.amountSpent) {\r\n      //if (budget.amountSpent === budget.Amount) {\r\n      //Acount for floating-point errors\r\n      if (\r\n          0 <= Math.abs(budget.amountSpent-budget.Amount) &&\r\n          Math.abs(budget.amountSpent-budget.Amount) < 0.000000000001\r\n        ) {\r\n        iconClass = \"fas fa-check-circle\";\r\n        iconText = \"Earned\";\r\n        iconColor = \"success\";\r\n      }\r\n      else if (overEarned) {\r\n        iconClass = \"fas fa-check-circle\";\r\n        iconText = \"Over-earned\";\r\n        iconColor = \"success\";\r\n      }\r\n      else if (!overEarned) {\r\n        iconClass = \"fas fa-exclamation-triangle\";\r\n        iconText = \"Under-earned\";\r\n        iconColor = \"warning\";\r\n      }\r\n    }\r\n  }\r\n\r\n  //If there's an icon to render, render\r\n  if (iconText) {\r\n    return (\r\n      <div className={`budget-graph-status-icon-container d-inline-block badge rounded-pill text-${iconColor} bg-light ms-1 border border-${iconColor}`}>\r\n        <i className={`budget-graph-status-icon fas fa-xs ${iconClass} me-1`}></i>\r\n        <span>{iconText}</span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  //Otherwise, return null\r\n  return null;\r\n};\r\n\r\nexport default BudgetGraphStatusIcon;\r\n","import {convertNumberToCurrency} from './../../utilities';\r\n\r\nimport BudgetGraphStatusIcon from './../BudgetGraphStatusIcon';\r\n\r\nimport './index.scss';\r\n\r\nconst BudgetGraph = ({ budget })=>{\r\n  const isExpenseBudget = budget.Type !== \"income\";\r\n  const overBudget = (isExpenseBudget ? budget.amountSpent < budget.Amount : false);\r\n  const overEarned = (!isExpenseBudget ? budget.amountSpent > budget.Amount : false);\r\n\r\n  return (\r\n    <div className=\"budget-graph-container my-4\">\r\n      <h5 className=\"budget-graph-title d-inline-block\">{budget.Name}</h5>\r\n      <BudgetGraphStatusIcon budget={budget} overBudget={overBudget} overEarned={overEarned} />\r\n      <div className=\"budget-graph-bar-outer\">\r\n        <h6 className=\"budget-graph-bar-stats\" style={\r\n          {\r\n            color: (!overBudget\r\n              ? \"black\" //\"rgb(245,245,245)\"\r\n              : \"darkred\"\r\n            ),\r\n          }\r\n        }>\r\n          {convertNumberToCurrency(Math.abs(budget.amountSpent))} of {convertNumberToCurrency(Math.abs(budget.Amount))} {(isExpenseBudget ? \"spent\" : \"earned\")}\r\n        </h6>\r\n        <h6 className=\"budget-graph-bar-remaining text-muted\" >\r\n          {convertNumberToCurrency(budget.Amount - budget.amountSpent)} {(overBudget ? \"overspent\" : \"remaining\")}\r\n        </h6>\r\n        <div className=\"budget-graph-bar-inner\" style={\r\n          {\r\n            backgroundColor: (!isExpenseBudget ? \"green\" :  (overBudget ? \"red\" : budget.color)),\r\n            width: (overBudget\r\n              ? `calc(100% * ${(budget.amountSpent - budget.Amount)/budget.Amount})`\r\n              : `calc(100% * ${budget.amountSpent/budget.Amount})`\r\n            ),\r\n            left: (overBudget\r\n              ? \"unset\"\r\n              : 0\r\n            ),\r\n            right: (overBudget\r\n              ? 0\r\n              : \"unset\"\r\n            ),\r\n          }\r\n        }></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BudgetGraph;\r\n","import {useEffect} from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\n\r\nimport BudgetGraph from './../BudgetGraph';\r\nimport DashboardBudgetCycleDropdown from './../DashboardBudgetCycleDropdown';\r\n\r\nimport {getBudgetAmountSpentFromTransactions} from './../../utilities';\r\n\r\nimport {useBudgetCycleTransactions, useBudgetCycleBudgets} from './../../hooks';\r\n\r\nimport './index.scss';\r\n\r\nconst BudgetsView = ({ transactions, budgetsData, budgetCycle, allBudgetCycles, onBudgetCycleChange, setFooterNavbar })=>{\r\n  //Send the route to the footer navbar\r\n  const route = useLocation().pathname;\r\n  useEffect(()=>{\r\n    setFooterNavbar(route);\r\n  }, [route]);\r\n\r\n  const budgetCycleTransactions = useBudgetCycleTransactions(transactions, budgetCycle);\r\n  const budgetCycleBudgets = useBudgetCycleBudgets(budgetsData, budgetCycle);\r\n\r\n  return (\r\n    <div className=\"view budgets-view\">\r\n      <DashboardBudgetCycleDropdown transactions={transactions} budgetCycle={budgetCycle} allBudgetCycles={allBudgetCycles} onChange={onBudgetCycleChange} squashed />\r\n      <div className=\"container\">\r\n        <h1 className=\"page-title display-3\">Month Overview</h1>\r\n        <div className=\"budget-graphs\">\r\n\r\n          {\r\n            (\r\n              !budgetCycleBudgets ?\r\n              '' :\r\n              budgetCycleBudgets.map(budgetData=>\r\n                <BudgetGraph key={budgetData.Name} budget={{...budgetData, color: \"#2196f3\", amountSpent: getBudgetAmountSpentFromTransactions(budgetData.Name, budgetCycleTransactions.all)}}/>\r\n              )\r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BudgetsView;\r\n","import {useState} from 'react';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionsImportForm = ({ isOpen, onSubmit:onSubmitProp, onFileInputChange:onFileInputChangeProp })=>{\r\n  const [scrapedTransactionsData, setScrapedTransactionsData] = useState(\"\");\r\n\r\n  const onTransactionsImportFormInputChange = event=>{\r\n    const scrapedText = event.target.value;\r\n    setScrapedTransactionsData(scrapedText);\r\n  };\r\n\r\n  const onTransactionsImportFormFileInputChange = async event=>{\r\n    //Prevent default behavior\r\n    event.preventDefault();\r\n\r\n    const transactionsDataFiles = [...event.target.files];\r\n\r\n    //Get the transactions data\r\n    const transactionsDataArray = [];\r\n    await Promise.all(  //Promise.all handles an array of Promises\r\n      transactionsDataFiles.map(async file=>{\r\n        const fileContent = await file.text();\r\n        transactionsDataArray.push(fileContent);\r\n      })\r\n    );\r\n\r\n    //Reset the file input\r\n    event.target.value = \"\";\r\n\r\n    //Call the parent handler\r\n    onFileInputChangeProp(transactionsDataArray);\r\n  };\r\n\r\n  const onSubmit = event=>{\r\n    //Prevent form submission\r\n    event.preventDefault();\r\n\r\n    //Save the current value\r\n    const scrapedTransactionsDataValue = scrapedTransactionsData;\r\n\r\n    //Reset the input\r\n    setScrapedTransactionsData(\"\");\r\n\r\n    //Send it to the parent\r\n    onSubmitProp(scrapedTransactionsDataValue);\r\n  };\r\n\r\n  return (\r\n    !isOpen ?\r\n    null :\r\n    <form className=\"transaction-import-form\" onSubmit={onSubmit}>\r\n      <div>\r\n        <label className=\"form-label\">Transactions</label>\r\n        <div className=\"input-group mb-2\">\r\n          <textarea id=\"transaction-import-input\" className=\"transaction-import-input form-control\" rows=\"1\" onChange={onTransactionsImportFormInputChange}></textarea>\r\n          <button className=\"btn btn-primary input-group-text\" type=\"submit\">Import</button>\r\n        </div>\r\n        <p className=\"form-text\">Paste transactions data for parsing.</p>\r\n        <div>\r\n          <label className=\"form-label\">Or, import a comma-separated values (*.csv) file.</label>\r\n          <input className=\"transaction-import-form-input-file form-control\" type=\"file\" accept=\".csv\" multiple onChange={onTransactionsImportFormFileInputChange} />\r\n        </div>\r\n        <div id=\"transaction-import-form-status\"></div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default TransactionsImportForm;\r\n","// ## FEATUERS\r\n// - InputDropdown list opens when:\r\n//    * clicked anywhere inside of\r\n//    * when the .input-dropdown-input receives input\r\n//    * when the \"Up\" or \"Down\" keys are pressed with the .input-dropdown-input focused\r\n// - InputDropdown list closes when:\r\n//    * a selection is clicked or chosen with the \"Enter\" key\r\n//    * a click occurs outside of the InputDropdown\r\n//    * the InputDropdown loses focus (activates after 100ms, to not conflict with cilck events)\r\n//    * another element is focused on\r\n//    * the \"Esc\" key is pressed\r\n//    * the chevron is clicked while the InputDropdown is open\r\n// - InputDropdown list items can be selected by:\r\n//    * clicking on a list item using\r\n//    * using the \"Up\" and \"Down\" keys along with the \"Enter\" key (when .input-dropdown-input focused)\r\n// - InputDropdown list items can be filtered/highlighted by inputting into .input-dropdown-input\r\n// ## DESIGN\r\n// - .input-dropdown-input takes 100% of InputDropdown width\r\n// - .input-dropdown-list height maxes out and scrolls afterward\r\n// - .input-dropdown-list will scroll as selection moves\r\n// - .input-dropdown-list will only move the selection if the InputDropdown list was already open--if the .input-dropdown-list was opened using the \"Up\" or \"Down\" key, the selection will remain on the current value\r\n// ## OPTIONS\r\n// - setToStartingValueOnInputDropdownClose\r\n// - selectTopListItemOnInputDropdownInputChange\r\n\r\n\r\nimport {useState, useEffect, useRef} from 'react';\r\n\r\nimport {isDescendantOf, matchValueAgainstValue} from './../../utilities';\r\n\r\n//import './InputDropdown.js';\r\nimport './InputDropdown.css';\r\nimport './index.scss';\r\n\r\nconst InputDropdown = (props)=>{\r\n  const { name, value:initialValue=\"\", items:initialItems=[], placeholder, tabIndex, inputDropdownInputRef, className, onSubmit:onSubmitProp } = props;\r\n\r\n  const options = {\r\n    setToStartingValueOnInputDropdownClose: false,\r\n    selectTopListItemOnInputDropdownInputChange: false,\r\n  };\r\n\r\n  const inputDropdownInputListeners = Object.entries(props)\r\n    .filter(([propName, propValue])=>propName.match(\"onInputDropdownInput[A-Z]\"))\r\n    .filter(([propName])=>![\"onInputDropdownInputChange\", \"onInputDropdownInputFocus\"].includes(propName)) //remove listeners that will be attached to component-level listeners\r\n    .map(([propName, propValue])=>{const matches = propName.match(/onInputDropdownInput(\\w+)/);\r\n      return [\r\n        (matches ? `on${matches[1]}` : propName),\r\n        propValue,\r\n      ];\r\n    })\r\n    .reduce((acc, [propName, propValue])=>({\r\n      ...acc,\r\n      [propName]: propValue,\r\n    }), {});\r\n\r\n  const filterListItems = (items, searchFilter)=>{\r\n    if (!searchFilter) return items;\r\n\r\n    //Add .hidden to unmatched items\r\n    return items.filter(item=>matchValueAgainstValue(item, searchFilter));\r\n  };\r\n\r\n  const [value, setValue] = useState(initialValue);\r\n  const [startingValue, setStartingValue] = useState(null);\r\n  const [searchFilter, setSearchFilter] = useState(null)\r\n  const [filteredListItems, setFilteredListItems] = useState(filterListItems(initialItems, searchFilter));\r\n  const [selectedListItem, setSelectedListItem] = useState(null);\r\n  const [isInputDropdownOpen, setIsInputDropdownOpen] = useState(false);\r\n  const [wasInputDropdownOpen, setWasInputDropdownOpen] = useState(false);\r\n\r\n  const inputDropdownListRef = useRef(null);\r\n  const inputDropdownRef = useRef(null);\r\n\r\n  //Declare helper functions\r\n  const isDescendantOfDropdown = element => {\r\n    if (\r\n      !element.classList.contains(\"input-dropdown\") &&\r\n      element.parentElement\r\n    ) return isDescendantOfDropdown(element.parentElement);\r\n\r\n    if (element.classList.contains(\"input-dropdown\")) return element;\r\n\r\n    return false;\r\n  };\r\n\r\n  //Declare functions\r\n  const checkInputDropdownListSelectionScroll = ()=>{\r\n    //If there is no selected item, exit\r\n    if(!selectedListItem) return;\r\n\r\n    //Find the selected list item's DOM node\r\n    const selectedListItemNode = [...inputDropdownListRef.current.querySelectorAll(\".input-dropdown-list-item\")].find(item=>item.innerText === selectedListItem);\r\n\r\n    if (!selectedListItemNode) return;\r\n\r\n    const selectedListItemNodeRect = selectedListItemNode.getBoundingClientRect();\r\n    const inputDropdownListViewport = inputDropdownListRef.current.getBoundingClientRect();\r\n    const topIsBelowNotAboveViewportTop = selectedListItemNodeRect.top >= inputDropdownListViewport.top;\r\n    const bottomIsAboveNotBelowViewportBottom = selectedListItemNodeRect.bottom <= inputDropdownListViewport.bottom;\r\n\r\n    //Shift the view of the dropdown list (via scroll), if necessary\r\n\r\n    //If the top is above the viewport, attempt to scroll the viewport to the top of the selection (or to the bottom scrollable area, if selection is at the bottom)\r\n    if (!topIsBelowNotAboveViewportTop) {\r\n      return inputDropdownListRef.current.scroll({top: inputDropdownListRef.current.scrollTop + (selectedListItemNodeRect.top - inputDropdownListViewport.top)});\r\n    }\r\n\r\n    //Or, if the bottom is below the viewport, scroll the viewport down 1 height unit until we can see the selection bottom\r\n    if (!bottomIsAboveNotBelowViewportBottom) {\r\n      //return inputDropdownListRef.current.scroll({top: inputDropdownListRef.current.scrollTop + (selectedListItemNodeRect.height * (Math.floor((selectedListItemNodeRect.bottom - inputDropdownListViewport.bottom)/selectedListItemNodeRect.height)+1))});\r\n      return inputDropdownListRef.current.scroll({top: inputDropdownListRef.current.scrollTop + (selectedListItemNodeRect.bottom - inputDropdownListViewport.bottom)});\r\n    }\r\n  };\r\n\r\n  const addInputDropdownListItemSelection = (text, selectedListItem)=>{\r\n    if (!selectedListItem) return \"\";\r\n\r\n    //Add .hidden to unmatched items\r\n    return (\r\n      text === selectedListItem ?\r\n      \"selected\" :\r\n      \"\"\r\n    );\r\n  };\r\n\r\n  const getInputDropdownListItemFilteredText = (text, searchFilter)=>{\r\n    //If no value was passed, exit\r\n    if(!searchFilter) return text;\r\n\r\n    const match = matchValueAgainstValue(text, searchFilter);\r\n    if (!match) return text;\r\n    return text.replace(match[1], `<mark className=\"input-dropdown-list-item-highlight\">$&</mark>`);\r\n  };\r\n\r\n  const openInputDropdown = ()=>{\r\n    setIsInputDropdownOpen(previouslyOpen=>{\r\n      setWasInputDropdownOpen(previouslyOpen);\r\n      if (previouslyOpen) return true;\r\n\r\n      //If opening from a closed state, save the starting value\r\n      setStartingValue(value);\r\n\r\n      //Set the selected value to the current value\r\n      setSelectedListItem(value);\r\n\r\n      return true;\r\n    });\r\n  };\r\n\r\n  const closeInputDropdown = ()=>{\r\n    //Reset the search filter\r\n    setSearchFilter(null);\r\n\r\n    //Reset the selected list item\r\n    setSelectedListItem(null);\r\n\r\n    //Close the input dropdown\r\n    setIsInputDropdownOpen(false);\r\n  };\r\n\r\n  const onOutsideClick = ()=>{\r\n    //Reset the value\r\n    if (options.setToStartingValueOnInputDropdownClose) setValue(startingValue);\r\n\r\n    //Close the input dropdown\r\n    closeInputDropdown();\r\n  };\r\n\r\n  //Declare event listeners\r\n  const onInputDropdownInputChange = event=>{\r\n    const newValue = event.target.value;\r\n\r\n    //Update the component's state\r\n    setValue(newValue);\r\n\r\n    //Update the search filter\r\n    setSearchFilter(newValue);\r\n\r\n    //Assure the input dropdown is open\r\n    openInputDropdown();\r\n\r\n    //Call the passed listener, if provided\r\n    if (props.onInputDropdownInputChange) props.onInputDropdownInputChange(event);\r\n  };\r\n\r\n  const onInputDropdownInputFocus = event=>{\r\n    //Assure the input dropdown is open\r\n    openInputDropdown();\r\n\r\n    //Call the passed listener, if provided\r\n    if (props.onInputDropdownInputFocus) props.onInputDropdownInputFocus(event);\r\n  };\r\n\r\n  const onInputDropdownListItemMouseDown = event=>{\r\n    //NOTE: Switching from onClick to onMouseDown due to browser issue\r\n    // where onClick is not registered due to list items disappearing\r\n    // from component re-render on onBlur\r\n    // https://github.com/facebook/react/issues/4210\r\n    const newValue = event.target.innerText;\r\n\r\n    //Set the value\r\n    setValue(newValue);\r\n\r\n    //Close the input dropdown\r\n    closeInputDropdown();\r\n\r\n    onSubmit({\r\n      ...event,\r\n      isSelectedListItem: true,\r\n    }, newValue);\r\n  };\r\n\r\n  const onInputDropdownListItemMouseMove = event=>{\r\n    const newSelectedListItem = event.target.innerText;\r\n\r\n    //Set the selected list item\r\n    setSelectedListItem(newSelectedListItem);\r\n  };\r\n\r\n  const onInputDropdownListMouseLeave = event=>{\r\n    //Clear the selected list item\r\n    setSelectedListItem(null);\r\n  };\r\n\r\n  const onClick = event=>{\r\n    const newValue = event.target.innerText;\r\n    const inputDropdownInput = event.target.closest(\".input-dropdown-input\");\r\n\r\n    //If the input dropdown was already open,\r\n    // and the click was not on the input,\r\n    // close the input dropdown\r\n    if (isInputDropdownOpen && !inputDropdownInput) return closeInputDropdown();\r\n\r\n    //Otherwise, open the input dropdown\r\n    openInputDropdown();\r\n  };\r\n\r\n  const onKeyDown = event=>{\r\n    //If the user pressed the \"Up\" or \"Down\" arrow,\r\n    //  \"Home\" or \"End\" keys\r\n    if (\r\n      event.keyCode === 38 /* Up */ ||\r\n      event.keyCode === 40 /* Down */ ||\r\n      event.keyCode === 36 /* Home */ ||\r\n      event.keyCode === 35 /* End */\r\n    ) {\r\n      event.preventDefault();\r\n\r\n      //If the user pressed the \"Up\" or \"Down\" arrow,\r\n      // and the input dropdown is not already open, open it\r\n      if (event.keyCode === 38 /* Up */ || event.keyCode === 40 /* Down */) {\r\n        if (!isInputDropdownOpen) return openInputDropdown();\r\n      }\r\n\r\n      //If the input dropdown is already open,\r\n      // select the next or previous dropdown list item\r\n      // based on the key pressed\r\n      let newSelectedListItemIndex;\r\n      if (event.keyCode === 38 /* Up */ || event.keyCode === 40 /* Down */) {\r\n        //If no list item is found for the current value,\r\n        // default to the top (\"Down\") or bottom (\"Up\"),\r\n        // or move one up or down from the current selection\r\n        const upOrDown = (event.keyCode === 38 ? -1 : 1);\r\n        const wrapAround = (event.keyCode === 38 ? filteredListItems.length : -1);\r\n        const selectedListItemIndex = (filteredListItems.indexOf(selectedListItem) === -1 ? wrapAround : filteredListItems.indexOf(selectedListItem));\r\n        newSelectedListItemIndex = (selectedListItemIndex + upOrDown + filteredListItems.length)%filteredListItems.length;\r\n      }\r\n      else if (event.keyCode === 36 /* Home */ || event.keyCode === 35 /* End */) {\r\n        //Select the first or last list item\r\n        newSelectedListItemIndex = (event.keyCode === 36 ? 0 : filteredListItems.length-1);\r\n      }\r\n\r\n      //Move the selection\r\n      const newSelectedListItem = filteredListItems[newSelectedListItemIndex];\r\n      setSelectedListItem(newSelectedListItem);\r\n\r\n      return;\r\n    }\r\n\r\n    //If the user hit the \"Esc\" key\r\n    if (event.keyCode === 27 /* Esc */) {\r\n      event.preventDefault();\r\n\r\n      //Reset the value\r\n      if (options.setToStartingValueOnInputDropdownClose) setValue(startingValue);\r\n\r\n      //Close the input dropdown\r\n      closeInputDropdown();\r\n\r\n      return;\r\n    }\r\n\r\n    //If the user hit the \"Enter\" key\r\n    if (event.keyCode === 13 /* Enter */) {\r\n      event.preventDefault();\r\n\r\n      //Set the value if we selected one\r\n      const newValue = (selectedListItem ? selectedListItem : value);\r\n\r\n      if (selectedListItem) setValue(selectedListItem);\r\n\r\n      //Reset the search filter\r\n      setSearchFilter(null);\r\n\r\n      //Close the input dropdown\r\n      closeInputDropdown();\r\n\r\n      //Act as though a form was submitted with a given value\r\n      onSubmit({\r\n        ...event,\r\n        isSelectedListItem: (selectedListItem ? true : false),\r\n      }, newValue);\r\n\r\n      return;\r\n    }\r\n  };\r\n\r\n  const onBlur = event=>{\r\n    //Close the input dropdown\r\n    window.setTimeout(()=>closeInputDropdown(), 100);\r\n  };\r\n\r\n  const onSubmit = (event, value)=>{\r\n    if (onSubmitProp) onSubmitProp(event, value);\r\n  };\r\n\r\n  //Update the dropdown value whenever a new value or items are passed\r\n  useEffect(()=>setValue(initialValue), [initialValue, initialItems]);\r\n\r\n  //Update the filtered list items whenever the search filter updates\r\n  // and set the selection to the top item\r\n  useEffect(()=>\r\n    setFilteredListItems(()=>{\r\n      //Filter the items\r\n      const newFilteredListItems = filterListItems(initialItems, searchFilter);\r\n\r\n      //Set the selected value to the first option\r\n      if (options.selectTopListItemOnInputDropdownInputChange)\r\n        setSelectedListItem(newFilteredListItems[0]);\r\n      else\r\n        setSelectedListItem(null);\r\n\r\n      return newFilteredListItems;\r\n    })\r\n  , [searchFilter, initialItems]);\r\n\r\n  //While the dropdown is open,\r\n  // when the selected list item changes,\r\n  // check the scroll on the dropdown list\r\n  // to assure the newly selected item is visible\r\n  useEffect(()=>{\r\n    checkInputDropdownListSelectionScroll();\r\n  }, [selectedListItem]);\r\n\r\n  //Add/remove onOutsideClick event listeners\r\n  useEffect(()=>{\r\n    const checkIfClickedOrFocusedOutsideOfDropdown = event=>{\r\n      //If we click outside of the dropdown or its children, close it\r\n      if (!isDescendantOf(event.target, inputDropdownRef.current)) onOutsideClick();\r\n    };\r\n\r\n    const addOnOutsideClick = ()=>{\r\n      document.addEventListener(\"click\", checkIfClickedOrFocusedOutsideOfDropdown);\r\n      document.addEventListener(\"focus\", checkIfClickedOrFocusedOutsideOfDropdown);\r\n    };\r\n\r\n    const removeOnOutsideClick = ()=>{\r\n      document.removeEventListener(\"click\", checkIfClickedOrFocusedOutsideOfDropdown);\r\n      document.removeEventListener(\"focus\", checkIfClickedOrFocusedOutsideOfDropdown);\r\n    };\r\n\r\n    //If closed, or was previously open, do not add the listener\r\n    if (!isInputDropdownOpen) return;\r\n\r\n    //Otherwise, if opening for the first time, add the onOutsideClick listener\r\n    addOnOutsideClick();\r\n\r\n    //Return side effect cleanup\r\n    return ()=>removeOnOutsideClick();\r\n  }, [isInputDropdownOpen, wasInputDropdownOpen]);\r\n\r\n  //useEffect(()=>console.log(`value: ${value}\\r\\nsearchFilter: ${searchFilter}\\r\\nselectedListItem: ${selectedListItem}\\r\\nfilteredListItems`, filteredListItems), [value, searchFilter, selectedListItem, filteredListItems])\r\n\r\n  return (\r\n    <div className={`input-dropdown ${className} ${isInputDropdownOpen ? \"open\" : \"\"}`} onClick={onClick} onKeyDown={onKeyDown} ref={inputDropdownRef} onBlur={onBlur} >\r\n      <input className=\"input-dropdown-input\" name={name} value={value} placeholder={placeholder} tabIndex={tabIndex} ref={inputDropdownInputRef} autoComplete=\"off\" onChange={onInputDropdownInputChange} onFocus={onInputDropdownInputFocus} {...inputDropdownInputListeners}/>\r\n      <div className=\"input-dropdown-chevron-container\">\r\n        <i className=\"input-dropdown-chevron\"></i>\r\n      </div>\r\n      <ul className=\"input-dropdown-list\" ref={inputDropdownListRef} onMouseLeave={onInputDropdownListMouseLeave} >\r\n        {filteredListItems.map(item=>\r\n          <li key={item} className={`input-dropdown-list-item ${addInputDropdownListItemSelection(item, selectedListItem)}`} onMouseDown={onInputDropdownListItemMouseDown} onMouseMove={onInputDropdownListItemMouseMove} dangerouslySetInnerHTML={{__html: getInputDropdownListItemFilteredText(item, searchFilter)}}></li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InputDropdown;\r\n","import {useState, useEffect, useRef} from 'react';\r\n\r\nimport InputDropdown from './../InputDropdown';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionsDataSearchForm = ({ budgetCycleTransactions, transactionProperties, searchFilters, onSubmit:onSubmitProp, onFilterClick:onFilterClickProp })=>{\r\n  const [search, setSearch] = useState(\"\");\r\n  const [isSearchSuggestionsOpen, setIsSearchSuggestionsOpen] = useState(false);\r\n  const [activeSearchSuggestion, setActiveSearchSuggestion] = useState(null);\r\n\r\n  const transactionsDataSearchFormInput = useRef(null);\r\n\r\n  const getUniqueTransactionsPropertiesValues = (budgetCycleTransactions, property)=>{\r\n    return [\r\n      ...new Set(\r\n        budgetCycleTransactions.map(t=>{\r\n          const value = t[property];\r\n          return (value instanceof Date ? value.toJSON() : value)\r\n        })\r\n        .filter(t=>(Array.isArray(t) ? t.length : t))\r\n      )\r\n    ]\r\n      .sort((a,b)=>a<b ? -1 : b<a ? 1 : 0);\r\n  };\r\n\r\n  const getSearchSuggestions = ()=>{\r\n    const escapedSearch = (\r\n      search ?\r\n      search.replace(/([-\\/\\\\^$*+?.()|[\\]{}])/g, '\\\\$1') :\r\n      \"\"\r\n    );\r\n\r\n    if (!activeSearchSuggestion) return transactionProperties.filter(p=>p.match(new RegExp(\"^\"+escapedSearch, \"i\")));\r\n\r\n    return getUniqueTransactionsPropertiesValues(budgetCycleTransactions.all, activeSearchSuggestion);\r\n  };\r\n\r\n  const onTransactionsDataSearchFormActiveSearchSuggestionClick = event=>{\r\n    setActiveSearchSuggestion(null);\r\n    setSearch(\"\");\r\n  };\r\n\r\n  const onTransactionsDataSearchFormInputDropdownKeyDown = event=>{\r\n    if(activeSearchSuggestion && event.target.value === \"\" && event.keyCode === 8 /* Backspace */) {\r\n      setActiveSearchSuggestion(null);\r\n      setSearch(\"\");\r\n      return;\r\n    }\r\n  };\r\n\r\n  const onTransactionsDataSearchFormInputDropdownSubmit = (event, newSearch)=>{\r\n    //If an active search filter has not yet been applied,\r\n    // and a list item was selected, apply a search filter\r\n    if (!activeSearchSuggestion && event.isSelectedListItem) {\r\n      setActiveSearchSuggestion(newSearch);\r\n      setSearch(\"\"); //set to \"\" so it will propagate down to InputDropdown\r\n      transactionsDataSearchFormInput.current.focus();\r\n      return;\r\n    }\r\n\r\n    //Otherwise, set the new search value\r\n    transactionsDataSearchFormInput.current.focus();\r\n    onSubmit(newSearch);\r\n  };\r\n\r\n  const onSubmit = searchValue=>{\r\n    //Reset the search value\r\n    setSearch(\"\");\r\n\r\n    //Reset the active search suggestion\r\n    setActiveSearchSuggestion(null);\r\n\r\n    const searchObject = {\r\n      key: activeSearchSuggestion,\r\n      value: searchValue,\r\n    };\r\n\r\n    //Send the search value to the parent\r\n    onSubmitProp(searchObject);\r\n  };\r\n\r\n  const onFilterClick = removedSearchFilter=>{\r\n    onFilterClickProp(removedSearchFilter);\r\n  };\r\n\r\n  return (\r\n    <form className=\"transactions-data-search-form\" onSubmit={onSubmit}>\r\n      <div className=\"transactions-data-search-form-input-container\">\r\n        <i className=\"transactions-data-search-form-icon fas fa-search\"></i>\r\n        {\r\n          activeSearchSuggestion ?\r\n          (\r\n            <span className=\"transactions-data-search-form-active-search-suggestion badge rounded-pill\" onClick={onTransactionsDataSearchFormActiveSearchSuggestionClick}>\r\n              <i className=\"transactions-data-search-form-active-search-suggestion-x fas fa-xs fa-times me-1\"></i>\r\n              {activeSearchSuggestion}\r\n            </span>\r\n          ) :\r\n          null\r\n        }\r\n        <InputDropdown className=\"transactions-data-search-form-input\" value={search} items={getSearchSuggestions()} placeholder=\"Search...\" inputDropdownInputRef={transactionsDataSearchFormInput} onSubmit={onTransactionsDataSearchFormInputDropdownSubmit} onInputDropdownInputKeyDown={onTransactionsDataSearchFormInputDropdownKeyDown} />\r\n      </div>\r\n      <div className=\"transactions-data-search-form-search-filters\">\r\n        {searchFilters.map(({key:searchKey, value:searchValue}, i)=>(\r\n          <span key={i} className=\"transactions-data-search-form-search-filter badge rounded-pill bg-secondary\" onClick={event=>onFilterClick(searchValue)}><i className=\"transactions-data-search-form-filter-x fas fa-xs fa-times me-1\"></i>{searchKey ? `${searchKey}:` : \"\"}{searchValue}</span>\r\n        ))}\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default TransactionsDataSearchForm;\r\n","import {convertDateToFullLocaleDateString} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionRowDateSeparator = ({ date, count })=>{\r\n  return (\r\n    <div key={date.getTime()} className=\"transaction-row-date-separator d-flex justify-content-between p-1 px-3\">\r\n      <div>{convertDateToFullLocaleDateString(date)}</div>\r\n      <div>({count})</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionRowDateSeparator;\r\n","import {useState, useEffect, useRef} from 'react';\r\n\r\nimport {isDescendantOf, getTransactionDefaultDescriptionDisplay, formatTransactionDisplay} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionRow = ({ transaction, onTransactionEditButtonClick:onTransactionEditButtonClickProp, onTransactionDeleteButtonClick:onTransactionDeleteButtonClickProp })=>{\r\n  const [startingX, setStartingX] = useState(0);\r\n  const [startingTouch, setstartingTouch] = useState({});\r\n  const [translateX, setTranslateX] = useState(0);\r\n  const [stickyX, setStickyX] = useState(0);\r\n  const [isBeingDragged, setIsBeingDragged] = useState(false);\r\n  const [isFirstDrag, setIsFirstDrag] = useState(false);\r\n  const [isScrollingNotDragging, setIsScrollingNotDragging] = useState(false);\r\n\r\n  const maxNecessaryDragX = -84; //px, how far over the user must drag to activate the delete button\r\n  const minAllowableDragX = null; //px, how far the user can drag to the left\r\n  const maxAllowableDragX = 0; //px, how far the user can drag to the right\r\n\r\n  const isDragFeatureActive = ()=>(stickyX !== 0);\r\n\r\n  const [transactionDisplay, setTransactionDisplay] = useState({\r\n    PostedDate: \"\",\r\n    TransactionDate: \"\",\r\n    AccountNumber: \"\",\r\n    Type: \"\",\r\n    Description: \"\",\r\n    Amount: \"\",\r\n    Category: \"\",\r\n    Notes: \"\",\r\n    Tags: [],\r\n  });\r\n\r\n  useEffect(()=>{\r\n    const formattedTransactionDisplay = formatTransactionDisplay(transaction);\r\n    setTransactionDisplay({\r\n      ...formattedTransactionDisplay,\r\n      Description: getTransactionDefaultDescriptionDisplay(transaction),\r\n      AccountNumber: formattedTransactionDisplay.AccountNumber || \"*----\",\r\n      Category: formattedTransactionDisplay.Category || \"[uncategorized]\"\r\n    })\r\n  }, [transaction]);\r\n\r\n  const onTransactionEditButtonClick = event=>{\r\n    if (isDragFeatureActive()) return;\r\n    onTransactionEditButtonClickProp(transaction);\r\n  };\r\n\r\n  const onTransactionDeleteButtonClick = event=>{\r\n    onTransactionDeleteButtonClickProp(transaction);\r\n  };\r\n\r\n  //Once the user drags over the necessary distance,\r\n  // set the sticky position\r\n  useEffect(()=>{\r\n\r\n  }, [translateX]);\r\n\r\n  const onTouchStart = event=>{\r\n    //Set where the touch starts\r\n    const touch = event.touches[0];\r\n    setstartingTouch(touch);\r\n\r\n    //Mark that the target is being dragged,\r\n    // so the smooth snapback can be deactivated\r\n    setIsBeingDragged(true);\r\n\r\n    //Also mark that this is the very first drag,\r\n    // so we can calculate whether to scroll or not\r\n    // based on the direction of the drag\r\n    setIsFirstDrag(true);\r\n  };\r\n\r\n  const onTouchMove = event=>{\r\n    //As the touch moves, calculate the drag distance,\r\n    // and set target's translateX to the drag distance,\r\n    // beginning at the target's start position\r\n    const touch = event.touches[0];\r\n    const dragDistanceX = touch.clientX - startingTouch.clientX;\r\n    const dragDistanceY = touch.clientY - startingTouch.clientY;\r\n    const potentialNewTranslateX = startingX + dragDistanceX;\r\n\r\n    //Check whether the target needs to be dragged, or\r\n    // if the drag was too vertical (i.e. a scroll attempt)\r\n    if (isFirstDrag) {\r\n      //Reset the first drag mark\r\n      setIsFirstDrag(false);\r\n\r\n      //If the scroll was too vertical, assume the user\r\n      // was scrolling, not dragging,\r\n      // set the isScrolling mark, and prematurely return\r\n      // from this listener\r\n      if (Math.abs(dragDistanceY) > Math.abs(dragDistanceX)) return setIsScrollingNotDragging(true);\r\n    }\r\n\r\n    //If the user is scrolling, don't drag\r\n    if (isScrollingNotDragging) return;\r\n\r\n    //Continue with the drag logic\r\n    event.preventDefault();\r\n\r\n    //Check that it is within the allowable drag bounds,\r\n    // and adjust accordingly if not\r\n    //And if we over-drag (drag past the max necessary position),\r\n    // decrease the drag\r\n    const newTranslateX = ((!!minAllowableDragX || minAllowableDragX === 0) && potentialNewTranslateX < minAllowableDragX ? minAllowableDragX : ((!!maxAllowableDragX || maxAllowableDragX === 0) && potentialNewTranslateX > maxAllowableDragX ? maxAllowableDragX : (\r\n      potentialNewTranslateX < maxNecessaryDragX ?\r\n      maxNecessaryDragX - ((maxNecessaryDragX - dragDistanceX)/5) :\r\n      potentialNewTranslateX\r\n    )));\r\n\r\n    setTranslateX(newTranslateX);\r\n  };\r\n\r\n  const onTouchEnd = event=>{\r\n    const newStickyX = (translateX <= maxNecessaryDragX ? maxNecessaryDragX : 0);\r\n\r\n    //Set the sticky position to either the \"open\" position,\r\n    // or back to 0, depending on where the drag ended\r\n    setStickyXWrapper(newStickyX);\r\n\r\n    //Assure the first drag mark is reset\r\n    setIsFirstDrag(false);\r\n\r\n    //Reset whether the user is scrolling or dragging\r\n    setIsScrollingNotDragging(false);\r\n  };\r\n\r\n  const endDragFeature = ()=>{\r\n    setStickyXWrapper(0);\r\n  };\r\n\r\n  const setStickyXWrapper = stickyX=>{\r\n    setStickyX(()=>{\r\n      //Reset the target's starting position, and\r\n      // the translated position, to the sticky position\r\n      setTranslateX(stickyX);\r\n      setStartingX(stickyX);\r\n\r\n      //Mark that the target is not being dragged,\r\n      // so the smooth snapback can be activated\r\n      setIsBeingDragged(false);\r\n\r\n      return stickyX;\r\n    });\r\n  };\r\n\r\n  //Save the component DOM node for reference\r\n  const transactionRow = useRef(null);\r\n\r\n  //Create an event listener to check if the user\r\n  // touches outside the dragged target\r\n  const onOutsideTouchStart = event=>{\r\n    if (isDescendantOf(event.target, transactionRow.current)) return;\r\n    if (isDragFeatureActive()) {\r\n      event.preventDefault();\r\n      endDragFeature();\r\n    }\r\n  };\r\n\r\n  //Remove & add the outside touch event listener on each render\r\n  useEffect(()=>{\r\n    document.addEventListener(\"touchstart\", onOutsideTouchStart, {passive: false});\r\n    if (transactionRow.current) transactionRow.current.addEventListener(\"touchmove\", onTouchMove);\r\n    return ()=>{\r\n      document.removeEventListener(\"touchstart\", onOutsideTouchStart);\r\n      if (transactionRow.current) transactionRow.current.removeEventListener(\"touchmove\", onTouchMove);\r\n    };\r\n  }, [transactionRow, onTouchMove, onOutsideTouchStart]);\r\n\r\n  return (\r\n    <div className={`transaction-row ${(!isBeingDragged ? \"released\" : '')}`} style={{transform: `translateX(${translateX}px)`}} onTouchStart={onTouchStart} /* onTouchMove={onTouchMove} //moved to useEffect() for {passive: false} (made default by Chrome) */ onTouchEnd={onTouchEnd} ref={transactionRow} >\r\n      <div className=\"transaction-row-container\" onClick={onTransactionEditButtonClick} >\r\n        <div className=\"transaction-row-description-container\">\r\n          <span className={`transaction-row-description ${(!transaction.DescriptionDisplay ? \"uncategorized\" : \"\")}`}>{transactionDisplay.Description}</span>\r\n          <span className={`transaction-row-amount${transaction.Amount >= 0 ? \" positive\" : \"\"}`}>{transactionDisplay.Amount}</span>\r\n        </div>\r\n        <div className=\"transaction-row-subdescription-container\">\r\n          <span className=\"transaction-row-account\">{transactionDisplay.AccountNumber}</span>\r\n          &nbsp;|&nbsp;\r\n          <span className=\"transaction-row-category\">{transactionDisplay.Category}</span>\r\n        </div>\r\n      </div>\r\n      <button className={\"transaction-row-delete-button\"} onClick={onTransactionDeleteButtonClick} tabIndex={-1}>\r\n        <span className=\"transaction-row-delete-button-text\">Delete</span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionRow;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport TransactionsDataSearchForm from './../TransactionsDataSearchForm';\r\nimport TransactionRowDateSeparator from './../TransactionRowDateSeparator';\r\nimport TransactionRow from './../TransactionRow';\r\n\r\nimport {convertNumberToCurrency, getTransactionsAmountTotal, matchValueAgainstValue} from './../../utilities';\r\nimport {useConsoleLog} from './../../hooks';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionsDataRows = ({ filteredBudgetCycleTransactions, heading, searchFilters, onTransactionEditButtonClick, onTransactionDeleteButtonClick })=>{\r\n  //Temporary variable used to render date headings\r\n  let currentDateRendered;\r\n\r\n  return (\r\n    <div className=\"transaction-rows\">\r\n      {searchFilters.length ? null : (\r\n        <div className=\"transaction-rows-heading-container d-flex justify-content-between align-items-end mb-2\">\r\n          <h2 className=\"transaction-rows-heading mb-0\">{heading}</h2>\r\n          <div className=\"fw-bold\">\r\n            <span className=\"transaction-rows-heading-count\">{convertNumberToCurrency(getTransactionsAmountTotal(filteredBudgetCycleTransactions))}</span>\r\n            &nbsp;\r\n            <span className=\"transaction-rows-heading-count me-3\">({filteredBudgetCycleTransactions.length})</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {filteredBudgetCycleTransactions\r\n      //Sort remaining transactions\r\n      .sort((a,b)=>b.TransactionDate-a.TransactionDate)\r\n      //Add in the date separators\r\n      .reduce((transactions, transaction)=>{\r\n        if ((currentDateRendered ? currentDateRendered.Date.toJSON() : false) !== transaction.TransactionDate.toJSON()) {\r\n          const dateHeaderObject = {\r\n            Date: transaction.TransactionDate,\r\n            Count: 1,\r\n          };\r\n          transactions.push(dateHeaderObject);\r\n          currentDateRendered = dateHeaderObject;\r\n        }\r\n        else {\r\n          currentDateRendered.Count++;\r\n        }\r\n        return transactions.concat(transaction);\r\n      }, [])\r\n      .map((transaction, i)=>(\r\n        transaction.Date && transaction.Count ?\r\n        <TransactionRowDateSeparator key={i} date={transaction.Date} count={transaction.Count} /> :\r\n        <TransactionRow key={i} transaction={transaction} onTransactionEditButtonClick={onTransactionEditButtonClick} onTransactionDeleteButtonClick={onTransactionDeleteButtonClick} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TransactionsData = ({ budgetCycleTransactions, onTransactionEditButtonClick, onTransactionDeleteButtonClick })=>{\r\n  const defaultTransactionProperty = \"DescriptionDisplay\";\r\n\r\n  const filterTransactionsBySearchFilters = (budgetCycleTransactions, searchFilters)=>{\r\n    const filterBudgetCycleTransactions = budgetCycleTransactions=>{\r\n      return budgetCycleTransactions\r\n        .filter(t=>\r\n          searchFilters.map(({key:searchKey, value:searchValue})=>{\r\n            const value = t[searchKey ?? defaultTransactionProperty];\r\n            if (!value && !(searchKey === \"Category\" && searchValue === \"Miscellaneous\")) return false;\r\n\r\n            if (searchKey === \"Category\" && searchValue === \"Miscellaneous\") return value === null || value.match(new RegExp(searchValue, \"i\"));\r\n            return matchValueAgainstValue(value, searchValue);\r\n          })\r\n          .every(i=>i)\r\n        );\r\n    };\r\n\r\n    //Filter transactions (or render them all) based on current search filters\r\n    const newlyFilteredBudgetCycleTransactions = {\r\n      ...budgetCycleTransactions,\r\n      income: filterBudgetCycleTransactions(budgetCycleTransactions.income),\r\n      expenses: filterBudgetCycleTransactions(budgetCycleTransactions.expenses),\r\n    };\r\n    Object.defineProperty(newlyFilteredBudgetCycleTransactions, \"all\", Object.getOwnPropertyDescriptor(budgetCycleTransactions, \"all\"));\r\n    return newlyFilteredBudgetCycleTransactions;\r\n  };\r\n\r\n  const [searchFilters, setSearchFilters] = useState([]);\r\n  const [filteredBudgetCycleTransactions, setFilteredBudgetCycleTransactions] = useState(filterTransactionsBySearchFilters(budgetCycleTransactions, searchFilters));\r\n\r\n  const filteredRemainingTotal = convertNumberToCurrency(getTransactionsAmountTotal(filteredBudgetCycleTransactions.all));\r\n  const transactionProperties = (filteredBudgetCycleTransactions.all?.length ? Object.keys(filteredBudgetCycleTransactions.all[0]).filter(property=>![\"DateCreated\",\"DateModified\",\"IsAutoCategorized\",\"IsUpdatedByUser\"].includes(property)) : []);\r\n\r\n  const onTransactionsDataSearchFormSubmit = searchObject=>{\r\n    setSearchFilters(previousSearchFilters=>[...previousSearchFilters, searchObject]);\r\n  };\r\n\r\n  const onFilterClick = removedSearchFilter=>{\r\n    setSearchFilters(previousSearchFilters=>{\r\n      const newSearchFilters = [...previousSearchFilters];\r\n      return newSearchFilters.splice(newSearchFilters.indexOf(removedSearchFilter),1) && newSearchFilters;\r\n    });\r\n  };\r\n\r\n  //Keep filtered transactions updated\r\n  useEffect(()=>\r\n    setFilteredBudgetCycleTransactions(filterTransactionsBySearchFilters(budgetCycleTransactions, searchFilters))\r\n  , [budgetCycleTransactions, searchFilters]);\r\n\r\n  useConsoleLog(filteredBudgetCycleTransactions, \"filteredBudgetCycleTransactions\");\r\n\r\n  return (\r\n    <div className=\"transactions-data\">\r\n      <TransactionsDataSearchForm budgetCycleTransactions={budgetCycleTransactions} transactionProperties={transactionProperties} searchFilters={searchFilters} onSubmit={onTransactionsDataSearchFormSubmit} onFilterClick={onFilterClick} />\r\n      {\r\n        searchFilters.length ?\r\n        <TransactionsDataRows filteredBudgetCycleTransactions={filteredBudgetCycleTransactions.all} searchFilters={searchFilters} onTransactionEditButtonClick={onTransactionEditButtonClick} onTransactionDeleteButtonClick={onTransactionDeleteButtonClick}/> :\r\n        <>\r\n          <TransactionsDataRows filteredBudgetCycleTransactions={filteredBudgetCycleTransactions.income} heading=\"Income\" searchFilters={searchFilters} onTransactionEditButtonClick={onTransactionEditButtonClick} onTransactionDeleteButtonClick={onTransactionDeleteButtonClick}/>\r\n          <TransactionsDataRows filteredBudgetCycleTransactions={filteredBudgetCycleTransactions.expenses} heading=\"Expenses\" searchFilters={searchFilters} onTransactionEditButtonClick={onTransactionEditButtonClick} onTransactionDeleteButtonClick={onTransactionDeleteButtonClick}/>\r\n        </>\r\n      }\r\n      <div className=\"transactions-information d-flex justify-content-between mb-4 mr-2\">\r\n        <span className=\"transactions-count\">{(filteredBudgetCycleTransactions.all.length ? filteredBudgetCycleTransactions.all.length : 0)} transactions</span>\r\n        <div>\r\n          <div className=\"transactions-total\">{filteredRemainingTotal} total</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionsData;\r\n","import './index.scss';\r\n\r\nconst TagBadge = ({ tag, onClick })=>{\r\n  return (\r\n    <span key={tag} className=\"tag-badge badge rounded-pill\" onClick={onClick}>{tag}</span>\r\n  );\r\n};\r\n\r\nexport default TagBadge;\r\n","import TagBadge from './../TagBadge';\r\nimport InputDropdown from './../InputDropdown';\r\nimport MonthPicker from './../MonthPicker';\r\n\r\nimport {getBudgetCycleString, getBudgetCycleFromBudgetCycleString} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionDetailModalInput = ({ transactionDetail, tabIndex, onChange:onChangeProp, onKeyPress, onTagBadgeClick})=>{\r\n  const onChange = value=>{\r\n    if(onChangeProp) onChangeProp(value);\r\n    return;\r\n  };\r\n\r\n  if (transactionDetail.name === \"Tags\")\r\n    return (\r\n      <div>\r\n        <div className=\"transaction-detail-modal-input-tags-container form-control\">\r\n          <input className=\"transaction-detail-modal-input-tags-hidden form-control\" type=\"hidden\" name=\"Tags\" value={transactionDetail.value.join(\",\")} />\r\n          <div className=\"transaction-detail-modal-input-tags-badge-container\">\r\n            {transactionDetail.value.map(tag=><TagBadge key={tag} tag={tag} onClick={event=>onTagBadgeClick(tag)} />)}\r\n          </div>\r\n          <transactionDetail.tag className=\"transaction-detail-modal-input transaction-detail-modal-input-tags form-control\" type={transactionDetail.tagType} placeholder={transactionDetail.placeholder} tabIndex={tabIndex} onKeyPress={onKeyPress}></transactionDetail.tag>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n  if (transactionDetail.name === \"BudgetCycle\")\r\n    return (\r\n      <div className=\"position-relative d-flex align-items-stretch\">\r\n        <InputDropdown name={transactionDetail.name} value={transactionDetail.value} items={transactionDetail.items} placeholder={transactionDetail.placeholder} {...(transactionDetail.disabled && {disabled: true})} tabIndex={tabIndex} onInputDropdownInputChange={event=>onChange(event.target.value)} onInputDropdownInputKeyPress={onKeyPress}/>\r\n        <MonthPicker value={getBudgetCycleFromBudgetCycleString(transactionDetail.value)} onChange={value=>onChange(getBudgetCycleString(value))}/>\r\n      </div>\r\n    );\r\n\r\n  if ([\"Category\", \"Type\", \"BudgetCycle\"].includes(transactionDetail.name))\r\n    return (\r\n      <div>\r\n        <InputDropdown name={transactionDetail.name} value={transactionDetail.value} items={transactionDetail.items} placeholder={transactionDetail.placeholder} {...(transactionDetail.disabled && {disabled: true})} tabIndex={tabIndex} onInputDropdownInputChange={event=>onChange(event.target.value)} onInputDropdownInputKeyPress={onKeyPress}/>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div>\r\n      <transactionDetail.tag className=\"transaction-detail-modal-input transaction-detail-modal-input-text form-control\" name={transactionDetail.name} value={transactionDetail.value} type={transactionDetail.tagType} placeholder={transactionDetail.placeholder} tabIndex={tabIndex} {...(transactionDetail.disabled && {disabled: true})} onChange={event=>onChange(event.target.value)} onKeyPress={onKeyPress}>{transactionDetail.tag !== \"input\" ? transactionDetail.value : null}</transactionDetail.tag>\r\n    </div> //disabled inputs don't fire events; wrap in something that will fire an event\r\n  );\r\n};\r\n\r\nexport default TransactionDetailModalInput;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport TransactionDetailModalInput from './../TransactionDetailModalInput';\r\n\r\nimport {nullCoalesce, formatTransactionDisplay, getBudgetCycleString, getBudgetCycleFromBudgetCycleString} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionDetailModal = ({ transaction, allBudgetCycles, categories, types, buttonsOptions, isOpen, onClose, onSubmit })=>{\r\n  const [BudgetCycle, setBudgetCycle] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [PostedDate, setPostedDate] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [TransactionDate, setTransactionDate] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [AccountNumber, setAccountNumber] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [Amount, setAmount] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [Description, setDescription] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [DescriptionDisplay, setDescriptionDisplay] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [Category, setCategory] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [Type, setType] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [Notes, setNotes] = useState(\"\"); //empty string, as initial value for input[type=\"text\"]\r\n  const [Tags, setTags] = useState([]);\r\n\r\n  const transactionDetails = [\r\n    {name: \"BudgetCycle\", placeholder: \"Select a budget cycle\", value: BudgetCycle, items: allBudgetCycles.map(b=>getBudgetCycleString(b)), tag: \"input\", tagType: \"text\", setState: setBudgetCycle, disabled: false},\r\n    {name: \"PostedDate\", placeholder: \"Posted Date\", value: PostedDate, tag: \"input\", tagType: \"text\", setState: setPostedDate, disabled: false},\r\n    {name: \"TransactionDate\", placeholder: \"Transaction Date\", value: TransactionDate, tag: \"input\", tagType: \"text\", setState: setTransactionDate, disabled: false},\r\n    {name: \"AccountNumber\", placeholder: \"Account Number\", value: AccountNumber, tag: \"input\", tagType: \"text\", setState: setAccountNumber, disabled: false},\r\n    {name: \"Amount\", placeholder: \"Amount\", value: Amount, tag: \"input\", tagType: \"text\", setState: setAmount, disabled: false},\r\n    {name: \"Description\", placeholder: \"Description\", value: Description, tag: \"input\", tagType: \"text\", setState: setDescription, disabled: true},\r\n    {name: \"DescriptionDisplay\", placeholder: \"Description\", value: DescriptionDisplay, tag: \"input\", tagType: \"text\", setState: setDescriptionDisplay, disabled: false},\r\n    {name: \"Category\", placeholder: \"Select a category...\", value: Category, items: categories, tag: \"input\", tagType: \"text\", setState: setCategory, disabled: false},\r\n    {name: \"Type\", placeholder: \"Select a type...\", value: Type, items: types, tag: \"input\", tagType: \"text\", setState: setType, disabled: false},\r\n    {name: \"Notes\", placeholder: \"Notes\", value: Notes, tag: \"textarea\", tagType: null, setState: setNotes, disabled: false},\r\n    {name: \"Tags\", placeholder: \"Tags\", value: Tags, tag: \"input\", tagType: \"text\", setState: setTags, disabled: false},\r\n  ];\r\n\r\n  //When the transaction changes,\r\n  // or the modal is opened or closed,\r\n  // reset the state\r\n  useEffect(()=>{\r\n    if(!transaction) return;\r\n\r\n    const transactionDisplay = formatTransactionDisplay(transaction);\r\n    setBudgetCycle(transactionDisplay.BudgetCycle);\r\n    setPostedDate(transactionDisplay.PostedDate);\r\n    setTransactionDate(transactionDisplay.TransactionDate);\r\n    setAccountNumber(transactionDisplay.AccountNumber);\r\n    setAmount(transactionDisplay.Amount);\r\n    setDescription(transactionDisplay.Description);\r\n    setDescriptionDisplay(transactionDisplay.DescriptionDisplay);\r\n    setCategory(transactionDisplay.Category);\r\n    setNotes(transactionDisplay.Notes);\r\n    setType(transactionDisplay.Type);\r\n    setTags(transactionDisplay.Tags);\r\n    console.log(\"Updating TransactionDetailModal state based on updated prop \\\"transaction\\\".\", transaction, PostedDate, TransactionDate, AccountNumber, Amount, Description, Category, Notes, Type, Tags)\r\n  }, [transaction, isOpen]);\r\n\r\n  const onTransactionDetailInputChange = (value, transactionDetail)=>{\r\n    return transactionDetail.setState(value);\r\n  };\r\n\r\n  const onTransactionDetailInputKeyPress = event=>{\r\n    const transactionDetailInput = event.target;\r\n\r\n    //If the \"Enter\" key is pressed on input[name=\"Tags\"],\r\n    // append the newly added tag\r\n    if (event.key === \"Enter\") {\r\n      if (transactionDetailInput.classList.contains(\"transaction-detail-modal-input-tags\")) {\r\n        event.preventDefault();\r\n\r\n        const newValue = transactionDetailInput.value;\r\n\r\n        //Add the additional tag\r\n        setTags([...Tags, transactionDetailInput.value]);\r\n\r\n        //Reset the input\r\n        transactionDetailInput.value = '';\r\n\r\n        return;\r\n      }\r\n    }\r\n  };\r\n\r\n  const transactionModalFormOnSubmit = event=>{\r\n    const transactionModalForm = event.target;\r\n    const formattedTransaction = formatTransactionDisplay(transaction);\r\n\r\n    //Prevent the form from submitting\r\n    event.preventDefault();\r\n\r\n    //Aggregate the form data into an object,\r\n    // and add that the transaction has been\r\n    // updated by the user\r\n    const data = [...transactionModalForm.querySelectorAll(\"[name]\")].reduce((accumulator,{name, value})=>{\r\n      //If the value has not changed, return\r\n      if (value === formattedTransaction[name]) return accumulator;\r\n\r\n      //Vaildate the value\r\n      value = (name === \"Tags\" ? (value ? value.split(/\\s*,\\s*/) : []) : value); //Tags validation\r\n      value = (name === \"BudgetCycle\" ? (value ? getBudgetCycleFromBudgetCycleString(value) : null) : value); //BudgetCycle validation\r\n      value = (value instanceof Array && value.length === 0 ? [] : nullCoalesce(value)) //Array validation\r\n\r\n      return {\r\n        ...accumulator,\r\n        [name]: value,\r\n      };\r\n    }, {\r\n      IsUpdatedByUser: true,\r\n      DateModified: new Date(),\r\n    });\r\n    console.log(\"Data submitted from TransactionDetailModal\", data);\r\n\r\n    //Update the transaction with the new form data\r\n    const updatedTransaction = {\r\n      ...transaction, //previous transaction data\r\n      ...data, //new transaction data from the form\r\n      Description: transaction.Description, //make sure to never change the actual Description\r\n    };\r\n\r\n    console.log(\"Updated transaction submitted from TransactionDetailModal\", updatedTransaction);\r\n\r\n    onSubmit(updatedTransaction);\r\n  };\r\n\r\n  const onTagBadgeClick = tag=>{\r\n    setTags(Tags.filter(t=>t!==tag));\r\n  };\r\n\r\n  return (\r\n    <Modal id=\"transaction-detail-modal\" show={isOpen} onHide={onClose}>\r\n      <Modal.Header>\r\n        <Modal.Title className=\"modal-title\">Transaction Detail</Modal.Title>\r\n        <button className=\"btn-close\" type=\"button\" onClick={onClose}></button>\r\n      </Modal.Header>\r\n      <form className=\"transaction-detail-modal-form\" onSubmit={transactionModalFormOnSubmit}>\r\n        <Modal.Body>\r\n          {transactionDetails.map((transactionDetail, i)=>(\r\n            <TransactionDetailModalInput key={transactionDetail.name} transactionDetail={transactionDetail} tabIndex={i+1} onChange={(value)=>onTransactionDetailInputChange(value, transactionDetail)} onKeyPress={onTransactionDetailInputKeyPress} onTagBadgeClick={onTagBadgeClick} />\r\n          ))}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <button className=\"btn btn-secondary\" type=\"button\" tabIndex={transactionDetails.length+1} onClick={onClose}>Cancel</button>\r\n          <button className=\"btn btn-primary\" type=\"submit\" tabIndex={transactionDetails.length+2}>Save</button>\r\n        </Modal.Footer>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default TransactionDetailModal;\r\n","import Modal from 'react-bootstrap/Modal';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionDetailModal = ({ transaction, isOpen, onClose, onSubmit:onSubmitProp })=>{\r\n  const onSubmit = event=>{\r\n    event.preventDefault();\r\n\r\n    onSubmitProp(transaction);\r\n  };\r\n\r\n  return (\r\n    <Modal id=\"transaction-modal\" show={isOpen} onHide={onClose}>\r\n      <Modal.Header>\r\n        <Modal.Title className=\"modal-title\">Delete Transaction</Modal.Title>\r\n        <button className=\"btn-close\" type=\"button\" onClick={onClose}></button>\r\n      </Modal.Header>\r\n      <form className=\"transaction-modal-form\" onSubmit={onSubmit}>\r\n        <Modal.Body>\r\n          <p className=\"text-center\">Are you sure?</p>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <button className=\"btn btn-secondary\" type=\"button\" tabIndex=\"1\" onClick={onClose}>Cancel</button>\r\n          <button className=\"btn btn-primary\" type=\"submit\" tabIndex=\"2\">Delete</button>\r\n        </Modal.Footer>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default TransactionDetailModal;\r\n","import {convertNumberToCurrency} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionsImportDuplicatesModalDuplicateCheckbox = ({ id, duplicateData, onChange:onChangeProp })=>{\r\n  const onChange = event=>{\r\n    //Update the duplicate's confirmation state in the parent\r\n    const updatedDuplicateData = {\r\n      ...duplicateData,\r\n      confirmed: !duplicateData.confirmed,\r\n    };\r\n\r\n    onChangeProp(duplicateData, updatedDuplicateData);\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-check\">\r\n      <input className=\"form-check-input\" type=\"checkbox\" id={id} checked={duplicateData.confirmed} onChange={onChange}/>\r\n      <label className=\"form-check-label\" htmlFor={id}>\r\n        {`${(duplicateData.duplicate.TransactionDate).toLocaleDateString(\"en-US\", {timeZone: \"UTC\"})} ${convertNumberToCurrency(duplicateData.duplicate.Amount)} ${duplicateData.duplicate.Description}`}\r\n      </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionsImportDuplicatesModalDuplicateCheckbox;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport Modal from 'react-bootstrap/Modal';\r\n\r\nimport TransactionsImportDuplicatesModalDuplicateCheckbox from './../TransactionsImportDuplicatesModalDuplicateCheckbox';\r\nimport {isTransactionDuplicate} from './../../utilities';\r\nimport {useConsoleLog} from './../../hooks';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionsImportDuplicatesModal = ({ newTransactions, duplicates, isOpen, onClose, onSubmit:onSubmitProp })=>{\r\n  const getDuplicatesDataFromDuplicates = duplicates=>{\r\n    return duplicates.map(duplicate=>({duplicate, confirmed: true}))\r\n  };\r\n\r\n  const [duplicatesData, setDuplicatesData] = useState(getDuplicatesDataFromDuplicates(duplicates));\r\n\r\n  useEffect(()=>\r\n    setDuplicatesData(getDuplicatesDataFromDuplicates(duplicates))\r\n  , [duplicates]);\r\n\r\n  useConsoleLog(duplicatesData, \"Duplicates data: \");\r\n\r\n  const onSubmit = event=>{\r\n    //Prevent the form from submitting\r\n    event.preventDefault();\r\n\r\n    //Get the checked duplicates\r\n    const confirmedDuplicates = duplicatesData.filter(duplicateData=>duplicateData.confirmed).map(duplicateData=>duplicateData.duplicate);\r\n\r\n    console.log(\"Duplicates confirmed from TransactionsImportDuplicatesModal\", confirmedDuplicates);\r\n\r\n    //Remove the true duplicates\r\n    const filteredNewTransactions = newTransactions.filter(newTransaction=>!isTransactionDuplicate(newTransaction, confirmedDuplicates));\r\n\r\n    onSubmitProp(filteredNewTransactions);\r\n  };\r\n\r\n  const onTransactionsImportDuplicatesModalDuplicateCheckboxChange = (oldDuplicateData, newDuplicateData)=>{\r\n    setDuplicatesData(previousDuplicatesData=>{\r\n      const newDuplicatesData = [...previousDuplicatesData];\r\n      const oldDuplicateDataIndex = previousDuplicatesData.indexOf(oldDuplicateData);\r\n      newDuplicatesData[oldDuplicateDataIndex] = newDuplicateData;\r\n      return newDuplicatesData;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal id=\"transaction-import-duplicate-modal\" show={isOpen} onHide={onClose}>\r\n      <Modal.Header>\r\n        <Modal.Title className=\"modal-title\">Duplicate transactions</Modal.Title>\r\n        <button className=\"btn-close\" type=\"button\" data-bs-dismiss=\"modal\" onClick={onClose}></button>\r\n      </Modal.Header>\r\n      <form className=\"transaction-import-duplicate-form\" onSubmit={onSubmit}>\r\n        <Modal.Body>\r\n          <p>{duplicates.length} possible duplicate transactions were found. Please confirm which are duplicates.</p>\r\n          <div className=\"overflow-auto\">\r\n            {\r\n              duplicatesData.map((duplicateData, i)=>(\r\n                <TransactionsImportDuplicatesModalDuplicateCheckbox key={i} id={i} duplicateData={duplicateData} onChange={onTransactionsImportDuplicatesModalDuplicateCheckboxChange} />\r\n              ))\r\n            }\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <button className=\"btn btn-secondary\" type=\"button\" tabIndex=\"1\" onClick={onClose}>Cancel import</button>\r\n          <button className=\"btn btn-primary\" type=\"submit\" tabIndex=\"2\">Confirm</button>\r\n        </Modal.Footer>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default TransactionsImportDuplicatesModal;\r\n","import Modal from 'react-bootstrap/Modal';\r\n\r\nimport {convertNumberToCurrency} from './../../utilities';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionsImportConfirmedModal = ({ transactions, duplicates, isOpen, onClose, onSubmit:onSubmitProp })=>{\r\n  const onSubmit = event=>{\r\n    event.preventDefault();\r\n\r\n    onSubmitProp(transactions);\r\n  };\r\n\r\n  const longestTransactionDate = Math.max(...transactions.map(({TransactionDate})=>TransactionDate.toLocaleDateString(\"en-US\", {timeZone: \"UTC\"}).length));\r\n  const longestAmount = Math.max(...transactions.map(({Amount})=>`${Amount >= 0 ? \" \" : \"\"}${convertNumberToCurrency(Amount)}`.length));\r\n  const longestDescription = Math.max(...transactions.map(({Description})=>Description.length));\r\n\r\n  return (\r\n    <Modal className=\"transaction-import-confirmed-modal\" show={isOpen} onHide={onClose}>\r\n      <Modal.Header>\r\n        <Modal.Title className=\"modal-title\">Transactions imported!</Modal.Title>\r\n        <button className=\"btn-close\" type=\"button\" data-bs-dismiss=\"modal\" onClick={onClose}></button>\r\n      </Modal.Header>\r\n      <form className=\"transaction-import-confirmed-modal-form\" onSubmit={onSubmit}>\r\n        <Modal.Body>\r\n          <p>Successfully imported {transactions.length} transactions.</p>\r\n          <div className=\"overflow-auto\">\r\n            {\r\n              transactions.map((transaction, i)=>{\r\n                const transactionDateString = transaction.TransactionDate.toLocaleDateString(\"en-US\", {timeZone: \"UTC\"});\r\n                const amountString = `${transaction.Amount >= 0 ? \" \" : \"\"}${convertNumberToCurrency(transaction.Amount)}`;\r\n                const descriptionString = transaction.Description;\r\n\r\n                const transactionDateSpaces = Array(longestTransactionDate-transactionDateString.length).fill(\" \").join(\"\");\r\n                const amountSpaces = Array(longestAmount-amountString.length).fill(\" \").join(\"\");\r\n                const descriptionSpaces = Array(longestDescription-descriptionString.length).fill(\" \").join(\"\");\r\n\r\n                return (\r\n                  <div key={i} className=\"confirmed-transaction\">\r\n                    {`${transactionDateString}${transactionDateSpaces}  ${amountString}${amountSpaces}  ${descriptionString}${descriptionSpaces}`}\r\n                  </div>\r\n                );\r\n            })\r\n            }\r\n          </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <button className=\"btn btn-secondary\" type=\"button\" tabIndex=\"1\" onClick={onClose}>Cancel import</button>\r\n          <button className=\"btn btn-primary\" type=\"submit\" tabIndex=\"2\">Finish import</button>\r\n        </Modal.Footer>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default TransactionsImportConfirmedModal;\r\n","import './index.scss';\r\n\r\nconst TransactionsImportFormToggle = ({ onClick })=>{\r\n  return (\r\n    <div className=\"transaction-import-form-toggle bg-primary d-flex justify-content-center align-items-center\" onClick={onClick}>\r\n      <span className=\"transaction-import-form-toggle-icon\">+</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionsImportFormToggle;\r\n","import {useState, useEffect} from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\n\r\nimport DashboardBudgetCycleDropdown from './../DashboardBudgetCycleDropdown';\r\nimport TransactionsImportForm from './../TransactionsImportForm';\r\nimport TransactionsData from './../TransactionsData';\r\nimport TransactionDetailModal from './../TransactionDetailModal';\r\nimport TransactionDeleteModal from './../TransactionDeleteModal';\r\nimport TransactionsImportDuplicatesModal from './../TransactionsImportDuplicatesModal';\r\nimport TransactionsImportConfirmedModal from './../TransactionsImportConfirmedModal';\r\nimport TransactionsImportFormToggle from './../TransactionsImportFormToggle';\r\n\r\nimport {useBudgetCycleTransactions} from './../../hooks';\r\n\r\nimport './index.scss';\r\n\r\nconst TransactionsView = ({ transactions, budgetCycle, allBudgetCycles, transactionsImportDuplicatesModalNewTransactions, transactionsImportDuplicatesModalDuplicates, isTransactionsImportDuplicatesModalOpen, onTransactionsImportDuplicatesModalClose, onTransactionsImportDuplicatesModalSubmit, onTransactionsImportFormSubmit:onTransactionsImportFormSubmitProp, onTransactionsImportFormFileInputChange:onTransactionsImportFormFileInputChangeProp, onTransactionDetailModalSubmit:onTransactionDetailModalSubmitProp, onTransactionDeleteModalSubmit:onTransactionDeleteModalSubmitProp, transactionsImportConfirmedModalTransactions, isTransactionsImportConfirmedModalOpen, closeTransactionsImportConfirmedModal, onTransactionsImportConfirmedModalSubmit, onBudgetCycleChange, transactionCategories, transactionTypes, setFooterNavbar })=>{\r\n  //Send the route to the footer navbar\r\n  const route = useLocation().pathname;\r\n  useEffect(()=>{\r\n    setFooterNavbar(route);\r\n  }, [route]);\r\n\r\n  const [isTransactionImportFormOpen, setIsTransactionImportFormOpen] = useState(false);\r\n\r\n  const [transactionDetailModalTransaction, setTransactionDetailModalTransaction] = useState(null);\r\n  const [isTransactionDetailModalOpen, setIsTransactionDetailModalOpen] = useState(false);\r\n  const [transactionDeleteModalTransaction, setTransactionDeleteModalTransaction] = useState(null);\r\n  const [isTransactionDeleteModalOpen, setIsTransactionDeleteModalOpen] = useState(false);\r\n\r\n  const budgetCycleTransactions = useBudgetCycleTransactions(transactions, budgetCycle);\r\n\r\n  const onTransactionImportFormToggleClick = event=>{\r\n    setIsTransactionImportFormOpen(wasOpen=>!wasOpen);\r\n  };\r\n\r\n  const onTransactionsImportFormSubmit = scrapedTransactionsData=>{\r\n    //Re-close the form\r\n    setIsTransactionImportFormOpen(false);\r\n\r\n    onTransactionsImportFormSubmitProp(scrapedTransactionsData);\r\n  };\r\n\r\n  const onTransactionsImportFormFileInputChange = transactionsDataArray=>{\r\n    //Re-close the form\r\n    setIsTransactionImportFormOpen(false);\r\n\r\n    onTransactionsImportFormFileInputChangeProp(transactionsDataArray);\r\n  };\r\n\r\n  const openTransactionDetailModal = ()=>{\r\n    setIsTransactionDetailModalOpen(true);\r\n  };\r\n\r\n  const closeTransactionDetailModal = ()=>{\r\n    setIsTransactionDetailModalOpen(false);\r\n  };\r\n\r\n  const openTransactionDeleteModal = ()=>{\r\n    setIsTransactionDeleteModalOpen(true);\r\n  };\r\n\r\n  const closeTransactionDeleteModal = ()=>{\r\n    setIsTransactionDeleteModalOpen(false);\r\n  };\r\n\r\n  const onTransactionEditButtonClick = transaction=>{\r\n    setTransactionDetailModalTransaction(transaction);\r\n    openTransactionDetailModal();\r\n  };\r\n\r\n  const onTransactionDeleteButtonClick = transaction=>{\r\n    setTransactionDeleteModalTransaction(transaction);\r\n    openTransactionDeleteModal();\r\n  };\r\n\r\n  const onTransactionDetailModalSubmit = (updatedTransaction)=>{\r\n    onTransactionDetailModalSubmitProp(transactionDetailModalTransaction, updatedTransaction);\r\n    closeTransactionDetailModal();\r\n  };\r\n\r\n  const onTransactionDeleteModalSubmit = (deletedTransaction)=>{\r\n    onTransactionDeleteModalSubmitProp(transactionDeleteModalTransaction, deletedTransaction);\r\n    closeTransactionDeleteModal();\r\n  };\r\n\r\n  return (\r\n    <div className=\"view transactions-view\">\r\n      <DashboardBudgetCycleDropdown transactions={transactions} budgetCycle={budgetCycle} allBudgetCycles={allBudgetCycles} onChange={onBudgetCycleChange} squashed/>\r\n      <div className=\"container-fluid p-0\">\r\n        <h1 className=\"page-title display-3\">Transactions</h1>\r\n        <TransactionsImportForm isOpen={isTransactionImportFormOpen} onSubmit={onTransactionsImportFormSubmit} onFileInputChange={onTransactionsImportFormFileInputChange} />\r\n        <TransactionsData budgetCycleTransactions={budgetCycleTransactions} onTransactionEditButtonClick={onTransactionEditButtonClick} onTransactionDeleteButtonClick={onTransactionDeleteButtonClick} />\r\n        <TransactionsImportFormToggle onClick={onTransactionImportFormToggleClick} />\r\n        <TransactionDetailModal transaction={transactionDetailModalTransaction} allBudgetCycles={allBudgetCycles} categories={transactionCategories} types={transactionTypes} isOpen={isTransactionDetailModalOpen} onClose={closeTransactionDetailModal} onSubmit={onTransactionDetailModalSubmit} />\r\n        <TransactionDeleteModal transaction={transactionDeleteModalTransaction} isOpen={isTransactionDeleteModalOpen} onClose={closeTransactionDeleteModal} onSubmit={onTransactionDeleteModalSubmit} />\r\n        <TransactionsImportDuplicatesModal newTransactions={transactionsImportDuplicatesModalNewTransactions} duplicates={transactionsImportDuplicatesModalDuplicates} isOpen={isTransactionsImportDuplicatesModalOpen} onClose={onTransactionsImportDuplicatesModalClose} onSubmit={onTransactionsImportDuplicatesModalSubmit} />\r\n        <TransactionsImportConfirmedModal transactions={transactionsImportConfirmedModalTransactions} isOpen={isTransactionsImportConfirmedModalOpen} onClose={closeTransactionsImportConfirmedModal} onSubmit={onTransactionsImportConfirmedModalSubmit} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionsView;\r\n","import {useState, useEffect} from 'react';\r\n\r\nimport './index.scss';\r\n\r\nconst SettingsInput = ({ setting })=>{\r\n  const [name, setName] = useState(setting.name || \"\");\r\n  const [value, setValue] = useState(setting.value || \"\");\r\n\r\n  useEffect(()=>{\r\n    if (!setting) return;\r\n\r\n    setName(setting.name || \"\");\r\n    setValue(setting.value || \"\");\r\n  }, [setting]);\r\n\r\n  const onChange = event=>{\r\n    setValue(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"setting-input mb-3\">\r\n      <label htmlFor={name} className=\"form-label\">{name}</label>\r\n      <input id={name} className=\"form-control\" name={name} type=\"text\" value={value} onChange={onChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingsInput;\r\n","import SettingsInput from './../SettingsInput';\r\n\r\nimport './index.scss';\r\n\r\nconst SettingsForm = ({ settings, onSubmit:onSubmitProp })=>{\r\n  const onSubmit = event=>{\r\n    event.preventDefault();\r\n\r\n    const submittedSettings = [...event.target.querySelectorAll(\".setting-input [name]\")].reduce((data, {name, value})=>({...data, [name]: value}), {});\r\n\r\n    onSubmitProp(submittedSettings);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      {Object.entries(settings).map(([name, props])=>(<SettingsInput key={name} setting={{name, ...props}} />))}\r\n      <div className=\"d-flex justify-content-center mt-4\">\r\n        <button className=\"btn btn-primary\" type=\"submit\">Save</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SettingsForm;\r\n","import {useEffect} from 'react';\r\nimport {useLocation} from 'react-router-dom';\r\n\r\nimport SettingsForm from './../SettingsForm';\r\n\r\nimport './index.scss';\r\n\r\nconst SettingsView = ({ setFooterNavbar, settings, onSubmit })=>{\r\n  //Send the route to the footer navbar\r\n  const route = useLocation().pathname;\r\n  useEffect(()=>{\r\n    setFooterNavbar(route);\r\n  }, [route]);\r\n\r\n  return (\r\n    <div className=\"view settings-view\">\r\n      <div className=\"container\">\r\n        <h1 className=\"page-title display-3\">Settings</h1>\r\n        <SettingsForm settings={settings} onSubmit={onSubmit} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingsView;\r\n","import {useEffect, useRef} from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport './index.scss';\r\n\r\nconst FooterNavbar = ({ active })=>{\r\n  const footerNavbar = useRef(null);\r\n\r\n  const setActiveItem = (active, footerNavbar)=>{\r\n    if (!active) return;\r\n    const activePath = (process.env.NODE_ENV === \"production\" ? process.env.PUBLIC_URL : '')+(active === \"/\" ? \"/dashboard\" : active);\r\n    const navItems = [...footerNavbar.current.querySelectorAll(\".footer-nav-item\")];\r\n    const activeItem = navItems.find(navItem=>navItem.getAttribute(\"href\") === activePath);\r\n    navItems.forEach(navItem=>navItem.classList.remove(\"active\"));\r\n    if (activeItem) activeItem.classList.add(\"active\");\r\n  };\r\n\r\n  useEffect(()=>{\r\n    setActiveItem(active, footerNavbar)\r\n  }, [active]);\r\n\r\n  return (\r\n    <footer className=\"footer fixed-bottom\" ref={footerNavbar}>\r\n      <nav className=\"footer-nav nav nav-pills nav-justified\">\r\n        <Link className=\"footer-nav-item nav-link d-flex flex-column\" to=\"/dashboard\"><i className=\"footer-nav-item-icon fas fa-home pb-1\"></i>Dashboard</Link>\r\n        <Link className=\"footer-nav-item nav-link d-flex flex-column\" to=\"/budgets\"><i className=\"footer-nav-item-icon far fa-clipboard pb-1\"></i>Budgets</Link>\r\n        <Link className=\"footer-nav-item nav-link d-flex flex-column\" to=\"/transactions\"><i className=\"footer-nav-item-icon fas fa-list pb-1\"></i>Transactions</Link>\r\n        <Link className=\"footer-nav-item nav-link d-flex flex-column\" to=\"/settings\"><i className=\"footer-nav-item-icon fas fa-cogs pb-1\"></i>Settings</Link>\r\n      </nav>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default FooterNavbar;\r\n","import Modal from 'react-bootstrap/Modal';\r\nimport SettingsForm from './../SettingsForm';\r\n\r\nimport './index.scss';\r\n\r\nconst SignInSettingsModal = ({ settings, isOpen, onClose, onSubmit:onSubmitProp })=>{\r\n  const onSubmit = submittedSettings=>{\r\n    onSubmitProp(submittedSettings);\r\n\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <Modal id=\"signin-settings-modal\" show={isOpen} onHide={onClose}>\r\n      <Modal.Header>\r\n        <Modal.Title className=\"modal-title\">Sign In Settings</Modal.Title>\r\n        <button className=\"btn-close\" type=\"button\" data-bs-dismiss=\"modal\" onClick={onClose}></button>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"alert alert-warning d-flex align-items-center\" role=\"alert\">\r\n          <i className=\"fas fa-exclamation-triangle me-2\"></i>\r\n          Please assure the following settings are valid.\r\n        </div>\r\n        <SettingsForm settings={settings} onSubmit={onSubmit} />\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default SignInSettingsModal;\r\n","import {signOut} from './../../googleApi';\r\n\r\nimport './index.scss';\r\n\r\nconst GoogleApiUserButton = ({ signedInUser })=>{\r\n  return (\r\n    <div className=\"dropdown\">\r\n      <button className=\"user-button btn bg-light\" type=\"button\" id=\"user-button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n        <img className=\"user-button-image\" src={signedInUser.imageUrl} alt=\"signed in user image\"/>\r\n        <span className=\"user-button-name\">{signedInUser.firstName}</span>\r\n      </button>\r\n      <ul className=\"dropdown-menu\" aria-labelledby=\"user-button\">\r\n        <li><a className=\"dropdown-item\" onClick={signOut}>Sign out</a></li>\r\n      </ul>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default GoogleApiUserButton;\r\n","import Logo from './../Logo';\r\nimport GoogleApiUserButton from './../GoogleApiUserButton';\r\n\r\nimport './index.scss';\r\n\r\nconst Header = ({ signedInUser })=>{\r\n  return (\r\n    <header className=\"dashboard-header navbar-text fixed-top bg-primary\">\r\n      <div className=\"container d-flex justify-content-between\">\r\n        <Logo light />\r\n        <div className=\"d-flex justify-content-center align-items-center\">\r\n          <GoogleApiUserButton signedInUser={signedInUser}/>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","//Import package dependencies\nimport {useState, useEffect} from 'react';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\n\n//Import source code\nimport {getBudgetCycleFromDate, getBudgetCyclesFromTransactions, getAllBudgetCycles, typeCheckTransactions, isTransactionDuplicate, categorizeTransactionByDescription, importTransactions, typeCheckBudgetsData, typeCheckAccountsData, typeCheckAccountData, throwException} from './../../utilities';\nimport {getSpreadsheetId, setSpreadsheetId, getClientId, setClientId, initAuthorization} from './../../googleApi';\nimport {getTransactions, updateTransactions, getBudgetsData, getAccountsData, getAccountData} from './../../api';\nimport {useScript, useConsoleLog, useBudgetCycleBudgets} from './../../hooks';\n\n//Import custom components\nimport SignInView from './../SignInView';\nimport DashboardView from './../DashboardView';\nimport BudgetsView from './../BudgetsView';\nimport TransactionsView from './../TransactionsView';\nimport SettingsView from './../SettingsView';\nimport FooterNavbar from './../FooterNavbar';\nimport SignInSettingsModal from './../SignInSettingsModal';\nimport Header from './../Header';\nimport Logo from './../Logo';\n\n//Import styles\nimport './main.css';\nimport './index.scss';\n\n\nconst App = () => {\n  //Set application state\n  const [transactions, setTransactions] = useState([]);\n  const [budgetsData, setBudgetsData] = useState([]);\n  const [accountsData, setAccountsData] = useState([]);\n  const [accountData, setAccountData] = useState({});\n\n  const [footerNavbar, setFooterNavbar] = useState(null);\n  const [budgetCycle, setBudgetCycle] = useState(getBudgetCycleFromDate(new Date()));\n  const [transactionsImportDuplicatesModalNewTransactions, setTransactionsImportDuplicatesModalNewTransactions] = useState([]);\n  const [transactionsImportDuplicatesModalDuplicates, setTransactionsImportDuplicatesModalDuplicates] = useState([]);\n  const [isTransactionsImportDuplicatesModalOpen, setIsTransactionsImportDuplicatesModalOpen] = useState(false);\n  const [transactionsImportConfirmedModalTransactions, setTransactionsImportConfirmedModalTransactions] = useState([]);\n  const [isTransactionsImportConfirmedModalOpen, setIsTransactionsImportConfirmedModalOpen] = useState(false);\n  const [signedInUser, setSignedInUser] = useState(undefined);\n  const [isSignInSettingsModalOpen, setIsSignInSettingsModalOpen] = useState(false);\n  const [isLoadingAnimationComplete, setIsLoadingAnimationComplete] = useState(false);\n\n  //Declare settings\n  const settings = {\n    \"Client Id\": {\n      value: getClientId(),\n      update: clientId=>setClientId(clientId),\n    },\n    \"Spreadsheet id\": {\n      value: getSpreadsheetId(),\n      update: spreadsheetId=>setSpreadsheetId(spreadsheetId),\n    }\n  };\n\n  const transactionTypes = [\n    null,\n    //Credit card\n    \"Charges\",     //-\n    \"Payments\",    //+\n\n    //Checking/Savings\n    \"Debit\",       //-\n    \"Credit\",      //+\n    \"Withdrawal\",  //-\n    \"Deposit\",     //+\n    \"Transfer\",    //+/-\n    \"Payment\",     //-\n  ];\n\n  const [allBudgetCycles, setAllBudgetCycles] = useState(getAllBudgetCycles(transactions));\n  const budgetCycleBudgets = useBudgetCycleBudgets(budgetsData, budgetCycle);\n  const transactionCategories = [null, ...budgetCycleBudgets.map(b=>b.Name)];\n\n  //Check that the list of budget cycles remains updated with transaction data\n  useEffect(()=>\n    setAllBudgetCycles(getAllBudgetCycles(transactions))\n  , [transactions]);\n\n\n\n  //Log data\n  useConsoleLog(transactions, \"Transactions Data:\");\n  useConsoleLog(budgetsData, \"Budget Data:\");\n  useConsoleLog(accountsData, \"Accounts Data:\");\n  useConsoleLog(accountData, \"Account Data:\");\n  useConsoleLog(signedInUser, \"signedInUser:\");\n  useConsoleLog(allBudgetCycles, \"allBudgetCycles:\");\n  useConsoleLog(budgetCycle, \"budgetCycle:\");\n\n  const gapiLoaded = useScript(\"https://apis.google.com/js/api.js\");\n\n  //Create helper functions\n  const saveSettings = savedSettings=>{\n    //Call the update function for each setting\n    Object.entries(savedSettings).forEach(([settingName, settingValue])=>\n      settings[settingName].update(settingValue)\n    );\n  };\n\n  const connectToGoogleAPI = async ()=>{\n    if(!gapiLoaded) return;\n\n    //Try to initialize the Google API\n    try {\n      initAuthorization(onSignInChange, onSignInChange);\n    }\n    catch (err) {\n      //If credentials weren't found, prompt the user for the credentials\n      if (err.name === \"CredentialsNotFoundError\") {\n        return openSignInSettingsModal();\n        // throw new Error(\"Failed to get authorization credentials.\");\n      }\n      return throwException(err);\n    }\n  };\n\n  const onBudgetCycleChange = budgetCycle=>{\n    setBudgetCycle(budgetCycle);\n  };\n\n  //Create state handlers\n  const checkTransactionsForDuplicates = (previousTransactions, newTransactions)=>{\n    if(!previousTransactions.length) return newTransactions;\n\n    //Look for possible duplicate transactions,\n    // and confirm if they are duplicates (shouldn't be added),\n    // or not duplicates (should be added)\n    const duplicates = [];\n    newTransactions.forEach(newTransaction=>{\n      const duplicate = isTransactionDuplicate(newTransaction, previousTransactions);\n      if (duplicate) {\n        duplicates.push(duplicate);\n      }\n    });\n\n    //If there were no duplicates,\n    // open the confirmed imported transactions modal\n    if (!duplicates.length) {\n      console.log(\"confirmedTransactions: \", newTransactions);\n      setTransactionsImportConfirmedModalTransactions(newTransactions);\n      openTransactionsImportConfirmedModal();\n      return previousTransactions;\n    }\n\n    //Otherwise, ask user to confirm true duplicates,\n    // and just return the previous data for now\n    console.log(\"Duplicates: \", duplicates);\n    setTransactionsImportDuplicatesModalNewTransactions(newTransactions);\n    setTransactionsImportDuplicatesModalDuplicates(duplicates);\n    openTransactionsImportDuplicatesModal();\n\n    return previousTransactions;\n  };\n\n  const setTransactionsHandler = (previousTransactions, newTransactions, callback, oldTransaction)=>{\n    //If there are no new transactions, short-circuit\n    if ((Array.isArray(newTransactions) ? !newTransactions.length : newTransactions !== false && !newTransactions)) return previousTransactions;\n\n    //If there are new transactions, massage them\n    let transactions;\n    if (newTransactions) {\n      //Check that we have an array of transactions\n      let transactionsArray = newTransactions;\n      if (!(newTransactions instanceof Array)) transactionsArray = [newTransactions];\n\n      //Type check transactions data to convert from strings to the correct type\n      const typeCheckedTransactions = typeCheckTransactions(transactionsArray);\n\n      //Assign category & notes from description\n      transactions = typeCheckedTransactions.map(transaction=>categorizeTransactionByDescription(transaction));\n    }\n\n    //Return the data manipulation callback result, sorted\n    if (callback) return callback(previousTransactions, transactions, oldTransaction)\n      .sort((a,b)=>b.TransactionDate-a.TransactionDate);\n\n    //Otherwise, just return the transactions, sorted\n    return transactions.sort((a,b)=>b.TransactionDate-a.TransactionDate);\n  };\n\n  const setTransactionsWrapper = newTransactions=>{\n    //Import new transactions\n    setTransactions(previousTransactions=>{\n      //Run through transaction normalization\n      return setTransactionsHandler(previousTransactions, newTransactions);\n    });\n  };\n\n  const importTransactionsWrapper = newTransactions=>{\n    //Import new transactions\n    setTransactions(previousTransactions=>{\n      const callback = (previousTransactions, newTransactions)=>{\n        //Check for duplicates, and return depending if any were found\n        return checkTransactionsForDuplicates(previousTransactions, newTransactions);\n      };\n\n      //Run through transaction normalization\n      return setTransactionsHandler(previousTransactions, newTransactions, callback);\n    });\n  };\n\n  const insertTransactionsWrapper = newTransactions=>{\n    //Import new transactions\n    setTransactions(previousTransactions=>{\n      const callback = (previousTransactions, newTransactions)=>{\n        //Append the new transactions\n        return [...previousTransactions, ...newTransactions];\n      };\n\n      //Run through transaction normalization\n      return setTransactionsHandler(previousTransactions, newTransactions, callback);\n    });\n  };\n\n  const updateTransactionWrapper = (oldTransaction, newTransaction)=>{\n    //Update a single transaction\n    setTransactions(previousTransactions=>{\n      const callback = (previousTransactions, newTransactions, oldTransaction)=>{\n        //Get the single updated transaction wrapped in an array\n        const newTransaction = newTransactions[0];\n\n        //Update transactions with the new transaction\n        const transactions = [...previousTransactions]; //create deep copy\n        transactions[transactions.indexOf(oldTransaction)] = newTransaction;\n\n        return transactions;\n      };\n\n      //Run through transaction normalization\n      return setTransactionsHandler(previousTransactions, newTransaction, callback, oldTransaction);\n    });\n  };\n\n  const deleteTransactionWrapper = deletedTransaction=>{\n    //Delete a single transaction\n    setTransactions(previousTransactions=>{\n      const callback = (previousTransactions, transaction, deletedTransaction)=>{\n        //Update transactions with the new transaction\n        const transactions = [...previousTransactions]; //create deep copy\n        const index = transactions.indexOf(deletedTransaction);\n        transactions.splice(index, 1);\n\n        return transactions;\n      };\n\n      //Run through transaction normalization\n      return setTransactionsHandler(previousTransactions, false, callback, deletedTransaction);\n    });\n  };\n\n  const setBudgetsDataWrapper = newBudgetsData=>{\n    //Import new data\n    setBudgetsData(previousBudgetsData=>{\n      if (!newBudgetsData) return [];\n\n      const typeCheckedData = typeCheckBudgetsData(newBudgetsData);\n      return typeCheckedData;\n    });\n  };\n\n  const setAccountsDataWrapper = newAccountsData=>{\n    //Import new data\n    setAccountsData(previousAccountsData=>{\n      if (!newAccountsData) return [];\n\n      const typeCheckedData = typeCheckAccountsData(newAccountsData);\n      return typeCheckedData;\n    });\n  };\n\n  const setAccountDataWrapper = newAccountData=>{\n    //Import new data\n    setAccountData(previousAccountData=>{\n      if (!newAccountData) return {};\n\n      const typeCheckedData = typeCheckAccountData(newAccountData);\n      return typeCheckedData;\n    });\n  };\n\n\n  //Create event listeners\n  const onTransactionsImportFormSubmit = scrapedTransactionsData=>{\n    //Import the scraped transactions data\n    const transactions = importTransactions(scrapedTransactionsData, \"scraped\");\n\n    //Set the new transactions data\n    importTransactionsWrapper(transactions);\n  };\n\n  const onTransactionsImportFormFileInputChange = transactionsDataArray=>{\n    //Import the csv transactions data\n    const transactions = importTransactions(transactionsDataArray, \"csv\");\n\n    //Set the new transactions data\n    importTransactionsWrapper(transactions);\n  };\n\n  const onTransactionDetailModalSubmit = (oldTransaction, updatedTransaction)=>{\n    updateTransactionWrapper(oldTransaction, updatedTransaction);\n  };\n\n  const onTransactionDeleteModalSubmit = deletedTransaction=>{\n    deleteTransactionWrapper(deletedTransaction);\n  };\n\n  const openTransactionsImportDuplicatesModal = ()=>{\n    setIsTransactionsImportDuplicatesModalOpen(true);\n  };\n\n  const closeTransactionsImportDuplicatesModal = ()=>{\n    setIsTransactionsImportDuplicatesModalOpen(false);\n  };\n\n  const onTransactionsImportDuplicatesModalSubmit = (filteredNewTransactions)=>{\n    //Close the modal\n    closeTransactionsImportDuplicatesModal();\n\n    //Open the confirmed imported transactions modal\n    setTransactionsImportConfirmedModalTransactions(filteredNewTransactions);\n    openTransactionsImportConfirmedModal();\n  };\n\n  const openTransactionsImportConfirmedModal = ()=>{\n    setIsTransactionsImportConfirmedModalOpen(true);\n  };\n\n  const closeTransactionsImportConfirmedModal = ()=>{\n    setIsTransactionsImportConfirmedModalOpen(false);\n  };\n\n  const onTransactionsImportConfirmedModalSubmit = confirmedTransactions=>{\n    //Update transactions with the new transaction\n    insertTransactionsWrapper(confirmedTransactions);\n\n    //Close the modal\n    closeTransactionsImportConfirmedModal();\n  };\n\n  const onLogoTextScrollIn = ()=>{\n    setIsLoadingAnimationComplete(true);\n  };\n\n  const onSignInChange = signInInfo=>{\n    setSignedInUser(signInInfo);\n  };\n\n  const onSettingsViewSubmit = submittedSettings=>{\n    saveSettings(submittedSettings);\n  };\n\n  const openSignInSettingsModal = ()=>{\n    setIsSignInSettingsModalOpen(true);\n  };\n\n  const closeSignInSettingsModal = ()=>{\n    setIsSignInSettingsModalOpen(false);\n\n    //Re-attempt to initialize Google API again\n    connectToGoogleAPI();\n  };\n\n  const onSignInSettingsModalSubmit = submittedSettings=>{\n    saveSettings(submittedSettings);\n  };\n\n  //When the Google API JS library loads, initialize the Google API\n  useEffect(()=>\n    connectToGoogleAPI()\n    , [gapiLoaded]);\n\n  //Whenever the user gets logged in,\n  // attempt to query for data\n  useEffect(()=>{\n    //Run async function inside necessary useEffect sync function\n    (async ()=>{\n      if (!signedInUser) return;\n      setTransactionsWrapper(await getTransactions());\n      setBudgetsDataWrapper(await getBudgetsData());\n      setAccountsDataWrapper(await getAccountsData());\n      setAccountDataWrapper(await getAccountData());\n    })();\n  }, [signedInUser]);\n\n  //Whenever the transactions are updated, save them off as well\n  useEffect(()=>{\n    if (!transactions.length) return;\n    updateTransactions(transactions);\n  }, [transactions]);\n\n\n  //Return a \"loading page\" while determining if the user is signed in\n  if (!isLoadingAnimationComplete) return (\n    <div className=\"App\">\n      <Router basename={(process.env.NODE_ENV === \"production\" ? process.env.PUBLIC_URL : null)}>\n        <div className=\"d-flex justify-content-center align-items-center min-vh-100\">\n          <Logo scrollIn={true} onLogoTextScrollIn={onLogoTextScrollIn}/>\n        </div>\n      </Router>\n    </div>\n  );\n\n  //If the user has not signed in, send them to the sign in page,\n  // and while the Google API is loading, disable the sign in button\n  if (isLoadingAnimationComplete && !signedInUser) return (\n    <div className=\"App\">\n      <Router basename={(process.env.NODE_ENV === \"production\" ? process.env.PUBLIC_URL : null)}>\n        <SignInView isReadyForSignIn={!(signedInUser===undefined)}/>\n        <SignInSettingsModal settings={settings} isOpen={isSignInSettingsModalOpen} onClose={closeSignInSettingsModal} onSubmit={onSignInSettingsModalSubmit} />\n      </Router>\n    </div>\n  );\n\n  return (\n    <div className=\"App\">\n      <Router basename={(process.env.NODE_ENV === \"production\" ? process.env.PUBLIC_URL : null)}>\n        <Header signedInUser={signedInUser} />\n        <Switch>\n          <Route path={[\"/dashboard\", \"/\"]} exact>\n            <DashboardView signedInUser={signedInUser} transactions={transactions} accountsData={accountsData} accountData={accountData} budgetsData={budgetsData} budgetCycle={budgetCycle} allBudgetCycles={allBudgetCycles} onBudgetCycleChange={onBudgetCycleChange} setFooterNavbar={setFooterNavbar} />\n          </Route>\n          <Route path=\"/budgets\" exact>\n            <BudgetsView transactions={transactions} budgetsData={budgetsData} budgetCycle={budgetCycle} allBudgetCycles={allBudgetCycles} onBudgetCycleChange={onBudgetCycleChange} setFooterNavbar={setFooterNavbar} />\n          </Route>\n          <Route path=\"/transactions\" exact>\n            <TransactionsView transactions={transactions} budgetCycle={budgetCycle} allBudgetCycles={allBudgetCycles} transactionsImportDuplicatesModalNewTransactions={transactionsImportDuplicatesModalNewTransactions} transactionsImportDuplicatesModalDuplicates={transactionsImportDuplicatesModalDuplicates} isTransactionsImportDuplicatesModalOpen={isTransactionsImportDuplicatesModalOpen} onTransactionsImportDuplicatesModalClose={closeTransactionsImportDuplicatesModal} onTransactionsImportDuplicatesModalSubmit={onTransactionsImportDuplicatesModalSubmit} onTransactionsImportFormSubmit={onTransactionsImportFormSubmit} onTransactionsImportFormFileInputChange={onTransactionsImportFormFileInputChange} onTransactionDetailModalSubmit={onTransactionDetailModalSubmit} onTransactionDeleteModalSubmit={onTransactionDeleteModalSubmit} transactionsImportConfirmedModalTransactions={transactionsImportConfirmedModalTransactions} isTransactionsImportConfirmedModalOpen={isTransactionsImportConfirmedModalOpen} closeTransactionsImportConfirmedModal={closeTransactionsImportConfirmedModal} onTransactionsImportConfirmedModalSubmit={onTransactionsImportConfirmedModalSubmit} onBudgetCycleChange={onBudgetCycleChange} setFooterNavbar={setFooterNavbar} transactionCategories={transactionCategories} transactionTypes={transactionTypes}/>\n          </Route>\n          <Route path=\"/settings\" exact>\n            <SettingsView setFooterNavbar={setFooterNavbar} settings={settings} onSubmit={onSettingsViewSubmit}/>\n          </Route>\n        </Switch>\n        <FooterNavbar active={footerNavbar} />\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import {parseGoogleSheetsNumber} from './../googleApi';\r\n\r\nexport const typeCheckAccountsData = accountsData=>{\r\n  return accountsData.map(accountData=>({\r\n      ...accountData,\r\n      Balance: parseGoogleSheetsNumber(accountData.Balance),\r\n    })\r\n  );\r\n};\r\n","import {parseGoogleSheetsNumber, parseGoogleSheetsDate} from './../googleApi';\r\n\r\nexport const typeCheckAccountData = accountData=>{\r\n  return accountData.map(data=>({\r\n    ...data,\r\n    CreditScore: parseGoogleSheetsNumber(data.CreditScore),\r\n    LastUpdated: parseGoogleSheetsDate(data.LastUpdated),\r\n  }));\r\n};\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}